/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
function countryDirective(t){function e(){var e=this;e.country=[],e.init=function(){e.country=t.countries}}return{restrict:"AE",replace:!0,scope:{ngModel:"="},controller:e,controllerAs:"cc",template:["<select ",'name="countrySelect" ','class="form-control" ','ng-options="fam for fam in cc.country" ',"required ",'title= "select country in drop-down-list"> ','<option value="">Select country</value> ',"</select>"].join(""),link:function(t,e,n,i){i.init()}}}function stateDirective(t,e){function n(){t.init();var e=this;e.state=[],e.init=function(n){var i=t.countries,r=0,o=0;for(var a in i){if(i[a]==n){r=o;break}o++}var s=t.states,l=s[r+1].split("|");e.state=l}}return{restrict:"AE",replace:!0,scope:{country:"@",ngModel:"="},controller:n,controllerAs:"sc",template:["<select ",'name="stateSelect" ','class="form-control" ','ng-options="fam for fam in sc.state" ',"required ",'title= "Select state in drop-down-list"> ','<option value="">Select state</value> ',"</select>"].join(""),link:function(t,e,n,i){i.init(t.country),t.$watch("country",function(e,n){i.init(t.country),n!=e&&(t.ngModel="")})}}}function SOAPClientParameters(){var t=new Array;this.add=function(e,n){return t[e]=n,this},this.toXml=function(){var e="";for(var n in t)switch(typeof t[n]){case"string":case"number":case"boolean":case"object":e+="<"+n+">"+SOAPClientParameters._serialize(t[n])+"</"+n+">"}return e}}function SOAPClient(){}/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return G.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=ft[t]={};return Q.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function a(){J.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(wt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:bt.test(n)?Q.parseJSON(n):n}catch(r){}yt.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return J.activeElement}catch(t){}}function h(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=It.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function m(t,e){var n,i,r,o,a,s,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),a=vt.set(e,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)Q.event.add(e,r,u[r][n])}yt.hasData(t)&&(s=yt.access(t),l=Q.extend({},s),yt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&xt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,r=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function w(t){var e=J,n=Ft[t];return n||(n=b(t,e),"none"!==n&&n||(Ht=(Ht||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ht[0].contentDocument,e.write(),e.close(),n=b(t,e),Ht.detach()),Ft[t]=n),n}function _(t,e,n){var i,r,o,a,s=t.style;return n=n||Vt(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),jt.test(a)&&zt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Yt.length;r--;)if(e=Yt[r]+n,e in t)return e;return i}function x(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+Ct[o],!0,r)),i?("content"===n&&(a-=Q.css(t,"padding"+Ct[o],!0,r)),"margin"!==n&&(a-=Q.css(t,"border"+Ct[o]+"Width",!0,r))):(a+=Q.css(t,"padding"+Ct[o],!0,r),"padding"!==n&&(a+=Q.css(t,"border"+Ct[o]+"Width",!0,r)));return a}function $(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Vt(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=_(t,e,o),(0>r||null==r)&&(r=t.style[e]),jt.test(r))return r;i=a&&(Z.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(a?"border":"content"),i,o)+"px"}function D(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=vt.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(o[a]=vt.access(i,"olddisplay",w(i.nodeName)))):(r=kt(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function T(t,e,n,i,r){return new T.prototype.init(t,e,n,i,r)}function E(){return setTimeout(function(){Zt=void 0}),Zt=Q.now()}function A(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Ct[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function M(t,e,n){for(var i,r=(ne[e]||[]).concat(ne["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function P(t,e,n){var i,r,o,a,s,l,u,c,d=this,h={},p=t.style,f=t.nodeType&&kt(t),g=vt.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=Q.css(t,"display"),c="none"===u?vt.get(t,"olddisplay")||w(t.nodeName):u,"inline"===c&&"none"===Q.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Xt.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||Q.style(t,i)}else u=void 0;if(Q.isEmptyObject(h))"inline"===("none"===u?w(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=vt.access(t,"fxshow",{}),o&&(g.hidden=!f),f?Q(t).show():d.done(function(){Q(t).hide()}),d.done(function(){var e;vt.remove(t,"fxshow");for(e in h)Q.style(t,e,h[e])});for(i in h)a=M(f?g[i]:0,i,d),i in g||(g[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function O(t,e){var n,i,r,o,a;for(n in t)if(i=Q.camelCase(n),r=e[i],o=t[n],Q.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=Q.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function N(t,e,n){var i,r,o=0,a=ee.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zt||E(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zt||E(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(i=ee[o].call(u,t,c,u.opts))return i;return Q.map(c,M,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(pt)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function I(t,e,n,i){function r(s){var l;return o[s]=!0,Q.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===be;return r(e.dataTypes[0])||!o["*"]&&r("*")}function R(t,e){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Q.extend(!0,t,i),t}function B(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(Q.isArray(e))Q.each(e,function(e,r){n||xe.test(t)?i(t,r):F(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function z(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var j=[],V=j.slice,U=j.concat,W=j.push,G=j.indexOf,q={},K=q.toString,Y=q.hasOwnProperty,Z={},J=t.document,X="2.1.4",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:X,constructor:Q,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:j.sort,splice:j.splice},Q.extend=Q.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(u&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},Q.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?q[K.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):W.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&l.push(r);return U.apply([],l)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(i=V.call(arguments,2),r=function(){return t.apply(e||this,i.concat(V.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){q["[object "+e+"]"]=e.toLowerCase()});var rt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var r,o,a,s,l,u,d,p,f,g;if((e?e.ownerDocument||e:F)!==P&&M(e),e=e||P,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&N){if(11!==s&&(r=yt.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&B(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return X.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&_.getElementsByClassName)return X.apply(n,e.getElementsByClassName(a)),n}if(_.qsa&&(!L||!L.test(t))){if(p=d=H,f=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=S(t),(d=e.getAttribute("id"))?p=d.replace(wt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=bt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return X.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=j++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u=[z,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),(s=l[i])&&s[0]===z&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,h,t,s,l),b=n?o||(i?t:f||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=m(b,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?tt(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else b=m(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):X.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>s;s++)if(n=C.relative[t[s].type])c=[p(f(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;r>i&&!C.relative[t[i].type];i++);return v(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&h(t))}c.push(n)}return f(c)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&C.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,_=b.length;for(u&&(T=a!==P&&a);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=t[d++];)if(h(c,a,s)){l.push(c);break}u&&(z=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,a,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Z.call(l));v=m(v)}X.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(z=w,T=y),g};return r?i(a):a}var w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R,B,H="sizzle"+1*new Date,F=t.document,z=0,j=0,V=n(),U=n(),W=n(),G=function(t,e){return t===e&&(A=!0),0},q=1<<31,K={}.hasOwnProperty,Y=[],Z=Y.pop,J=Y.push,X=Y.push,Q=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){M()};try{X.apply(Y=Q.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(xt){X={apply:Y.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),N=!x(i),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(i.getElementsByClassName),_.getById=r(function(t){return O.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(_t,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(_t,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=_.getElementsByClassName&&function(t,e){return N?e.getElementsByClassName(t):void 0},I=[],L=[],(_.qsa=vt.test(i.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=vt.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){_.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),I.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=vt.test(O.compareDocumentPosition),B=e||vt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&B(F,t)?-1:e===i||e.ownerDocument===F&&B(F,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:E?tt(E,t)-tt(E,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&M(t),n=n.replace(dt,"='$1']"),_.matchesSelector&&N&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var i=R.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&M(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&M(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:_.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(A=!_.detectDuplicates,E=!_.sortStable&&t.slice(0),t.sort(G),A){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),u=c[t]||[],p=u[0]===z&&u[1],h=u[0]===z&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[z,p,h];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===z)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[z,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=$(t.replace(lt,"$1"));return r[H]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,Ct),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,Ct).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){(!i||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(a in C.filter)!(r=ft[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,l).slice(0)},$=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},D=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,d=!i&&S(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(_t,Ct),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(_t,Ct),bt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return X.apply(n,i),n;break}}return(u||$(t,d))(i,e,!N,n,bt.test(t)&&c(e.parentNode)||e),n},_.sortStable=H.split("").sort(G).join("")===H,_.detectDuplicates=!!A,M(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Q.find=rt,Q.expr=rt.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=rt.uniqueSort,Q.text=rt.getText,Q.isXMLDoc=rt.isXML,Q.contains=rt.contains;var ot=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Q.find.matchesSelector(i,t)?[i]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,r[e],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),at.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ct.prototype=Q.fn,lt=Q(J);var dt=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(Q(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var r=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(ht[t]||Q.unique(r),dt.test(t)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};Q.Callbacks=function(t){t="string"==typeof t?ft[t]||o(t):Q.extend({},t);var e,n,i,r,a,s,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(e){Q.each(e,function(e,n){var i=Q.type(n);"function"===i?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:e&&(r=n,c(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,i):i}},r={};return i.pipe=i.then,Q.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=V.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?V.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,e)):--s;return s||l.resolveWith(i,o),l.promise()}});var gt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(gt.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return gt||(gt=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},Q.ready.promise();var mt=Q.access=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===Q.type(n)){r=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(Q(t),n)})),e))for(;l>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?i=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,yt=new s,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),l(o,i,r[i])));vt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){yt.set(this,t)}):mt(this,function(e){var n,i=Q.camelCase(t);if(o&&void 0===e){if(n=yt.get(o,t),void 0!==n)return n;if(n=yt.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=vt.get(t,e),n&&(!i||Q.isArray(n)?i=vt.access(t,e,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,r=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Q.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=vt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var _t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},xt=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";Z.focusinBubbles="onfocusin"in t;var $t=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,m=vt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Q!==St&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],u=e.length;u--;)s=Et.exec(e[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p&&(d=Q.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=Q.event.special[p]||{},c=Q.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),Q.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,m=vt.hasData(t)&&vt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(pt)||[""],u=e.length;u--;)if(s=Et.exec(e[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=Q.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||Q.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)Q.event.remove(t,p+e[u],n,i,!0);Q.isEmptyObject(l)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,l,u,c,d,h=[i||J],p=Y.call(e,"type")?e.type:e,f=Y.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),
n=null==n?[e]:Q.makeArray(n,[e]),d=Q.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!Q.isWindow(i)){for(l=d.delegateType||p,Tt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||p,c=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Q.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Q.acceptData(i)||u&&Q.isFunction(i[p])&&!Q.isWindow(i)&&(s=i[u],s&&(i[u]=null),Q.event.triggered=p,i[p](),Q.event.triggered=void 0,s&&(i[u]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,i,r,o,a=[],s=V.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(l)>=0:Q.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Dt.test(r)?this.mouseHooks:$t.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,e);r||i.addEventListener(t,n,!0),vt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,e)-1;r?vt.access(i,e,r):(i.removeEventListener(t,n,!0),vt.remove(i,e))}}}),Q.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(t){return Q().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Q(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Mt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,Q.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,l,u,c=e.createDocumentFragment(),d=[],h=0,p=t.length;p>h;h++)if(r=t[h],r||0===r)if("object"===Q.type(r))Q.merge(d,r.nodeType?[r]:r);else if(Pt.test(r)){for(o=o||c.appendChild(e.createElement("div")),a=(Mt.exec(r)||["",""])[1].toLowerCase(),s=Bt[a]||Bt._default,o.innerHTML=s[1]+r.replace(At,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(e.createTextNode(r));for(c.textContent="",h=0;r=d[h++];)if((!i||-1===Q.inArray(r,i))&&(l=Q.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),l&&g(o),n))for(u=0;r=o[u++];)Lt.test(r.type||"")&&n.push(r);return c},cleanData:function(t){for(var e,n,i,r,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(r=n[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(i in e.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,e.handle);vt.cache[r]&&delete vt.cache[r]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Q.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!Bt[(Mt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(At,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var n,i,r,o,a,s,l=0,u=this.length,c=this,d=u-1,h=t[0],g=Q.isFunction(h);if(g||u>1&&"string"==typeof h&&!Z.checkClone&&Nt.test(h))return this.each(function(n){var i=c.eq(n);g&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(u&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),p),o=r.length;u>l;l++)a=n,l!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(r,v(a,"script"))),e.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,Q.map(r,f),l=0;o>l;l++)a=r[l],Lt.test(a.type||"")&&!vt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Rt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,i=[],r=Q(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(r[a])[e](n),W.apply(i,n.get());return this.pushStack(i)}});var Ht,Ft={},zt=/^margin/,jt=new RegExp("^("+_t+")(?!px)[a-z%]+$","i"),Vt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var Ut=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+_t+")(.*)$","i"),Gt=new RegExp("^([+-])=("+_t+")","i"),qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=_(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Q.camelCase(e),l=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=k(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Gt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=k(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=_(t,e,i)),"normal"===r&&e in Kt&&(r=Kt[e]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){return n?Ut.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,qt,function(){return $(t,e,i)}):$(t,e,i):void 0},set:function(t,n,i){var r=i&&Vt(t);return x(t,n,i?S(t,e,i,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=C(Z.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},_,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ct[i]+e]=o[i]||o[i-2]||o[0];return r}},zt.test(t)||(Q.cssHooks[t+e].set=x)}),Q.fn.extend({css:function(t,e){return mt(this,function(t,e,n){var i,r,o={},a=0;if(Q.isArray(e)){for(i=Vt(t),r=e.length;r>a;a++)o[e[a]]=Q.css(t,e[a],!1,i);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=T.propHooks[this.prop];return t&&t.get?t.get(this):T.propHooks._default.get(this)},run:function(t){var e,n=T.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Zt,Jt,Xt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+_t+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[P],ne={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Qt.exec(e),o=r&&r[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+i)&&Qt.exec(Q.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Q.isEmptyObject(t),o=Q.speed(e,n,i),a=function(){var e=N(this,Q.extend({},t),o);(r||vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Q.timers,a=vt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&te.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Q.timers,a=i?i.length:0;for(n.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(A(e,!0),t,i,r)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Zt=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Zt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var ie,re,oe=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return mt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===St?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),i=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?re:ie)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(pt);if(o&&1===t.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),re={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||Q.find.attr;oe[e]=function(t,e,i){var r,o;return i||(o=oe[e],oe[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,oe[e]=o),r}});var ae=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return mt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Q.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?Q.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=Q(this),o=t.match(pt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===St||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=Q.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(le,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(Z.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=Q.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ue=Q.now(),ce=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var de=/#.*$/,he=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},we="*/".concat("*"),_e=t.location.href,Ce=ve.exec(_e.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e,type:"GET",isLocal:fe.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":we,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,Q.ajaxSettings),e):R(Q.ajaxSettings,t)},ajaxPrefilter:L(ye),ajaxTransport:L(be),ajax:function(t,e){function n(t,e,n,a){var l,c,v,y,w,C=e;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",_.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=B(d,_,n)),y=H(d,y,_,l),l?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=y.state,c=y.data,v=y.error,l=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),_.status=t,_.statusText=(e||C)+"",l?f.resolveWith(h,[c,C,_]):f.rejectWith(h,[_,C,v]),_.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?c:v]),g.fireWith(h,[_,C]),u&&(p.trigger("ajaxComplete",[_,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,l,u,c,d=Q.ajaxSetup({},e),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?Q(h):Q.event,f=Q.Deferred(),g=Q.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=pe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(f.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||_e)+"").replace(de,"").replace(me,Ce[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(pt)||[""],null==d.crossDomain&&(l=ve.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Ce[1]&&l[2]===Ce[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),I(ye,d,e,_),2===b)return _;u=Q.event&&d.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ge.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ce.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=he.test(r)?r.replace(he,"$1_="+ue++):r+(ce.test(r)?"&":"?")+"_="+ue++)),d.ifModified&&(Q.lastModified[r]&&_.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&_.setRequestHeader("If-None-Match",Q.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+we+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)_.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===b))return _.abort();w="abort";for(c in{success:1,error:1,complete:1})_[c](d[c]);if(i=I(be,d,e,_)){_.readyState=1,u&&p.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(C){if(!(2>b))throw C;n(-1,C)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var ke=/%20/g,xe=/\[\]$/,Se=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,i=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,
i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace(ke,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&De.test(this.nodeName)&&!$e.test(t)&&(this.checked||!xt.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Te=0,Ee={},Ae={0:200,1223:204},Me=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ee)Ee[t]()}),Z.cors=!!Me&&"withCredentials"in Me,Z.ajax=Me=!!Me,Q.ajaxTransport(function(t){var e;return Z.cors||Me&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),a=++Te;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Ee[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(Ae[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ee[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Pe=[],Oe=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||Q.expando+"_"+ue++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Oe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Oe,"$1"+r):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||Q.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(r)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=at.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Ne=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Ne)return Ne.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?Q("<div>").append(Q.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Le=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u,c=Q.css(t,"position"),d=Q(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):d.css(h)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,i)?(typeof i.getBoundingClientRect!==St&&(r=i.getBoundingClientRect()),n=z(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(i=t.offset()),i.top+=Q.css(t[0],"borderTopWidth",!0),i.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Q.css(n,"marginTop",!0),left:e.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Le;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Le})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Q.fn[e]=function(r){return mt(this,function(e,r,o){var a=z(e);return void 0===o?a?a[n]:e[r]:void(a?a.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=C(Z.pixelPosition,function(t,n){return n?(n=_(t,e),jt.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return mt(this,function(e,n,i){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Q.css(e,n,a):Q.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ie=t.jQuery,Re=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Re),e&&t.jQuery===Q&&(t.jQuery=Ie),Q},typeof e===St&&(t.jQuery=t.$=Q),Q}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),a=this.interval,s="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](i):a.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(u){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+h>f.bottom?"top":"top"==s&&c.top-h<f.top?"bottom":"right"==s&&c.right+d>f.width?"left":"left"==s&&c.left-d<f.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,d,h);this.applyPlacement(g,s);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),h=d?2*c.left-r+l:2*c.top-o+u,p=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][p],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,l,a)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":t-i>=r+a?!1:"bottom";var s=null==this.affixed,l=s?r:o.top,u=s?a:e;return null!=n&&n>=r?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,e,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function n(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function s(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var l=(t.ui.version="1.12.1",0),u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(s[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=u.call(arguments,1),s=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(s=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):s=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var a,s;for(s=0;s<n.length;s++)a=r.classesElementLookup[n[s]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),r.classesElementLookup[n[s]]=a,i.push(n[s]),o&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,s):n.on(u,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,a=Math.abs,s=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return h.apply(this,arguments);r=t.extend({},r);var d,p,f,g,m,v,y=t(r.of),b=t.position.getWithinInfo(r.within),w=t.position.getScrollInfo(b),_=(r.collision||"flip").split(" "),C={};return v=i(y),y[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=u.exec(n[0]),e=u.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),d=e(C.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,s,l=t(this),u=l.outerWidth(),c=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),k=u+h+n(this,"marginRight")+w.width,x=c+v+n(this,"marginBottom")+w.height,S=t.extend({},m),$=e(C.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?S.left-=u:"center"===r.my[0]&&(S.left-=u/2),"bottom"===r.my[1]?S.top-=c:"center"===r.my[1]&&(S.top-=c/2),S.left+=$[0],S.top+=$[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[_[e]]&&t.ui.position[_[e]][n](S,{targetWidth:p,targetHeight:f,elemWidth:u,elemHeight:c,collisionPosition:i,collisionWidth:k,collisionHeight:x,offset:[d[0]+$[0],d[1]+$[1]],my:r.my,at:r.at,within:b,elem:l})}),r.using&&(s=function(t){var e=g.left-S.left,n=e+p-u,i=g.top-S.top,s=i+f-c,d={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:S.left,top:S.top,width:u,height:c},horizontal:0>n?"left":e>0?"right":"center",vertical:0>s?"top":i>0?"bottom":"middle"};u>p&&a(e+n)<p&&(d.horizontal="center"),c>f&&a(i+s)<f&&(d.vertical="middle"),o(a(e),a(n))>o(a(i),a(s))?d.important="horizontal":d.important="vertical",r.using.call(this,t,d)}),l.offset(t.extend(S,{using:s}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,u=s+e.collisionWidth-a-r;e.collisionWidth>a?l>0&&0>=u?(n=t.left+l+e.collisionWidth-a-r,t.left+=l-n):u>0&&0>=l?t.left=r:l>u?t.left=r+a-e.collisionWidth:t.left=r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,u=s+e.collisionHeight-a-r;e.collisionHeight>a?l>0&&0>=u?(n=t.top+l+e.collisionHeight-a-r,t.top+=l-n):u>0&&0>=l?t.top=r:l>u?t.top=r+a-e.collisionHeight:t.top=r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(n=t.left+h+p+f+e.collisionWidth-s-o,(0>n||n<a(c))&&(t.left+=h+p+f)):d>0&&(i=t.left-e.collisionPosition.marginLeft+h+p+f-l,(i>0||a(i)<d)&&(t.left+=h+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-s-l,h="top"===e.my[1],p=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(i=t.top+p+f+g+e.collisionHeight-s-o,(0>i||i<a(c))&&(t.top+=p+f+g)):d>0&&(n=t.top-e.collisionPosition.marginTop+p+f+g-l,(n>0||a(n)<d)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();var c=(t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),d="ui-effects-style",h="ui-effects-animated",p=t;t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,a=r.re.exec(e),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=n[l](s),n[c[l].cache]=o[c[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,a,s,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var d=this,h=t.type(r),p=this._rgba=[];return a!==e&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(c.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof u?f(c,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):f(c,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=u(t),n=!0,i=this;return f(c,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){return null!=a[e.idx]?n=a[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return f(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,a=s[o],u=i[o],c=d[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*e+a,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,d=.5*c;return e=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(e)%360,n,d,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},f(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),d="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(o,function(t,e){var i=d["object"===s?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),c?(r=u(c(h)),r[a]=h,r):u(h)},f(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,a={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var l=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&a[e+"Class"](r[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(h)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(d,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(d)||"",t.removeData(d)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){s.removeData(h),t.effects.cleanUp(s),"hide"===i.mode&&s.hide(),a()}function a(){t.isFunction(l)&&l.call(s[0]),t.isFunction(e)&&e()}var s=t(this);i.mode=c.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(s[u](),a()):r.call(s[0],i,n):(s.is(":hidden")?"hide"===u:"show"===u)?(s[u](),a()):r.call(s[0],i,a)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,a=i.queue,s=a||"fx",l=i.complete,u=i.mode,c=[],d=function(e){var n=t(this),i=t.effects.mode(n,u)||o;n.data(h,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](i.duration,l):this.each(function(){l&&l.call(this)}):a===!1?this.each(d).each(n):this.queue(s,d).queue(s,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}();var f,f=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,a=t(this),s=e.mode,l="hide"===s,u="show"===s,c=e.direction||"up",d=e.distance,h=e.times||5,p=2*h+(u||l?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),d||(d=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[m]=o,a.css("opacity",0).css(m,v?2*-d:2*d).animate(r,f,g)),l&&(d/=Math.pow(2,h-1)),r={},r[m]=o;h>y;y++)i={},i[m]=(v?"-=":"+=")+d,a.animate(i,f,g).animate(r,f,g),d=l?2*d:d/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+d,a.animate(i,f,g)),a.queue(n),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,u=s||"vertical"===a;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,a="show"===o,s=e.direction||"left",l="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s?"-=":"+=",c="+="===u?"-=":"+=",d={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=u+i,a&&(r.css(d),d[l]=c+i,d.opacity=1),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),t(b).remove(),n()}var o,a,s,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;d>o;o++)for(l=m.top+o*y,c=o-(d-1)/2,a=0;h>a;a++)s=m.left+a*v,u=a-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(g?u*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:s+(g?0:u*v),top:l+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),u=!!e.horizFirst,c=u?["right","bottom"]:["bottom","right"],d=e.duration/2,h=t.effects.createPlaceholder(i),p=i.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],v=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]),f.clip[c[0]]=s,g.clip[c[0]]=s,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(t.effects.clipToBox(g)),g.clip=p),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),d,e.easing).animate(t.effects.clipToBox(g),d,e.easing),n()}).animate(f,d,e.easing).animate(g,d,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,d="effect"!==c,h=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,y=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===h||"both"===h)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,l,r.from.y,v),y=t.effects.setTransition(a,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,u,r.from.x,v),y=t.effects.setTransition(a,u,r.to.x,y))),("content"===h||"both"===h)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),y=t.effects.setTransition(a,s,r.to.y,y)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),a.css(v),("content"===h||"both"===h)&&(l=l.concat(["marginTop","marginBottom"]).concat(s),u=u.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),a=t.effects.setTransition(n,l,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),a=t.effects.setTransition(n,u,r.to.x,a)),d&&t.effects.saveStyle(n),n.css(o),n.animate(a,e.duration,e.easing,function(){d&&t.effects.restoreStyle(n)})})),a.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===y.opacity&&a.css("opacity",v.opacity),d||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=o||a,l=2*(e.times||5)+(s?1:0),u=e.duration/l,c=0,d=1,h=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1);l>d;d++)i.animate({opacity:c},u,e.easing),c=1-c;i.animate({opacity:c},u,e.easing),i.queue(n),t.effects.unshift(i,h,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,h={},p={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),h[c]=(d?"-=":"+=")+a,p[c]=(d?"+=":"-=")+2*a,f[c]=(d?"-=":"+=")+2*a,r.animate(h,u,e.easing);s>i;i++)r.animate(p,u,e.easing).animate(f,u,e.easing);r.animate(p,u,e.easing).animate(h,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],h[u]=(c?-1:1)*d+r,h.clip=o.cssClip(),h.clip[a[l][1]]=h.clip[a[l][0]],"show"===s&&(o.cssClip(h.clip),o.css(u,h[u]),h.clip=i,h[u]=r),o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}));/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.focusable=function(n,i){var r,o,a,s,l,u=n.nodeName.toLowerCase();return"area"===u?(r=n.parentNode,o=r.name,n.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(u)?(s=!n.disabled,s&&(l=t(n).closest("fieldset")[0],l&&(s=!l.disabled))):s="a"===u?n.href||i:i,s&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,u=l?t():a.next(),c=o.next(),d={oldHeader:o,oldPanel:c,newHeader:l?t():a,newPanel:u};e.preventDefault(),s&&!r.collapsible||this._trigger("beforeActivate",e,d)===!1||(r.active=l?!1:this.headers.index(a),this.active=s?t():a,this._toggle(d),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){a._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||c.easing,o=o||d.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,a=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var g=(t.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,a={};return r?"controlgroupLabel"===i?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[i](s);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o?o:r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(g,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}});/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,i="input[name='"+t.ui.escapeSelector(n)+"']";return n?(e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,s,l,u,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},o!==!1&&(a(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=17,s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&o.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},C=function(e,i,r){var o=-1,a=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=_("d");break;case"D":C("D",d,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=C("M",p,f);break;case"y":g=_("y");break;case"@":s=new Date(_("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((_("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),a,s);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}u=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R,B,H,F=new Date,z=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),j=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Y=1!==G[0]||1!==G[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),X=this._getMinMaxDate(t,"max"),Q=t.drawMonth-q,tt=t.drawYear;if(0>Q&&(Q+=12,tt--),X)for(e=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-G[0]*G[1]+1,X.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)Q--,0>Q&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-K,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+K,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Z:z,a=W?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",C=0;C<G[0];C++){for(k="",this.maxRows=4,x=0;x<G[1];x++){if(S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),$=" ui-corner-all",D="",Y){if(D+="<div class='ui-datepicker-group",G[1]>1)switch(x){case 0:D+=" ui-datepicker-group-first",$=" ui-corner-"+(j?"right":"left");break;case G[1]-1:D+=" ui-datepicker-group-last",$=" ui-corner-"+(j?"left":"right");break;default:D+=" ui-datepicker-group-middle",$=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===C?j?o:i:"")+(/all|right/.test($)&&0===C?j?i:o:"")+this._generateMonthYearHeader(t,Q,tt,J,X,C>0||x>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)E=(_+c)%7,T+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E]+"'>"+p[E]+"</span></th>";for(D+=T+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),M=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,P=Math.ceil((M+A)/7),O=Y&&this.maxRows>P?this.maxRows:P,this.maxRows=O,N=this._daylightSavingAdjust(new Date(tt,Q,1-M)),L=0;O>L;L++){for(D+="<tr>",I=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",_=0;7>_;_++)R=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],B=N.getMonth()!==Q,H=B&&!y||!R[0]||J&&J>N||X&&N>X,I+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+R[1]+(N.getTime()===Z.getTime()?" "+this._currentClass:"")+(N.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===z.getTime()?" ui-state-highlight":"")+(N.getTime()===Z.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);D+=I+"</tr>"}Q++,Q>11&&(Q=0,tt++),D+="</tbody></table>"+(Y?"</div>"+(G[0]>0&&x===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}w+=k}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var l,u,c,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";var v=(t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){v=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,l,u,c,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,u=l+i.snapElements[h].width,c=i.snapElements[h].top-i.margins.top,d=c+i.snapElements[h].height,l-g>v||m>u+g||c-g>b||y>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(d-y)<=g,a=Math.abs(l-v)<=g,s=Math.abs(u-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(d-b)<=g,a=Math.abs(l-m)<=g,s=Math.abs(u-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),l?(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=s-e.minWidth),i&&u&&(t.left=s-e.maxWidth),a&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,l=t(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||e.shiftKey,d={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,u=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,h=Math.round((r.height-o.height)/c)*c,p=o.width+d,f=o.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=u),y&&(f+=c),g&&(p-=u),m&&(f-=c),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=a.left-d):((0>=f-c||0>=p-u)&&(e=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=a.top-h):(f=c-e.height,n.size.height=f,n.position.top=a.top+o.height-f),p-u>0?(n.size.width=p,n.position.left=a.left-d):(p=u-e.width,n.size.width=p,n.position.left=a.left+o.width-p))}});t.ui.resizable;/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||n===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&y(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var y=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return o>=u&&d>=s&&a>=c&&h>=l;case"intersect":return u<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<d&&c<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(a>=c&&h>=a||l>=c&&h>=l||c>a&&l>h)&&(o>=u&&d>=o||s>=u&&d>=s||u>o&&s>d);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&y(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=y(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>s||c.right<o||c.top>l||c.bottom<a):"fit"===r.tolerance&&(u=c.left>o&&c.right<s&&c.top>a&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)a.push(o);this.handles=r.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,l,u,c=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===d.min))&&(r=n,o=t(this),a=e)}),s=this._start(e,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),a=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(n=0===e?Math.min(r,n):Math.max(r,n)),a[e]=n),n!==o&&(i=this._trigger("slide",t,this._uiHash(e,n,a)),i!==!1&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e,t>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,l=this,u=this._animateOff?!1:s.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,r,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,a),n===!1))return}switch(o=this.options.step,i=r=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,a,r)},
keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>s&&l>i+u,h="y"===this.options.axis||e+c>o&&a>e+c,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return o?(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i],this.document[0]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],s=d[n][0],i=0,u=s.length;u>i;i++)l=t(s[i]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,l,u,c,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],u=!1,e[d]-l>this.items[i][s]/2&&(u=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:s(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:s(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:s(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:s(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void s(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner;/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=n?!1:0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(i(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,a=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+a,o=e.element.find(r),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),e===!0||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?t():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:u,newTab:s?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=s?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){u.of=t,a.is(":hidden")||a.position(u)}var o,a,s,l,u=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=t("<div>").html(a.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=arguments[0],o=arguments[1],a="["+(t?t+":":"")+r+"] ",s=G(arguments,2).map(function(t){return xt(t,Zi.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+r,i=0,n="?";i<s.length;i++,n="&")a+=n+"p"+i+"="+encodeURIComponent(s[i]);return new e(a)}}function n(t){return _(t)?void(w(t.objectMaxDepth)&&(Zi.objectMaxDepth=i(t.objectMaxDepth)?t.objectMaxDepth:NaN)):Zi}function i(t){return x(t)&&t>0}function r(t){if(null==t||T(t))return!1;if(fr(t)||k(t)||nr&&t instanceof nr)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,a;if(t)if($(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(fr(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;a>i;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(C(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Yi.call(t,i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function l(){return++hr}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;o>r;++r){var a=e[r];if(_(a)||$(a))for(var s=Object.keys(a),l=0,d=s.length;d>l;l++){var h=s[l],p=a[h];n&&_(p)?S(p)?t[h]=new Date(p.valueOf()):D(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):R(p)?t[h]=p.clone():(_(t[h])||(t[h]=fr(p)?[]:{}),c(t[h],[p],!0)):t[h]=p}}return u(t,i),t}function d(t){return c(t,or.call(arguments,1),!1)}function h(t){return c(t,or.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function f(t,e){return d(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return $(t.toString)&&t.toString!==lr}function b(t){return"undefined"==typeof t}function w(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function C(t){return null!==t&&"object"==typeof t&&!ur(t)}function k(t){return"string"==typeof t}function x(t){return"number"==typeof t}function S(t){return"[object Date]"===lr.call(t)}function $(t){return"function"==typeof t}function D(t){return"[object RegExp]"===lr.call(t)}function T(t){return t&&t.window===t}function E(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===lr.call(t)}function M(t){return"[object FormData]"===lr.call(t)}function P(t){return"[object Blob]"===lr.call(t)}function O(t){return"boolean"==typeof t}function N(t){return t&&$(t.then)}function L(t){return t&&x(t.length)&&gr.test(lr.call(t))}function I(t){return"[object ArrayBuffer]"===lr.call(t)}function R(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function B(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function H(t){return Ji(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function z(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function j(t,e,n){function r(t,e,n){if(n--,0>n)return"...";var i,r=e.$$hashKey;if(fr(t))for(var o=0,s=t.length;s>o;o++)e.push(a(t[o],n));else if(C(t))for(i in t)e[i]=a(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=a(t[i],n));else for(i in t)Yi.call(t,i)&&(e[i]=a(t[i],n));return u(e,r),e}function a(t,e){if(!_(t))return t;var n=l.indexOf(t);if(-1!==n)return c[n];if(T(t)||E(t))throw cr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=s(t);return void 0===o&&(o=fr(t)?[]:Object.create(ur(t)),i=!0),l.push(t),c.push(o),i?r(t,o,e):o}function s(t){switch(lr.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}return $(t.cloneNode)?t.cloneNode(!0):void 0}var l=[],c=[];if(n=i(n)?n:NaN,e){if(L(e)||I(e))throw cr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw cr("cpi","Can't copy! Source and destination are identical.");return fr(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),l.push(t),c.push(e),r(t,e,n)}return a(t,n)}function V(t,e){return t===e||t!==t&&e!==e}function U(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!fr(t)){if(S(t))return S(e)?V(t.getTime(),e.getTime()):!1;if(D(t))return D(e)?t.toString()===e.toString():!1;if(E(t)||E(e)||T(t)||T(e)||fr(e)||S(e)||D(e))return!1;r=bt();for(i in t)if("$"!==i.charAt(0)&&!$(t[i])){if(!U(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&w(e[i])&&!$(e[i]))return!1;return!0}if(!fr(e))return!1;if((n=t.length)===e.length){for(i=0;n>i;i++)if(!U(t[i],e[i]))return!1;return!0}}return!1}function W(t,e,n){return t.concat(or.call(e,n))}function G(t,e){return or.call(t,e||0)}function q(t,e){var n=arguments.length>2?G(arguments,2):[];return!$(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,W(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function K(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:T(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":E(n)&&(i="$SCOPE"),i}function Y(t,e){return b(t)?void 0:(x(e)||(e=e?2:null),JSON.stringify(t,K,e))}function Z(t){return k(t)?JSON.parse(t):t}function J(t,e){t=t.replace(wr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return pr(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Q(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=J(e,i);return X(t,n*(r-i))}function tt(t){t=nr(t).clone();try{t.empty()}catch(e){}var n=nr("<div>").append(t).html();try{return t[0].nodeType===Dr?Ji(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Ji(e)})}catch(e){return Ji(n)}}function et(t){try{return decodeURIComponent(t)}catch(e){}}function nt(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=et(i),w(i)&&(r=w(r)?et(r):!0,Yi.call(e,i)?fr(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function it(t){var e=[];return o(t,function(t,n){fr(t)?o(t,function(t){e.push(ot(n,!0)+(t===!0?"":"="+ot(t,!0)))}):e.push(ot(n,!0)+(t===!0?"":"="+ot(t,!0)))}),e.length?e.join("&"):""}function rt(t){return ot(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ot(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function at(t,e){var n,i,r=_r.length;for(i=0;r>i;++i)if(n=_r[i]+e,k(n=t.getAttribute(n)))return n;return null}function st(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var i=n.attributes,r=[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")];return r.every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function lt(e,n){var i,r,a={};if(o(_r,function(t){var n=t+"app";!i&&e.hasAttribute&&e.hasAttribute(n)&&(i=e,r=e.getAttribute(n))}),o(_r,function(t){var n,o=t+"app";!i&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))}),i){if(!Cr)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==at(i,"strict-di"),n(i,r?[r]:[],a)}}function ut(e,n,i){_(i)||(i={});var r={strictDi:!1};i=d(r,i);var a=function(){if(e=nr(e),e.injector()){var r=e[0]===t.document?"document":tt(e);throw cr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=de(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),dr.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),a()},void($(dr.resumeDeferredBootstrap)&&dr.resumeDeferredBootstrap()))}function ct(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function dt(t){var e=dr.element(t).injector();if(!e)throw cr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ht(t,e){return e=e||"_",t.replace(kr,function(t,n){return(n?e:"")+t.toLowerCase()})}function pt(){var e;if(!xr){var n=br();ir=b(n)?t.jQuery:n?t[n]:void 0,ir&&ir.fn.on?(nr=ir,d(ir.fn,{scope:Ur.scope,isolateScope:Ur.isolateScope,controller:Ur.controller,injector:Ur.injector,inheritedData:Ur.inheritedData}),e=ir.cleanData,ir.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=ir._data(i,"events"),n&&n.$destroy&&ir(i).triggerHandler("$destroy");e(t)}):nr=It,dr.element=nr,xr=!0}}function ft(t,e,n){if(!t)throw cr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function gt(t,e,n){return n&&fr(t)&&(t=t[t.length-1]),ft($(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function mt(t,e){if("hasOwnProperty"===t)throw cr("badname","hasOwnProperty is not a valid {0} name",e)}function vt(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;a>s;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&$(t)?q(o,t):t}function yt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=nr(or.call(t,0,r))),e.push(n));return e||t}function bt(){return Object.create(null)}function wt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!y(t)||fr(t)||S(t)?Y(t):t.toString()}return t}function _t(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s={},l=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return l(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=l),function(){return i[n||"push"]([t,e,arguments]),h}}function n(t,n,i){return i||(i=l),function(r,o){return o&&$(o)&&(o.$$moduleName=e),i.push([t,n,arguments]),h}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var l=[],u=[],c=[],d=t("$injector","invoke","push",u),h={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(t){if(w(t)){if(!_(t))throw r("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:d,run:function(t){return c.push(t),this}};return a&&d(a),h})}})}function Ct(t,e){if(fr(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function kt(t,e){var n=[];return i(e)&&(t=j(t,null,e)),JSON.stringify(t,function(t,e){if(e=K(t,e),_(e)){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}function xt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):b(t)?"undefined":"string"!=typeof t?kt(t,e):t}function St(i){d(i,{errorHandlingConfig:n,bootstrap:ut,copy:j,extend:d,merge:h,equals:U,element:nr,forEach:o,injector:de,noop:g,bind:q,toJson:Y,fromJson:Z,identity:m,isUndefined:b,isDefined:w,isString:k,isFunction:$,isObject:_,isNumber:x,isElement:R,isArray:fr,version:Mr,isDate:S,lowercase:Ji,uppercase:Xi,callbacks:{$$counter:0},getTestability:dt,reloadWithDebugInfo:ct,$$minErr:e,$$csp:yr,$$encodeUriSegment:rt,$$encodeUriQuery:ot,$$stringify:wt}),rr=_t(t),rr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:An}),t.provider("$compile",Ce).directive({a:Qo,input:ba,textarea:ba,form:oa,script:ps,select:ms,option:vs,ngBind:Ca,ngBindHtml:xa,ngBindTemplate:ka,ngClass:$a,ngClassEven:Ta,ngClassOdd:Da,ngCloak:Ea,ngController:Aa,ngForm:aa,ngHide:as,ngIf:Oa,ngInclude:Na,ngInit:Ia,ngNonBindable:Ja,ngPluralize:es,ngRepeat:ns,ngShow:os,ngStyle:ss,ngSwitch:ls,ngSwitchWhen:us,ngSwitchDefault:cs,ngOptions:ts,ngTransclude:hs,ngModel:Ka,ngList:Ra,ngChange:Sa,pattern:bs,ngPattern:bs,required:ys,ngRequired:ys,minlength:_s,ngMinlength:_s,maxlength:ws,ngMaxlength:ws,ngValue:_a,ngModelOptions:Za}).directive({ngInclude:La}).directive(ta).directive(Ma),t.provider({$anchorScroll:he,$animate:lo,$animateCss:ho,$$animateJs:ao,$$animateQueue:so,$$AnimateRunner:co,$$animateAsyncRun:uo,$browser:ye,$cacheFactory:be,$controller:Te,$document:Ee,$$isDocumentHidden:Ae,$exceptionHandler:Me,$filter:Wn,$$forceReflow:bo,$interpolate:We,$interval:Ge,$http:ze,$httpParamSerializer:Oe,$httpParamSerializerJQLike:Ne,$httpBackend:Ve,$xhrFactory:je,$jsonpCallbacks:Do,$location:ln,$log:un,$parse:xn,$rootScope:En,$q:Sn,$$q:$n,$sce:Ln,$sceDelegate:Nn,$sniffer:In,$templateCache:we,$templateRequest:Rn,$$testability:Bn,$timeout:Hn,$window:jn,$$rAF:Tn,$$jqLite:re,$$Map:Zr,$$cookieReader:Un})}]).info({angularVersion:"1.6.4"})}function $t(){return++Or}function Dt(t){return Et(t.replace(Lr,"ms-"))}function Tt(t,e){return e.toUpperCase()}function Et(t){return t.replace(Nr,Tt)}function At(t){return!Hr.test(t)}function Mt(t){var e=t.nodeType;return e===Sr||!e||e===Er}function Pt(t){for(var e in Pr[t.ng339])return!0;return!1}function Ot(t,e){var n,i,r,a,s=e.createDocumentFragment(),l=[];if(At(t))l.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),i=(Fr.exec(t)||["",""])[1].toLowerCase(),r=jr[i]||jr._default,n.innerHTML=r[1]+t.replace(zr,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;l=W(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function Nt(e,n){n=n||t.document;var i;return(i=Br.exec(e))?[n.createElement(i[1])]:(i=Ot(e,n))?i.childNodes:[]}function Lt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function It(t){if(t instanceof It)return t;var e;if(k(t)&&(t=mr(t),e=!0),!(this instanceof It)){if(e&&"<"!==t.charAt(0))throw Rr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new It(t)}e?Gt(this,Nt(t)):$(t)?Xt(t):Gt(this,t)}function Rt(t){return t.cloneNode(!0)}function Bt(t,e){!e&&Mt(t)&&nr.cleanData([t]),t.querySelectorAll&&nr.cleanData(t.querySelectorAll("*"))}function Ht(t,e,n,i){if(w(i))throw Rr("offargs","jqLite#off() does not support the `selector` argument");var r=zt(t),a=r&&r.events,s=r&&r.handle;if(s)if(e){var l=function(e){var i=a[e];w(n)&&z(i||[],n),w(n)&&i&&i.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){l(t),Ir[t]&&l(Ir[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Ft(t,e){var n=t.ng339,i=n&&Pr[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ht(t)),delete Pr[n],t.ng339=void 0}}function zt(t,e){var n=t.ng339,i=n&&Pr[n];return e&&!i&&(t.ng339=n=$t(),i=Pr[n]={events:{},data:{},handle:void 0}),i}function jt(t,e,n){if(Mt(t)){var i,r=w(n),o=!r&&e&&!_(e),a=!e,s=zt(t,!o),l=s&&s.data;if(r)l[Et(e)]=n;else{if(a)return l;if(o)return l&&l[Et(e)];for(i in e)l[Et(i)]=e[i]}}}function Vt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ut(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",mr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+mr(e)+" "," ")))})}function Wt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=mr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",mr(n))}}function Gt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function qt(t,e){return Kt(t,"$"+(e||"ngController")+"Controller")}function Kt(t,e,n){t.nodeType===Er&&(t=t.documentElement);for(var i=fr(e)?e:[e];t;){for(var r=0,o=i.length;o>r;r++)if(w(n=nr.data(t,i[r])))return n;t=t.parentNode||t.nodeType===Ar&&t.host}}function Yt(t){for(Bt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Zt(t,e){e||Bt(t);var n=t.parentNode;n&&n.removeChild(t)}function Jt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):nr(n).on("load",e)}function Xt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Qt(t,e){var n=Wr[e.toLowerCase()];return n&&Gr[H(t)]&&n}function te(t){return qr[t]}function ee(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||ne;o>1&&(r=Ct(r));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(t,n,r[l])}};return n.elem=t,n}function ne(t,e,n){n.call(t,e)}function ie(t,e,n){var i=e.relatedTarget;(!i||i!==t&&!Vr.call(t,i))&&n.call(t,e)}function re(){this.$get=function(){return d(It,{hasClass:function(t,e){return t.attr&&(t=t[0]),Vt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Wt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)}})}}function oe(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||l)():i+":"+t}function ae(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function se(t){return Function.prototype.toString.call(t)}function le(t){var e=se(t).replace(eo,""),n=e.match(Jr)||e.match(Xr);return n}function ue(t){var e=le(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ce(t,e,n){var i,r,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw k(n)&&n||(n=t.name||ue(t)),no("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=le(t),o(r[1].split(Qr),function(t){t.replace(to,function(t,e,n){i.push(n)})})}t.$inject=i}}else fr(t)?(a=t.length-1,gt(t[a],"fn"),i=t.slice(0,a)):gt(t,"fn",!0);return i}function de(t,e){function n(t){return function(e,n){return _(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(mt(t,"service"),($(e)||fr(e))&&(e=C.instantiate(e)),!e.$get)throw no("pget","Provider '{0}' must define $get factory method.",t);return w[t+g]=e}function r(t,e){return function(){var n=D.invoke(e,this);if(b(n))throw no("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return i(t,{$get:n!==!1?r(t,e):e})}function l(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return a(t,v(e),!1)}function c(t,e){mt(t,"constant"),w[t]=e,x[t]=e}function d(t,e){var n=C.get(t+g),i=n.$get;n.$get=function(){var t=D.invoke(i,n);return D.invoke(e,null,{$delegate:t})}}function h(t){ft(b(t)||fr(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!y.get(t)){y.set(t,!0);try{k(t)?(e=rr(t),D.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):$(t)?n.push(C.invoke(t)):fr(t)?n.push(C.invoke(t)):gt(t,"module")}catch(r){throw fr(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1===r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),no("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function p(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===f)throw no("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=f,t[e]=n(e,i),t[e]}catch(r){throw t[e]===f&&delete t[e],r}finally{m.shift()}}function r(t,n,r){for(var o=[],a=de.$$annotate(t,e,r),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw no("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(t){if(er||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return O(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(se(t))),e}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return fr(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=fr(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:de.$$annotate,has:function(e){return w.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var f={},g="Provider",m=[],y=new Yr,w={$provide:{provider:n(i),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:d}},C=w.$injector=p(w,function(t,e){throw dr.isString(e)&&m.push(e),no("unpr","Unknown provider: {0}",m.join(" <- "))}),x={},S=p(x,function(t,e){var n=C.get(t+g,e);return D.invoke(n.$get,n,void 0,t)}),D=S;w["$injector"+g]={$get:v(S)},D.modules=C.modules=bt();var T=h(t);return D=S.get("$injector"),D.strictDi=e,o(T,function(t){t&&D.invoke(t)}),D}function he(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===H(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if($(t))t=t();else if(R(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=k(t)?t:x(t)?t.toString():n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=r(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Jt(function(){i.$evalAsync(s)})}),s}]}function pe(t,e){return t||e?t?e?(fr(t)&&(t=t.join(" ")),fr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function fe(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ro)return n}}function ge(t){k(t)&&(t=t.split(" "));var e=bt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function me(t){return _(t)?t:{}}function ve(t,e,n,i){function r(t){try{t.apply(null,G(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){x=null,u()}function l(){w=S(),w=b(w)?null:w,U(w,T)&&(w=T),T=w,_=w}function u(){var t=_;l(),(C!==c.url()||t!==w)&&(C=c.url(),_=w,o($,function(t){t(c.url(),w)}))}var c=this,d=t.location,h=t.history,p=t.setTimeout,f=t.clearTimeout,m={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(t){0===v?t():y.push(t)};var w,_,C=d.href,k=e.find("base"),x=null,S=i.history?function(){try{return h.state}catch(t){}}:g;l(),c.url=function(e,n,r){if(b(r)&&(r=null),d!==t.location&&(d=t.location),h!==t.history&&(h=t.history),e){var o=_===r;if(C===e&&(!i.history||o))return c;var s=C&&Xe(C)===Xe(e);return C=e,_=r,!i.history||s&&o?(s||(x=e),n?d.replace(e):s?d.hash=a(e):d.href=e,d.href!==e&&(x=e)):(h[n?"replaceState":"pushState"](r,"",e),l()),x&&(x=e),c}return x||d.href.replace(/%27/g,"'")},c.state=function(){return w};var $=[],D=!1,T=null;c.onUrlChange=function(e){return D||(i.history&&nr(t).on("popstate",s),nr(t).on("hashchange",s),D=!0),$.push(e),e},c.$$applicationDestroyed=function(){nr(t).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var t=k.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return v++,n=p(function(){delete m[n],r(t)},e||0),m[n]=!0,n},c.defer.cancel=function(t){return m[t]?(delete m[t],f(t),r(g),!0):!1}}function ye(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ve(t,i,e,n)}]}function be(){this.$get=function(){function t(t,i){function r(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=d({},i,{id:t}),l=bt(),u=i&&i.capacity||Number.MAX_VALUE,c=bt(),h=null,p=null;return n[t]={put:function(t,e){if(!b(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}return t in l||a++,l[t]=e,a>u&&this.remove(p.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete c[t]}t in l&&(delete l[t],a--)},removeAll:function(){l=bt(),a=0,c=bt(),h=p=null},destroy:function(){l=null,s=null,c=null,delete n[t]},info:function(){return d({},s,{size:a})}}}var n={};return t.info=function(){var t={};return o(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function we(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function _e(){}function Ce(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=bt();return o(t,function(t,o){if(t in D)return void(r[o]=D[t]);var a=t.match(i);if(!a)throw po("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(D[t]=r[o])}),r}function r(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw po("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==Ji(e))throw po("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw po("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function l(t){var e=t.require||t.controller&&t.name;return!fr(e)&&_(e)&&o(e,function(t,n){var i=t.match(x),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}function u(t,e){if(t&&(!k(t)||!/[EACM]/.test(t)))throw po("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var c={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,C=B("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,D=bt();this.directive=function L(t,n){return ft(t,"name"),mt(t,"directive"),k(t)?(a(t),ft(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+h,["$injector","$exceptionHandler",function(e,n){var i=[];return o(c[t],function(r,o){try{var a=e.invoke(r);$(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=l(a),a.restrict=u(a.restrict,t),a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),c[t].push(n)):o(t,s(L)),this},this.component=function(t,e){function n(t){function n(e){return $(e)||fr(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var r=e.template||e.templateUrl?e.template:"",a={controller:i,controllerAs:De(e.controller)||e.controllerAs||"$ctrl",template:n(r),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var i=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,$(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return w(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(t){return w(t)?(T=t,this):T};var A=!1;this.preAssignBindingsEnabled=function(t){return w(t)?(A=t,this):A};var M=10;this.onChangesTtl=function(t){return arguments.length?(M=t,this):M};var P=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(P=t,this):P};var N=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(N=t,this):N},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,i,a,s,l,u,v,D,L){function I(){try{if(!--Et)throw xt=void 0,po("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);u.$apply(function(){for(var t=[],e=0,n=xt.length;n>e;++e)try{xt[e]()}catch(i){t.push(i)}if(xt=void 0,t.length)throw t})}finally{Et++}}function R(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function B(t,e,n){$t.innerHTML="<span "+e+">";var i=$t.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function F(t,e){try{t.addClass(e)}catch(n){}}function j(t,e,n,i,r){t instanceof nr||(t=nr(t));var o=K(t,e,t,n,i,r);j.$$addScopeClass(t);var a=null;return function(e,n,i){if(!t)throw po("multilink","This element has already been linked.");ft(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers,u=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=W(u));var c;if(c="html"!==a?nr(mt(a,nr("<div>").append(t).html())):n?Ur.clone.call(t):t,l)for(var d in l)c.data("$"+d+"Controller",l[d].instance);return j.$$addScopeInfo(c,e),n&&n(c,e),o&&o(e,c,c,s),n||(t=o=null),c}}function W(t){
var e=t&&t[0];return e&&"foreignobject"!==H(e)&&lr.call(e).match(/SVG/)?"svg":"html"}function K(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,l,u,c,d,h,g;if(p){var m=n.length;for(g=new Array(m),u=0;u<f.length;u+=3)d=f[u],g[d]=n[d]}else g=n;for(u=0,c=f.length;c>u;)s=g[f[u++]],o=f[u++],a=f[u++],o?(o.scope?(l=t.$new(),j.$$addScopeInfo(nr(s),l)):l=t,h=o.transcludeOnThisElement?Z(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?Z(t,e):null,o(a,l,s,i,h)):a&&a(t,s.childNodes,void 0,r)}for(var s,l,u,c,d,h,p,f=[],g=fr(t)||t instanceof nr,m=0;m<t.length;m++)s=new R,11===er&&Y(t,m,g),l=J(t[m],[],s,0===m?i:void 0,r),u=l.length?it(l,t[m],s,e,n,null,[],[],o):null,u&&u.scope&&j.$$addScopeClass(s.$$element),d=u&&u.terminal||!(c=t[m].childNodes)||!c.length?null:K(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(f.push(m,u,d),h=!0,p=p||u),o=null;return h?a:null}function Y(t,e,n){var i,r=t[e],o=r.parentNode;if(r.nodeType===Dr)for(;;){if(i=o?r.nextSibling:t[e+1],!i||i.nodeType!==Dr)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}}function Z(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=bt();for(var o in e.$$slots)e.$$slots[o]?r[o]=Z(t,e.$$slots[o],n):r[o]=null;return i}function J(t,e,n,i,r){var o,a,s,l=t.nodeType,u=n.$attr;switch(l){case Sr:a=H(t),st(e,xe(a),"E",i,r);for(var c,d,h,p,f,g,m=t.attributes,v=0,b=m&&m.length;b>v;v++){var w=!1,C=!1;c=m[v],d=c.name,f=c.value,p=xe(d),g=Nt.test(p),g&&(d=d.replace(go,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var x=p.match(Lt);x&&lt(x[1])&&(w=d,C=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=xe(d.toLowerCase()),u[h]=d,(g||!n.hasOwnProperty(h))&&(n[h]=f,Qt(t,h)&&(n[h]=!0)),yt(t,e,f,h,g),st(e,h,"A",i,r,w,C)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Tt)break;if(s=t.className,_(s)&&(s=s.animVal),k(s)&&""!==s)for(;o=y.exec(s);)h=xe(o[2]),st(e,h,"C",i,r)&&(n[h]=mr(o[3])),s=s.substr(o.index+o[0].length);break;case Dr:gt(e,t.nodeValue);break;case Tr:if(!Dt)break;X(t,e,n,i,r)}return e.sort(dt),e}function X(t,e,n,i,r){try{var o=p.exec(t.nodeValue);if(o){var a=xe(o[1]);st(e,a,"M",i,r)&&(n[a]=mr(o[2]))}}catch(s){}}function Q(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw po("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Sr&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return nr(i)}function et(t,e,n){return function(i,r,o,a,s){return r=Q(r[0],e,n),t(i,r,o,a,s)}}function nt(t,e,n,i,r,o){var a;return t?j(e,n,i,r,o):function(){return a||(a=j(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function it(t,e,n,r,a,s,l,u,c){function h(t,e,n,i){t&&(n&&(t=et(t,n,i)),t.require=f.require,t.directiveName=g,(x===f||f.$$isolateScope)&&(t=_t(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=et(e,n,i)),e.require=f.require,e.directiveName=g,(x===f||f.$$isolateScope)&&(e=_t(e,{isolateScope:!0})),u.push(e))}function p(t,r,a,s,c){function h(t,e,n,i){var r;if(E(t)||(i=n,n=e,e=t,t=void 0),P&&(r=y),n||(n=P?D.parent():D),!i)return c(t,e,r,n,H);var o=c.$$slots[i];if(o)return o(t,e,r,n,H);if(b(o))throw po("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,tt(D))}var p,f,g,m,v,y,w,D,T,M;e===a?(T=n,D=n.$$element):(D=nr(a),T=new R(D,n)),v=r,x?m=r.$new(!0):C&&(v=r.$parent),c&&(w=h,w.$$boundTransclude=c,w.isSlotFilled=function(t){return!!c.$$slots[t]}),k&&(y=ot(D,T,w,k,m,r,x)),x&&(j.$$addScopeInfo(D,m,!0,!(S&&(S===x||S===x.$$originalDirective))),j.$$addScopeClass(D,!0),m.$$isolateBindings=x.$$isolateBindings,M=kt(r,T,m,m.$$isolateBindings,x),M.removeWatches&&m.$on("$destroy",M.removeWatches));for(var O in y){var N=k[O],L=y[O],I=N.$$bindings.bindToController;if(A){I?L.bindingInfo=kt(v,T,L.instance,I,N):L.bindingInfo={};var B=L();B!==L.instance&&(L.instance=B,D.data("$"+N.name+"Controller",B),L.bindingInfo.removeWatches&&L.bindingInfo.removeWatches(),L.bindingInfo=kt(v,T,L.instance,I,N))}else L.instance=L(),D.data("$"+N.name+"Controller",L.instance),L.bindingInfo=kt(v,T,L.instance,I,N)}for(o(k,function(t,e){var n=t.require;t.bindToController&&!fr(n)&&_(n)&&d(y[e].instance,rt(e,n,D,y))}),o(y,function(t){var e=t.instance;if($(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){i(n)}if($(e.$onInit))try{e.$onInit()}catch(n){i(n)}$(e.$doCheck)&&(v.$watch(function(){e.$doCheck()}),e.$doCheck()),$(e.$onDestroy)&&v.$on("$destroy",function(){e.$onDestroy()})}),p=0,f=l.length;f>p;p++)g=l[p],Ct(g,g.isolateScope?m:r,D,T,g.require&&rt(g.directiveName,g.require,D,y),w);var H=r;for(x&&(x.template||null===x.templateUrl)&&(H=m),t&&t(H,a.childNodes,void 0,c),p=u.length-1;p>=0;p--)g=u[p],Ct(g,g.isolateScope?m:r,D,T,g.require&&rt(g.directiveName,g.require,D,y),w);o(y,function(t){var e=t.instance;$(e.$postLink)&&e.$postLink()})}c=c||{};for(var f,g,m,v,y,w=-Number.MAX_VALUE,C=c.newScopeDirective,k=c.controllerDirectives,x=c.newIsolateScopeDirective,S=c.templateDirective,D=c.nonTlbTranscludeDirective,T=!1,M=!1,P=c.hasElementTranscludeDirective,O=n.$$element=nr(e),N=s,L=r,I=!1,B=!1,F=0,z=t.length;z>F;F++){f=t[F];var V=f.$$start,U=f.$$end;if(V&&(O=Q(e,V,U)),m=void 0,w>f.priority)break;if(y=f.scope,y&&(f.templateUrl||(_(y)?(pt("new/isolated scope",x||C,f,O),x=f):pt("new/isolated scope",x,f,O)),C=C||f),g=f.name,!I&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var W,K=F+1;W=t[K++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){B=!0;break}I=!0}if(!f.templateUrl&&f.controller&&(k=k||bt(),pt("'"+g+"' controller",k[g],f,O),k[g]=f),y=f.transclude)if(T=!0,f.$$tlb||(pt("transclusion",D,f,O),D=f),"element"===y)P=!0,w=f.priority,m=O,O=n.$$element=nr(j.$$createComment(g,n[g])),e=O[0],wt(a,G(m),e),m[0].$$parentNode=m[0].parentNode,L=nt(B,m,r,w,N&&N.name,{nonTlbTranscludeDirective:D});else{var Y=bt();if(_(y)){m=[];var Z=bt(),X=bt();o(y,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Z[t]=e,Y[e]=null,X[e]=n}),o(O.contents(),function(t){var e=Z[xe(H(t))];e?(X[e]=!0,Y[e]=Y[e]||[],Y[e].push(t)):m.push(t)}),o(X,function(t,e){if(!t)throw po("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var it in Y)Y[it]&&(Y[it]=nt(B,Y[it],r))}else m=nr(Rt(e)).contents();O.empty(),L=nt(B,m,r,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),L.$$slots=Y}if(f.template)if(M=!0,pt("template",S,f,O),S=f,y=$(f.template)?f.template(O,n):f.template,y=Ot(y),f.replace){if(N=f,m=At(y)?[]:$e(mt(f.templateNamespace,mr(y))),e=m[0],1!==m.length||e.nodeType!==Sr)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");wt(a,O,e);var st={$attr:{}},lt=J(e,[],st),dt=t.splice(F+1,t.length-(F+1));(x||C)&&at(lt,x,C),t=t.concat(lt).concat(dt),ut(n,st),z=t.length}else O.html(y);if(f.templateUrl)M=!0,pt("template",S,f,O),S=f,f.replace&&(N=f),p=ct(t.splice(F,t.length-F),O,n,a,T&&L,l,u,{controllerDirectives:k,newScopeDirective:C!==f&&C,newIsolateScopeDirective:x,templateDirective:S,nonTlbTranscludeDirective:D}),z=t.length;else if(f.compile)try{v=f.compile(O,n,L);var ht=f.$$originalDirective||f;$(v)?h(null,q(ht,v),V,U):v&&h(q(ht,v.pre),q(ht,v.post),V,U)}catch(ft){i(ft,tt(O))}f.terminal&&(p.terminal=!0,w=Math.max(w,f.priority))}return p.scope=C&&C.scope===!0,p.transcludeOnThisElement=T,p.templateOnThisElement=M,p.transclude=L,c.hasElementTranscludeDirective=P,p}function rt(t,e,n,i){var r;if(k(e)){var a=e.match(x),s=e.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(r=i&&i[s],r=r&&r.instance),!r){var c="$"+s+"Controller";r=l?n.inheritedData(c):n.data(c)}if(!r&&!u)throw po("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(fr(e)){r=[];for(var d=0,h=e.length;h>d;d++)r[d]=rt(t,e[d],n,i)}else _(e)&&(r={},o(e,function(e,o){r[o]=rt(t,e,n,i)}));return r||null}function ot(t,e,n,i,r,o,a){var s=bt();for(var u in i){var c=i[u],d={$scope:c===a||c.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"===h&&(h=e[c.name]);var p=l(h,d,!0,c.controllerAs);s[c.name]=p,t.data("$"+c.name+"Controller",p.instance)}return s}function at(t,e,n){for(var i=0,r=t.length;r>i;i++)t[i]=f(t[i],{$$isolateScope:e,$$newScope:n})}function st(t,n,i,o,a,s,l){if(n===a)return null;var u=null;if(c.hasOwnProperty(n))for(var d,p=e.get(n+h),g=0,m=p.length;m>g;g++)if(d=p[g],(b(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(s&&(d=f(d,{$$start:s,$$end:l})),!d.$$bindings){var v=d.$$bindings=r(d,d.name);_(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}t.push(d),u=d}return u}function lt(t){if(c.hasOwnProperty(t))for(var n,i=e.get(t+h),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function ut(t,e){var n=e.$attr,i=t.$attr;o(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i.length?i+=("style"===r?";":" ")+e[r]:i=e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ct(t,e,n,r,s,l,u,c){var d,h,p=[],g=e[0],m=t.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=$(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),a(y).then(function(i){var a,f,w,C;if(i=Ot(i),m.replace){if(w=At(i)?[]:$e(mt(b,mr(i))),a=w[0],1!==w.length||a.nodeType!==Sr)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);f={$attr:{}},wt(r,e,a);var k=J(a,[],f);_(m.scope)&&at(k,!0),t=k.concat(t),ut(n,f)}else a=g,e.html(i);for(t.unshift(v),d=it(t,a,n,s,e,m,l,u,c),o(r,function(t,n){t===a&&(r[n]=e[0])}),h=K(e[0].childNodes,s);p.length;){var x=p.shift(),S=p.shift(),$=p.shift(),D=p.shift(),T=e[0];if(!x.$$destroyed){if(S!==g){var E=S.className;c.hasElementTranscludeDirective&&m.replace||(T=Rt(a)),wt($,nr(S),T),F(nr(T),E)}C=d.transcludeOnThisElement?Z(x,d.transclude,D):D,d(h,x,T,r,C)}}p=null})["catch"](function(t){t instanceof Error&&i(t)}),function(t,e,n,i,r){var o=r;e.$$destroyed||(p?p.push(e,n,i,o):(d.transcludeOnThisElement&&(o=Z(e,d.transclude,r)),d(h,e,n,i,o)))}}function dt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function pt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw po("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,tt(i))}function gt(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&j.$$addBindingClass(e),function(t,e){var r=e.parent();n||j.$$addBindingClass(r),j.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function mt(e,n){switch(e=Ji(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function vt(t,e){if("srcdoc"===e)return v.HTML;var n=H(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return v.RESOURCE_URL}function yt(t,e,i,r,o){var a=vt(t,r),s=!o,l=C[r]||o,u=n(i,s,a,l);if(u){if("multiple"===r&&"select"===H(t))throw po("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",tt(t));if(S.test(r))throw po("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=bt()),c=o[r];c!==i&&(u=c&&n(c,!0,a,l),i=c),u&&(o[r]=u(t),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(u,function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)}))}}}})}}function wt(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]===a){e[r++]=i;for(var u=r,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=i);break}l&&l.replaceChild(i,a);var h=t.document.createDocumentFragment();for(r=0;s>r;r++)h.appendChild(n[r]);for(nr.hasData(a)&&(nr.data(i,nr.data(a)),nr(a).off("$destroy")),nr.cleanData(h.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function _t(t,e){return d(function(){return t.apply(null,arguments)},t,e)}function Ct(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,tt(n))}}function kt(t,e,i,r,a){function l(e,n,r){$(i.$onChanges)&&!V(n,r)&&(xt||(t.$$postDigest(I),xt=[]),c||(c={},xt.push(u)),c[e]&&(r=c[e].previousValue),c[e]=new ke(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],h={};return o(r,function(r,o){var u,c,p,f,m,v=r.attrName,y=r.optional,b=r.mode;switch(b){case"@":y||Yi.call(e,v)||(i[o]=e[v]=void 0),m=e.$observe(v,function(t){if(k(t)||O(t)){var e=i[o];l(o,t,e),i[o]=t}}),e.$$observers[v].$$scope=t,u=e[v],k(u)?i[o]=n(u)(t):O(u)&&(i[o]=u),h[o]=new ke(fo,i[o]),d.push(m);break;case"=":if(!Yi.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),f=c.literal?U:V,p=c.assign||function(){throw u=i[o]=c(t),po("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},u=i[o]=c(t);var w=function(e){return f(e,i[o])||(f(e,u)?p(t,e=i[o]):i[o]=e),u=e};w.$stateful=!0,m=r.collection?t.$watchCollection(e[v],w):t.$watch(s(e[v],w),null,c.literal),d.push(m);break;case"<":if(!Yi.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]);var _=c.literal,C=i[o]=c(t);h[o]=new ke(fo,i[o]),m=t.$watch(c,function(t,e){if(e===t){if(e===C||_&&U(e,C))return;e=C}l(o,t,e),i[o]=t},_),d.push(m);break;case"&":if(c=e.hasOwnProperty(v)?s(e[v]):g,c===g&&y)break;i[o]=function(e){return c(t,e)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var t=0,e=d.length;e>t;++t)d[t]()}}}var xt,St=/^\w/,$t=t.document.createElement("div"),Dt=P,Tt=N,Et=M;R.prototype={$normalize:xe,$addClass:function(t){t&&t.length>0&&D.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&D.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Se(t,e);n&&n.length&&D.addClass(this.$$element,n);var i=Se(e,t);i&&i.length&&D.removeClass(this.$$element,i)},$set:function(t,e,n,r){var a,s=this.$$element[0],l=Qt(s,t),u=te(t),c=t;if(l?(this.$$element.prop(t,e),r=l):u&&(this[u]=e,c=u),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t],r||(this.$attr[t]=r=ht(t,"-"))),a=H(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=L(e,"src"===t);else if("img"===a&&"srcset"===t&&w(e)){for(var d="",h=mr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(h)?p:/(,)/,g=h.split(f),m=Math.floor(g.length/2),v=0;m>v;v++){var y=2*v;d+=L(mr(g[y]),!0),d+=" "+mr(g[y+1])}var _=mr(g[2*v]).split(/\s/);d+=L(mr(_[0]),!0),2===_.length&&(d+=" "+mr(_[1])),this[t]=e=d}n!==!1&&(null===e||b(e)?this.$$element.removeAttr(r):St.test(r)?this.$$element.attr(r,e):B(this.$$element[0],r,e));var C=this.$$observers;C&&o(C[c],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=bt()),r=i[t]||(i[t]=[]);return r.push(e),u.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){z(r,e)}}};var Mt=n.startSymbol(),Pt=n.endSymbol(),Ot="{{"===Mt&&"}}"===Pt?m:function(t){return t.replace(/\{\{/g,Mt).replace(/}}/g,Pt)},Nt=/^ngAttr[A-Z]/,Lt=/^(.+)Start$/;return j.$$addBindingInfo=T?function(t,e){var n=t.data("$binding")||[];fr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,j.$$addBindingClass=T?function(t){F(t,"ng-binding")}:g,j.$$addScopeInfo=T?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:g,j.$$addScopeClass=T?function(t,e){F(t,e?"ng-isolate-scope":"ng-scope")}:g,j.$$createComment=function(e,n){var i="";return T&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},j}]}function ke(t,e){this.previousValue=t,this.currentValue=e}function xe(t){return t.replace(go,"").replace(mo,Tt)}function Se(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function $e(t){t=nr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];(n.nodeType===Tr||n.nodeType===Dr&&""===n.nodeValue.trim())&&ar.call(t,e,1)}return t}function De(t,e){if(e&&k(e))return e;if(k(t)){var n=yo.exec(t);if(n)return n[3]}}function Te(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){mt(e,"controller"),_(e)?d(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,a,s,l){var u,c,h,p;if(s=s===!0,l&&k(l)&&(p=l),k(e)){if(c=e.match(yo),!c)throw vo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=c[1],p=p||c[3],e=t.hasOwnProperty(h)?t[h]:vt(a.$scope,h,!0)||(n?vt(r,h,!0):void 0),!e)throw vo("ctrlreg","The controller with the name '{0}' is not registered.",h);gt(e,h,!0)}if(s){var f=(fr(e)?e[e.length-1]:e).prototype;return u=Object.create(f||null),p&&o(a,p,u,h||e.name),d(function(){var t=i.invoke(e,u,a,h);return t!==u&&(_(t)||$(t))&&(u=t,p&&o(a,p,u,h||e.name)),u},{instance:u,identifier:p})}return u=i.instantiate(e,a,h),p&&o(a,p,u,h||e.name),u}}]}function Ee(){this.$get=["$window",function(t){return nr(t.document)}]}function Ae(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function Me(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Pe(t){return _(t)?S(t)?t.toISOString():Y(t):t}function Oe(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||(fr(t)?o(t,function(t){e.push(ot(n)+"="+ot(Pe(t)))}):e.push(ot(n)+"="+ot(Pe(t))))}),e.join("&")}}}function Ne(){this.$get=function(){return function(t){function e(t,i,r){null===t||b(t)||(fr(t)?o(t,function(t,n){e(t,i+"["+(_(t)?n:"")+"]")}):_(t)&&!S(t)?a(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(ot(i)+"="+ot(Pe(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Le(t,e){if(k(t)){var n=t.replace(xo,"").trim();if(n){var i=e("Content-Type");if(i&&0===i.indexOf(wo)||Ie(n))try{t=Z(n)}catch(r){throw So("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,r)}}}return t}function Ie(t){var e=t.match(Co);return e&&ko[e[0]].test(t)}function Re(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=bt();return k(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Ji(mr(t.substr(0,n))),mr(t.substr(n+1)))}):_(t)&&o(t,function(t,n){e(Ji(n),mr(t))}),i}function Be(t){var e;return function(n){if(e||(e=Re(t)),n){var i=e[Ji(n)];return void 0===i&&(i=null),i}return e}}function He(t,e,n,i){return $(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Fe(t){return t>=200&&300>t}function ze(){var t=this.defaults={transformResponse:[Le],transformRequest:[function(t){return!_(t)||A(t)||P(t)||M(t)?t:Y(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ct(_o),put:Ct(_o),patch:Ct(_o)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return w(t)?(n=!!t,this):n};var i=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,a,s,l,u,c,h,p){function f(n){function i(t,e){for(var n=0,i=e.length;i>n;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(){r.$$completeOutstandingRequest(g)}function s(t,e){var n,i={};return o(t,function(t,r){$(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function l(e){var n,i,r,o=t.headers,a=d({},e.headers);o=d({},o.common,o[Ji(e.method)]);t:for(n in o){i=Ji(n);for(r in a)if(Ji(r)===i)continue t;a[n]=o[n]}return s(a,Ct(e))}function u(e){var n=e.headers,i=He(e.data,Be(n),void 0,e.transformRequest);return b(i)&&o(n,function(t,e){"content-type"===Ji(e)&&delete n[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),y(e,i).then(f,f)}function f(t){var e=d({},t);return e.data=He(t.data,t.headers,t.status,m.transformResponse),Fe(t.status)?e:c.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!k(p.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var m=d({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);m.headers=l(n),m.method=Xi(m.method),m.paramSerializer=k(m.paramSerializer)?h.get(m.paramSerializer):m.paramSerializer,r.$$incOutstandingRequestCount();var v=[],w=[],C=c.resolve(m);return o(D,function(t){(t.request||t.requestError)&&v.unshift(t.request,t.requestError),(t.response||t.responseError)&&w.push(t.response,t.responseError)}),C=i(C,v),C=C.then(u),C=i(C,w),C=C["finally"](a)}function m(t){o(arguments,function(t){f[t]=function(e,n){return f(d({},n||{},{method:t,url:e}))}})}function v(t){o(arguments,function(t){f[t]=function(e,n,i){return f(d({},i||{},{method:t,url:e,data:n}))}})}function y(e,i){function r(t){if(t){var e={};return o(t,function(t,i){e[i]=function(e){function i(){t(e)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),e}}function l(t,e,i,r){function o(){d(e,t,i,r)}m&&(Fe(t)?m.put(E,[t,e,Re(i),r]):m.remove(E)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function d(t,n,i,r){n=n>=-1?n:0,(Fe(n)?y.resolve:y.reject)({data:t,status:n,headers:Be(i),config:e,statusText:r})}function h(t){d(t.data,t.status,Ct(t.headers()),t.statusText)}function g(){var t=f.pendingRequests.indexOf(e);-1!==t&&f.pendingRequests.splice(t,1)}var m,v,y=c.defer(),$=y.promise,D=e.headers,T="jsonp"===Ji(e.method),E=e.url;if(T?E=p.getTrustedResourceUrl(E):k(E)||(E=p.valueOf(E)),E=C(E,e.paramSerializer(e.params)),T&&(E=x(E,e.jsonpCallbackParam)),f.pendingRequests.push(e),$.then(g,g),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:S),m&&(v=m.get(E),w(v)?N(v)?v.then(h,h):fr(v)?d(v[1],v[0],Ct(v[2]),v[3]):d(v,200,{},"OK"):m.put(E,$)),b(v)){var A=zn(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;A&&(D[e.xsrfHeaderName||t.xsrfHeaderName]=A),a(e.method,E,i,l,D,e.timeout,e.withCredentials,e.responseType,r(e.eventHandlers),r(e.uploadEventHandlers))}return $}function C(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function x(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw So("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);var n=new RegExp("[&?]"+e+"=");if(n.test(t))throw So("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var S=l("$http");t.paramSerializer=k(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var D=[];return o(i,function(t){D.unshift(k(t)?h.get(t):h.invoke(t))}),f.pendingRequests=[],m("get","delete","head","jsonp"),v("post","put","patch"),f.defaults=t,f}]}function je(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ve(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Ue(t,i,t.defer,e,n[0])}]}function Ue(t,e,n,i,r){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}return function(r,s,l,u,c,d,h,p,f,g){function m(){_&&_(),C&&C.abort()}function v(t,e,i,r,o){w(S)&&n.cancel(S),_=C=null,t(e,i,r,o)}if(s=s||t.url(),"jsonp"===Ji(r))var y=i.createCallback(s),_=a(s,y,function(t,e){var n=200===t&&i.getResponse(y);v(u,t,n,"",e),i.removeCallback(y)});else{var C=e(r,s);C.open(r,s,!0),o(c,function(t,e){w(t)&&C.setRequestHeader(e,t)}),C.onload=function(){var t=C.statusText||"",e="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=e?200:"file"===Fn(s).protocol?404:0),v(u,n,e,C.getAllResponseHeaders(),t)};var k=function(){v(u,-1,null,null,"")};if(C.onerror=k,C.onabort=k,C.ontimeout=k,o(f,function(t,e){C.addEventListener(e,t)}),o(g,function(t,e){C.upload.addEventListener(e,t)}),h&&(C.withCredentials=!0),p)try{C.responseType=p}catch(x){if("json"!==p)throw x}C.send(b(l)?null:l)}if(d>0)var S=n(m,d);else N(d)&&d.then(m)}}function We(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function l(o,l,h,p){function f(t){try{return t=M(t),p&&!w(t)?t:wt(t)}catch(e){i($o.interr(o,e))}}if(!o.length||-1===o.indexOf(t)){var g;if(!l){var m=a(o);g=v(m),g.exp=o,g.expressions=[],g.$$watchDelegate=s}return g}p=!!p;for(var y,_,C,k=0,x=[],S=[],D=o.length,T=[],E=[];D>k;){if(-1===(y=o.indexOf(t,k))||-1===(_=o.indexOf(e,y+u))){k!==D&&T.push(a(o.substring(k)));break}k!==y&&T.push(a(o.substring(k,y))),C=o.substring(y+u,_),x.push(C),S.push(n(C,f)),k=_+c,E.push(T.length),T.push("")}if(h&&T.length>1&&$o.throwNoconcat(o),!l||x.length){var A=function(t){for(var e=0,n=x.length;n>e;e++){if(p&&b(t[e]))return;T[E[e]]=t[e]}return T.join("")},M=function(t){return h?r.getTrusted(h,t):r.valueOf(t)};return d(function(t){var e=0,n=x.length,r=new Array(n);try{for(;n>e;e++)r[e]=S[e](t);return A(r)}catch(a){i($o.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(i,r){var o=A(i);$(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var u=t.length,c=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Ge(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,l,u){function c(){d?o.apply(null,h):o(g)}var d=arguments.length>4,h=d?G(arguments,4):[],p=e.setInterval,f=e.clearInterval,g=0,m=w(u)&&!u,v=(m?i:n).defer(),y=v.promise;return l=w(l)?l:0,y.$$intervalId=p(function(){m?r.defer(c):t.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete a[y.$$intervalId]),m||t.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].promise["catch"](g),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},o}]}function qe(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=rt(e[n]);return e.join("/")}function Ke(t,e){var n=Fn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Eo[n.protocol]||null}function Ye(t,e){if(Mo.test(t))throw Ao("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Fn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=nt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ze(t,e){return t.slice(0,e.length)===e}function Je(t,e){return Ze(e,t)?e.substr(t.length):void 0}function Xe(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Qe(t){return t.replace(/(#.+)|#$/,"$1")}function tn(t){return t.substr(0,Xe(t).lastIndexOf("/")+1)}function en(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function nn(t,e,n){this.$$html5=!0,n=n||"",Ke(t,this),this.$$parse=function(t){var n=Je(e,t);if(!k(n))throw Ao("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ye(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=it(this.$$search),n=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=qe(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return w(o=Je(t,i))?(a=o,s=n&&w(o=Je(n,o))?e+(Je("/",o)||o):t+a):w(o=Je(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function rn(t,e,n){Ke(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return Ze(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=Je(t,i)||Je(e,i);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(t=i,this.replace())):(o=Je(n,a),b(o)&&(o=a)),Ye(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=it(this.$$search),i=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=qe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Xe(t)===Xe(e)?(this.$$parse(e),!0):!1}}function on(t,e,n){this.$$html5=!0,rn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t===Xe(i)?o=i:(a=Je(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=it(this.$$search),i=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=qe(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function an(t){return function(){return this[t]}}function sn(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function ln(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return w(e)?(t=e,this):t},this.html5Mode=function(t){return O(t)?(e.enabled=t,this):_(t)?(O(t.enabled)&&(e.enabled=t.enabled),O(t.requireBase)&&(e.requireBase=t.requireBase),(O(t.rewriteLinks)||k(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(a){throw u.url(r),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,d,h=i.baseHref(),p=i.url();if(e.enabled){if(!h&&e.requireBase)throw Ao("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=en(p)+(h||"/"),c=r.history?nn:on}else d=Xe(p),c=rn;var f=tn(d);u=new c(d,f,"#"+t),u.$$parseLinkUrl(p,p),u.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=nr(t.target);"a"!==H(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!k(r)||!b(s.attr(r))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");_(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Fn(l.animVal).href),g.test(l)||!l||s.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(t.preventDefault(),u.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Qe(u.absUrl())!==Qe(p)&&i.url(u.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){return Ze(t,f)?(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=Qe(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(m=!1,l(r,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=t)}),n.$watch(function(){
if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var t=Qe(i.url()),e=Qe(u.absUrl()),o=i.state(),a=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))}))}u.$$replace=!1}),u}]}function un(){var t=!0,e=this;this.debugEnabled=function(e){return w(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||g,a=!1;try{a=!!r.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}var a=er||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function cn(t){return t+""}function dn(t,e){return"undefined"!=typeof t?t:e}function hn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function pn(t,e){var n=t(e);return!n.$stateful}function fn(t,e){var n,i,r;switch(t.type){case Bo.Program:n=!0,o(t.body,function(t){fn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Bo.Literal:t.constant=!0,t.toWatch=[];break;case Bo.UnaryExpression:fn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Bo.BinaryExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Bo.LogicalExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Bo.ConditionalExpression:fn(t.test,e),fn(t.alternate,e),fn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Bo.Identifier:t.constant=!1,t.toWatch=[t];break;case Bo.MemberExpression:fn(t.object,e),t.computed&&fn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Bo.CallExpression:r=t.filter?pn(e,t.callee.name):!1,n=r,i=[],o(t.arguments,function(t){fn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=r?i:[t];break;case Bo.AssignmentExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Bo.ArrayExpression:n=!0,i=[],o(t.elements,function(t){fn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Bo.ObjectExpression:n=!0,i=[],o(t.properties,function(t){fn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch),t.computed&&(fn(t.key,e),t.key.constant||i.push.apply(i,t.key.toWatch))}),t.constant=n,t.toWatch=i;break;case Bo.ThisExpression:t.constant=!1,t.toWatch=[];break;case Bo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function gn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function mn(t){return t.type===Bo.Identifier||t.type===Bo.MemberExpression}function vn(t){return 1===t.body.length&&mn(t.body[0].expression)?{type:Bo.AssignmentExpression,left:t.body[0].expression,right:{type:Bo.NGValueParameter},operator:"="}:void 0}function yn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Bo.Literal||t.body[0].expression.type===Bo.ArrayExpression||t.body[0].expression.type===Bo.ObjectExpression)}function bn(t){return t.constant}function wn(t){this.$filter=t}function _n(t){this.$filter=t}function Cn(t,e,n){this.ast=new Bo(t,n),this.astCompiler=n.csp?new _n(e):new wn(e)}function kn(t){return $(t.valueOf)?t.valueOf():No.call(t)}function xn(){var t,e,n=bt(),i={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(r){function a(t,e){var i,o,a;switch(typeof t){case"string":if(t=t.trim(),a=t,i=n[a],!i){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));var s=new Ro(f),c=new Cn(s,r,f);i=c.parse(t),i.constant?i.$$watchDelegate=d:o?(i.oneTime=!0,i.$$watchDelegate=u):i.inputs&&(i.$$watchDelegate=l),n[a]=i}return h(i,e);case"function":return h(t,e);default:return h(g,e)}}function s(t,e,n){return null==t||null==e?t===e:"object"!=typeof t||(t=kn(t),"object"!=typeof t||n)?t===e||t!==t&&e!==e:!1}function l(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var l=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,l,i.literal)||(o=i(t,void 0,void 0,[e]),l=e&&kn(e)),o},e,n,r)}for(var u=[],c=[],d=0,h=a.length;h>d;d++)u[d]=s,c[d]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;r>n;n++){var l=a[n](t);(e||(e=!s(l,u[n],i.literal)))&&(c[n]=l,u[n]=l&&kn(l))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function u(t,e,n,i,r){function o(t){return i(t)}function a(t,n,i){u=t,$(e)&&e(t,n,i),d(t)&&i.$$postDigest(function(){d(u)&&s()})}var s,u,d=i.literal?c:w;return s=i.inputs?l(t,a,n,i,r):t.$watch(o,a,n)}function c(t){var e=!0;return o(t,function(t){w(t)||(e=!1)}),e}function d(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function h(t,e){function n(n,i,r,a){var s=o&&a?a[0]:t(n,i,r,a);return e(s,n,i)}function i(n,i,r,s){var l=o&&s?s[0]:t(n,i,r,s),u=e(l,n,i);return a(l)?u:l}if(!e)return t;var r=t.$$watchDelegate,o=!1,a=t.literal?c:w,s=t.oneTime?i:n;return s.literal=t.literal,s.oneTime=t.oneTime,o=!t.inputs,r&&r!==l?(s.$$watchDelegate=r,s.inputs=t.inputs):e.$stateful||(s.$$watchDelegate=l,s.inputs=t.inputs?t.inputs:[t]),s}var p=yr().noUnsafeEval,f={csp:p,literals:j(i),isIdentifierStart:$(t)&&t,isIdentifierContinue:$(e)&&e};return a}]}function Sn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Dn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return w(e)?(t=e,this):t}}function $n(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Dn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return w(e)?(t=e,this):t}}function Dn(t,n,i){function r(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function l(e){var n,r,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;s>a;++a){e.pur=!0,r=o[a][0],n=o[a][e.status];try{$(n)?h(r,n(e.value)):1===e.status?h(r,e.value):f(r,e.value)}catch(l){f(r,l)}}}finally{--D,i&&0===D&&t(u)}}function u(){for(;!D&&T.length;){var t=T.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+xt(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function c(e){!i||e.pending||2!==e.status||e.pur||(0===D&&0===T.length&&t(u),T.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++D,t(function(){l(e)}))}function h(t,e){t.$$state.status||(e===t?g(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function i(e){a||(a=!0,g(t,e))}function r(e){m(t,e)}var o,a=!1;try{(_(e)||$(e))&&(o=e.then),$(o)?(t.$$state.status=-1,o.call(e,n,i,r)):(t.$$state.value=e,t.$$state.status=1,c(t.$$state))}catch(s){i(s)}}function f(t,e){t.$$state.status||g(t,e)}function g(t,e){t.$$state.value=e,t.$$state.status=2,c(t.$$state)}function m(e,i){var r=e.$$state.pending;e.$$state.status<=0&&r&&r.length&&t(function(){for(var t,e,o=0,a=r.length;a>o;o++){e=r[o][0],t=r[o][3];try{m(e,$(t)?t(i):i)}catch(s){n(s)}}})}function v(t){var e=new s;return f(e,t),e}function y(t,e,n){var i=null;try{$(n)&&(i=n())}catch(r){return v(r)}return N(i)?i.then(function(){return e(t)},v):e(t)}function w(t,e,n,i){var r=new s;return h(r,t),r.then(e,n,i)}function C(t){var e=new s,n=0,i=fr(t)?[]:{};return o(t,function(t,r){n++,w(t).then(function(t){i[r]=t,--n||h(e,i)},function(t){f(e,t)})}),0===n&&h(e,i),e}function k(t){var e=r();return o(t,function(t){w(t).then(e.resolve,e.reject)}),e.promise}function x(t){function e(t){h(i,t)}function n(t){f(i,t)}if(!$(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var i=new s;return t(e,n),i}var S=e("$q",TypeError),D=0,T=[];d(s.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&c(this.$$state),i},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return y(e,E,t)},function(e){return y(e,v,t)},e)}});var E=w;return x.prototype=s.prototype,x.defer=r,x.reject=v,x.when=w,x.resolve=E,x.all=C,x.race=k,x}function Tn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function En(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var n=10,i=e("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function d(t){t.currentScope.$$destroyed=!0}function h(t){9===er&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(t){if(x.$$phase)throw i("inprog","{0} already in progress",x.$$phase);x.$$phase=t}function m(){x.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function C(){for(;T.length;)try{T.shift()()}catch(t){e(t)}s=null}function k(){null===s&&(s=c.defer(function(){x.$apply(C)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=u(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,l={fn:e,last:w,get:r,exp:i||t,eq:!!n};return a=null,$(e)||(l.fn=g),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(l),s.$$digestWatchIndex++,v(this,1),function(){var t=z(s,l);t>=0&&(v(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,s)):e(r,i,s)}var i=new Array(t.length),r=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(r,r,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,s,l;if(!b(o)){if(_(o))if(r(o)){a!==p&&(a=p,m=a.length=0,d++),e=o.length,m!==e&&(d++,a.length=m=e);for(var u=0;e>u;u++)l=a[u],s=o[u],i=l!==l&&s!==s,i||l===s||(d++,a[u]=s)}else{a!==f&&(a=f={},m=0,d++),e=0;for(n in o)Yi.call(o,n)&&(e++,s=o[n],l=a[n],n in a?(i=l!==l&&s!==s,i||l===s||(d++,a[n]=s)):(m++,a[n]=s,d++));if(m>e){d++;for(n in a)Yi.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function i(){if(g?(g=!1,e(o,o,l)):e(o,s,l),c)if(_(o))if(r(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Yi.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=e.length>1,d=0,h=u(t,n),p=[],f={},g=!0,m=0;return this.$watch(h,i)},$digest:function(){var t,r,o,l,u,d,h,p,g,v,y,b=n,_=this,k=[];f("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),C()),a=null;do{h=!1,g=_;for(var T=0;T<S.length;T++){try{y=S[T],l=y.fn,l(y.scope,y.locals)}catch(A){e(A)}a=null}S.length=0;t:do{if(d=g.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(t=d[d.$$digestWatchIndex])if(u=t.get,(r=u(g))===(o=t.last)||(t.eq?U(r,o):pr(r)&&pr(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?j(r,null):r,l=t.fn,l(r,o===w?r:o,g),5>b&&(v=4-b,k[v]||(k[v]=[]),k[v].push({msg:$(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:o}))}catch(A){e(A)}if(!(p=g.$$watchersCount&&g.$$childHead||g!==_&&g.$$nextSibling))for(;g!==_&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((h||S.length)&&!b--)throw m(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",n,k)}while(h||S.length);for(m();E<D.length;)try{D[E++]()}catch(A){e(A)}D.length=E=0,c.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){x.$$phase||S.length||c.defer(function(){S.length&&x.$digest()}),S.push({scope:this,fn:u(t),locals:e})},$$postDigest:function(t){D.push(t)},$apply:function(t){try{f("$apply");try{return this.$eval(t)}finally{m()}}catch(n){e(n)}finally{try{x.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&T.push(e),t=u(t),k()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,y(r,1,t))}},$emit:function(t,n){var i,r,o,a=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=W([u],arguments,1);do{for(i=s.$$listeners[t]||a,u.currentScope=s,r=0,o=i.length;o>r;r++)if(i[r])try{i[r].apply(null,c)}catch(d){e(d)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,n){var i=this,r=i,o=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var s,l,u,c=W([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[t]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(d){e(d)}else s.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var x=new p,S=x.$$asyncQueue=[],D=x.$$postDigestQueue=[],T=x.$$applyAsyncQueue=[],E=0;return x}]}function An(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Fn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Mn(t){return t.replace(zo,Tt)}function Pn(t){if("self"===t)return t;if(k(t)){if(t.indexOf("***")>-1)throw Ho("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=vr(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(D(t))return new RegExp("^"+t.source+"$");throw Ho("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function On(t){var e=[];return w(t)&&o(t,function(t){e.push(Pn(t))}),e}function Nn(){this.SCE_CONTEXTS=Fo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=On(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=On(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?zn(e):!!t.exec(e.href)}function r(n){var r,o,a=Fn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=d.hasOwnProperty(t)?d[t]:null;if(!n)throw Ho("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||b(e)||""===e)return e;if("string"!=typeof e)throw Ho("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||b(e)||""===e)return e;var n=d.hasOwnProperty(t)?d[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Fo.RESOURCE_URL){if(r(e))return e;throw Ho("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Fo.HTML)return u(e);throw Ho("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw Ho("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[Fo.HTML]=o(c),d[Fo.CSS]=o(c),d[Fo.URL]=o(c),d[Fo.JS]=o(c),d[Fo.RESOURCE_URL]=o(d[Fo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Ln(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>er)throw Ho("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=Ct(Fo);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(Fo,function(t,e){var n=Ji(e);i[Mn("parse_as_"+n)]=function(e){return r(t,e)},i[Mn("get_trusted_"+n)]=function(e){return a(t,e)},i[Mn("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function In(){this.$get=["$window","$document",function(t,e){var n={},i=t.nw&&t.nw.process,r=!i&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!r&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(Ji((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),l=e[0]||{},u=l.body&&l.body.style,c=!1,d=!1;return u&&(c=!!("transition"in u||"webkitTransition"in u),d=!!("animation"in u||"webkitAnimation"in u)),{history:!(!o||4>a||s),hasEvent:function(t){if("input"===t&&er)return!1;if(b(n[t])){var e=l.createElement("div");n[t]="on"+t in e}return n[t]},csp:yr(),transitions:c,animations:d,android:a}}]}function Rn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,o){function a(s,l){function u(t){return l||(t=jo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),r.reject(t)}a.totalPendingRequests++,(!k(s)||b(n.get(s)))&&(s=o.getTrustedResourceUrl(s));var c=i.defaults&&i.defaults.transformResponse;return fr(c)?c=c.filter(function(t){return t!==Le}):c===Le&&(c=null),i.get(s,d({cache:n,transformResponse:c},t))["finally"](function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},u)}return a.totalPendingRequests=0,a}]}function Bn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=dr.element(t).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+vr(e)+"(\\s|\\||$)");o.test(i)&&r.push(t)}else-1!==i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Hn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,l){$(o)||(l=s,s=o,o=g);var u,c=G(arguments,3),d=w(l)&&!l,h=(d?i:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete a[p.$$timeoutId]}d||t.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].promise["catch"](g),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Fn(t){var e=t;return er&&(Vo.setAttribute("href",e),e=Vo.href),Vo.setAttribute("href",e),{href:Vo.href,protocol:Vo.protocol?Vo.protocol.replace(/:$/,""):"",host:Vo.host,search:Vo.search?Vo.search.replace(/^\?/,""):"",hash:Vo.hash?Vo.hash.replace(/^#/,""):"",hostname:Vo.hostname,port:Vo.port,pathname:"/"===Vo.pathname.charAt(0)?Vo.pathname:"/"+Vo.pathname}}function zn(t){var e=k(t)?Fn(t):t;return e.protocol===Uo.protocol&&e.host===Uo.host}function jn(){this.$get=v(t)}function Vn(t){function e(t){try{return t.cookie||""}catch(e){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,a,s,l,u,c=e(i);if(c!==o)for(o=c,t=o.split("; "),r={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=n(a.substring(0,l)),b(r[u])&&(r[u]=n(a.substring(l+1))));return r}}function Un(){this.$get=Vn}function Wn(t){function e(i,r){if(_(i)){var a={};return o(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Zn),e("date",di),e("filter",Gn),e("json",hi),e("limitTo",pi),e("lowercase",Jo),e("number",Jn),e("orderBy",gi),e("uppercase",Xo)}function Gn(){return function(t,n,i,o){if(!r(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,l=Yn(n);switch(l){case"function":a=n;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=qn(n,i,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function qn(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=U:$(e)||(e=function(t,e){return b(t)?!1:null===t||null===e?t===e:_(e)||_(t)&&!y(t)?!1:(t=Ji(""+t),e=Ji(""+e),-1!==t.indexOf(e))}),r=function(r){return o&&!_(r)?Kn(r,t[n],e,n,!1):Kn(r,t,e,n,i)}}function Kn(t,e,n,i,r,o){var a=Yn(t),s=Yn(e);if("string"===s&&"!"===e.charAt(0))return!Kn(t,e.substring(1),n,i,r);if(fr(t))return t.some(function(t){return Kn(t,e,n,i,r)});switch(a){case"object":var l;if(r){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&Kn(t[l],e,n,i,!0))return!0;return o?!1:Kn(t,e,n,i,!1)}if("object"===s){for(l in e){var u=e[l];if(!$(u)&&!b(u)){var c=l===i,d=c?t:t[l];if(!Kn(d,u,n,i,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Yn(t){return null===t?"null":typeof t}function Zn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return b(n)&&(n=e.CURRENCY_SYM),b(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:ti(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Jn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:ti(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Xn(t){var e,n,i,r,o,a=0;for((n=t.indexOf(Go))>-1&&(t=t.replace(Go,"")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)===qo;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===qo;)o--;for(n-=i,e=[],r=0;o>=i;i++,r++)e[r]=+t.charAt(i)}return n>Wo&&(e=e.splice(0,Wo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Qn(t,e,n,i){var r=t.d,o=r.length-t.i;e=b(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var u=1;a>u;u++)r[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var d=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);d&&(r.unshift(d),t.i++)}function ti(t,e,n,i,r){if(!k(t)&&!x(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(a)u="";else{o=Xn(l),Qn(o,r,e.minFrac,e.maxFrac);var c=o.d,d=o.i,h=o.e,p=[];for(s=c.reduce(function(t,e){return t&&!e},!0);0>d;)c.unshift(0),d++;d>0?p=c.splice(d,c.length):(p=c,c=[0]);var f=[];for(c.length>=e.lgSize&&f.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)f.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),p.length&&(u+=i+p.join("")),h&&(u+="e+"+h)}return 0>t&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function ei(t,e,n,i){var r="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=qo+t;return n&&(t=t.substr(t.length-e)),r+t}function ni(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),ei(a,e,i,r)}}function ii(t,e,n){return function(i,r){var o=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Xi(a+t);return r[s][o]}}function ri(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=ei(Math[i>0?"floor":"ceil"](i/60),2)+ei(Math.abs(i%60),2)}function oi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ai(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function si(t){return function(e){var n=oi(e.getFullYear()),i=ai(e),r=+i-+n,o=1+Math.round(r/6048e5);return ei(o,t)}}function li(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ui(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function ci(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function di(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(i,p(e[1]),p(e[2])-1,p(e[3]));var l=p(e[4]||0)-r,u=p(e[5]||0)-o,c=p(e[6]||0),d=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,l,u,c,d),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,k(n)&&(n=Zo.test(n)?p(n):e(n)),x(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;i;)s=Yo.exec(i),s?(u=W(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=J(r,c),n=Q(n,r,!0)),o(u,function(e){a=Ko[e],l+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function hi(){return function(t,e){return b(e)&&(e=2),Y(t,e)}}function pi(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),pr(e)?t:(x(t)&&(t=t.toString()),r(t)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,t.length+n):n,e>=0?fi(t,n,n+e):0===n?fi(t,e,t.length):fi(t,Math.max(0,n+e),n)):t)}}function fi(t,e,n){return k(t)?t.slice(e,n):or.call(t,e,n)}function gi(t){function n(e){return e.map(function(e){var n=1,i=m;if($(e))i=e;else if(k(e)&&(("+"===e.charAt(0)||"-"===e.charAt(0))&&(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return $(t.valueOf)&&(t=t.valueOf(),i(t))?t:y(t)&&(t=t.toString(),i(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=a>o?-1:1)}else n=r>i?-1:1;return n}return function(t,i,o,l){function u(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:d.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=d.length;i>n;n++){var r=p(t.predicateValues[n],e.predicateValues[n]);if(r)return r*d[n].descending*h}return p(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!r(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);fr(i)||(i=[i]),0===i.length&&(i=["+"]);var d=n(i),h=o?-1:1,p=$(l)?l:s,f=Array.prototype.map.call(t,u);return f.sort(c),t=f.map(function(t){return t.value})}}function mi(t){return $(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function vi(t,e){t.$name=e}function yi(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ea,this.$$element=t,this.$$animate=i,bi(this)}function bi(t){t.$$classCache={},t.$$classCache[Ha]=!(t.$$classCache[Ba]=t.$$element.hasClass(Ba))}function wi(t){function e(t,e,n,i){t[e]||(t[e]={}),a(t[e],n,i)}function n(t,e,n,i){t[e]&&s(t[e],n,i),_i(t[e])&&(t[e]=void 0)}function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function r(t,e,n){e=e?"-"+ht(e,"-"):"",i(t,Ba+e,n===!0),i(t,Ha+e,n===!1)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,l){b(o)?e(this,"$pending",t,l):n(this,"$pending",t,l),O(o)?o?(s(this.$error,t,l),a(this.$$success,t,l)):(a(this.$error,t,l),s(this.$$success,t,l)):(s(this.$error,t,l),s(this.$$success,t,l)),this.$pending?(i(this,na,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,na,!1),this.$valid=_i(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var u;u=this.$pending&&this.$pending[t]?void 0:this.$error[t]?!1:this.$$success[t]?!0:null,r(this,t,u),this.$$parentForm.$setValidity(t,u,this)}}function _i(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Ci(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ki(t,e,n,i,r,o){xi(t,e,n,i,r,o),Ci(i)}function xi(t,e,n,i,r,o){var a=Ji(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var r=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=mr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){
l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),va[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(ma,function(t){if(!l){var e=this[Ki],n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,(e.badInput!==n||e.typeMismatch!==i)&&u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function Si(t,e){if(S(t))return t;if(k(t)){pa.lastIndex=0;var n=pa.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=oi(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}function $i(t,e){return function(n,i){var r,a;if(S(n))return n;if(k(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),sa.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Di(t,e,n,i){return function(r,o,a,s,l,u,c){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return w(t)&&!S(t)?n(t)||void 0:t}Ti(r,o,a,s),xi(r,o,a,s,l,u);var p,f=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,p);return f&&(i=Q(i,f)),i}return void 0}),s.$formatters.push(function(t){if(t&&!S(t))throw Ga("datefmt","Expected `{0}` to be a date",t);return d(t)?(p=t,p&&f&&(p=Q(p,f,!0)),c("date")(t,i,f)):(p=null,"")}),w(a.min)||a.ngMin){var g;s.$validators.min=function(t){return!d(t)||b(g)||n(t)>=g},a.$observe("min",function(t){g=h(t),s.$validate()})}if(w(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!d(t)||b(m)||n(t)<=m},a.$observe("max",function(t){m=h(t),s.$validate()})}}}function Ti(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(Ki)||{};return n.badInput||n.typeMismatch?void 0:t})}function Ei(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ca.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!x(e))throw Ga("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Ai(t){return w(t)&&!x(t)&&(t=parseFloat(t)),pr(t)?void 0:t}function Mi(t){return(0|t)===t}function Pi(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(t>-1&&1>t){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function Oi(t,e,n){var i=Number(t),r=!Mi(i),o=!Mi(e),a=!Mi(n);if(r||o||a){var s=r?Pi(i):0,l=o?Pi(e):0,u=a?Pi(n):0,c=Math.max(s,l,u),d=Math.pow(10,c);i*=d,e*=d,n*=d,r&&(i=Math.round(i)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(i-e)%n===0}function Ni(t,e,n,i,r,o){Ti(t,e,n,i),Ei(i),xi(t,e,n,i,r,o);var a,s;if((w(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||b(a)||t>=a},n.$observe("min",function(t){a=Ai(t),i.$validate()})),(w(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||b(s)||s>=t},n.$observe("max",function(t){s=Ai(t),i.$validate()})),w(n.step)||n.ngStep){var l;i.$validators.step=function(t,e){return i.$isEmpty(e)||b(l)||Oi(e,a||0,l)},n.$observe("step",function(t){l=Ai(t),i.$validate()})}}function Li(t,e,n,i,r,o){function a(t,i){e.attr(t,n[t]),n.$observe(t,i)}function s(t){if(d=Ai(t),!pr(i.$modelValue))if(c){var n=e.val();d>n&&(n=d,e.val(n)),i.$setViewValue(n)}else i.$validate()}function l(t){if(h=Ai(t),!pr(i.$modelValue))if(c){var n=e.val();n>h&&(e.val(h),n=d>h?d:h),i.$setViewValue(n)}else i.$validate()}function u(t){p=Ai(t),pr(i.$modelValue)||(c&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}Ti(t,e,n,i),Ei(i),xi(t,e,n,i,r,o);var c=i.$$hasNativeValidators&&"range"===e[0].type,d=c?0:void 0,h=c?100:void 0,p=c?1:void 0,f=e[0].validity,g=w(n.min),m=w(n.max),v=w(n.step),y=i.$render;i.$render=c&&w(f.rangeUnderflow)&&w(f.rangeOverflow)?function(){y(),i.$setViewValue(e.val())}:y,g&&(i.$validators.min=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||b(d)||e>=d},a("min",s)),m&&(i.$validators.max=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||b(h)||h>=e},a("max",l)),v&&(i.$validators.step=c?function(){return!f.stepMismatch}:function(t,e){return i.$isEmpty(e)||b(p)||Oi(e,d||0,p)},a("step",u))}function Ii(t,e,n,i,r,o){xi(t,e,n,i,r,o),Ci(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||la.test(n)}}function Ri(t,e,n,i,r,o){xi(t,e,n,i,r,o),Ci(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||ua.test(n)}}function Bi(t,e,n,i){var r=!n.ngTrim||"false"!==mr(n.ngTrim);b(n.name)&&e.attr("name",l());var o=function(t){var o;e[0].checked&&(o=n.value,r&&(o=mr(o)),i.$setViewValue(o,t&&t.type))};e.on("click",o),i.$render=function(){var t=n.value;r&&(t=mr(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)}function Hi(t,e,n,i,r){var o;if(w(i)){if(o=t(i),!o.constant)throw Ga("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Fi(t,e,n,i,r,o,a,s){var l=Hi(s,t,"ngTrueValue",n.ngTrueValue,!0),u=Hi(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return U(t,l)}),i.$parsers.push(function(t){return t?l:u})}function zi(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function i(t){return t&&t.split(" ")}function r(t){var e=t;return fr(t)?e=t.map(r).join(" "):_(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var a;return["$parse",function(s){return{restrict:"AC",link:function(l,u,c){function d(t){t=f(i(t),1),c.$addClass(t)}function h(t){t=f(i(t),-1),c.$removeClass(t)}function p(t,e){var r=i(t),o=i(e),a=n(r,o),s=n(o,r),l=f(a,-1),u=f(s,1);c.$addClass(u),c.$removeClass(l)}function f(t,e){var n=[];return o(t,function(t){(e>0||y[t])&&(y[t]=(y[t]||0)+e,y[t]===+(e>0)&&n.push(t))}),n.join(" ")}function g(t){t===e?d(v):h(v),b=t}function m(t){k(t)||(t=r(t)),b===e&&p(v,t),v=t}var v,y=u.data("$classCounts"),b=!0;y||(y=bt(),u.data("$classCounts",y)),"ngClass"!==t&&(a||(a=s("$index",function(t){return 1&t})),l.$watch(a,g)),l.$watch(s(c[t],r),m)}}}]}function ji(t,e,n,i,r,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=ea,this.$options=qa,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=e,bi(this),Vi(this)}function Vi(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var i=t.$formatters,r=i.length,o=n;r--;)o=i[r](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,g))}return n})}function Ui(t){this.$$options=t}function Wi(t,e){o(e,function(e,n){w(t[n])||(t[n]=e)})}function Gi(t,e){t.prop("selected",e),t.attr("selected",e)}var qi=/^\/(.+)\/([a-z]*)$/,Ki="validity",Yi=Object.prototype.hasOwnProperty,Zi={objectMaxDepth:5},Ji=function(t){return k(t)?t.toLowerCase():t},Xi=function(t){return k(t)?t.toUpperCase():t},Qi=function(t){return k(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},tr=function(t){return k(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Ji=Qi,Xi=tr);var er,nr,ir,rr,or=[].slice,ar=[].splice,sr=[].push,lr=Object.prototype.toString,ur=Object.getPrototypeOf,cr=e("ng"),dr=t.angular||(t.angular={}),hr=0;er=t.document.documentMode;var pr=Number.isNaN||function(t){return t!==t};g.$inject=[],m.$inject=[];var fr=Array.isArray,gr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,mr=function(t){return k(t)?t.trim():t},vr=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},yr=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!w(yr.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");yr.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else yr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return yr.rules},br=function(){if(w(br.name_))return br.name_;var e,n,i,r,o=_r.length;for(n=0;o>n;++n)if(i=_r[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return br.name_=r},wr=/:/g,_r=["ng-","data-ng-","ng:","x-ng-"],Cr=st(t.document),kr=/[A-Z]/g,xr=!1,Sr=1,$r=2,Dr=3,Tr=8,Er=9,Ar=11,Mr={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};It.expando="ng339";var Pr=It.cache={},Or=1;It._data=function(t){return this.cache[t[this.expando]]||{}};var Nr=/-([a-z])/g,Lr=/^-ms-/,Ir={mouseleave:"mouseout",mouseenter:"mouseover"},Rr=e("jqLite"),Br=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Hr=/<|&#?\w+;/,Fr=/<([\w:-]+)/,zr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,jr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jr.optgroup=jr.option,jr.tbody=jr.tfoot=jr.colgroup=jr.caption=jr.thead,jr.th=jr.td;var Vr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Ur=It.prototype={ready:Xt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return nr(t>=0?this[t]:this[this.length+t])},length:0,push:sr,sort:[].sort,splice:[].splice},Wr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Wr[Ji(t)]=t});var Gr={};o("input,select,option,textarea,button,form,details".split(","),function(t){Gr[t]=!0});var qr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:jt,removeData:Ft,hasData:Pt,cleanData:function(t){for(var e=0,n=t.length;n>e;e++)Ft(t[e])}},function(t,e){It[e]=t}),o({data:jt,inheritedData:Kt,scope:function(t){return nr.data(t,"$scope")||Kt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return nr.data(t,"$isolateScope")||nr.data(t,"$isolateScopeNoTemplate")},controller:qt,injector:function(t){return Kt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Vt,css:function(t,e,n){return e=Dt(e),w(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i,r=t.nodeType;if(r!==Dr&&r!==$r&&r!==Tr&&t.getAttribute){var o=Ji(e),a=Wr[o];return w(n)?void(null===n||n===!1&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)):(i=t.getAttribute(e),a&&null!==i&&(i=o),null===i?void 0:i)}},prop:function(t,e,n){return w(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===Sr||n===Dr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===H(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return b(e)?t.innerHTML:(Bt(t,!0),void(t.innerHTML=e))},empty:Yt},function(t,e){It.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Yt&&b(2===t.length&&t!==Vt&&t!==qt?e:n)){if(_(e)){for(i=0;o>i;i++)if(t===jt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=b(a)?Math.min(o,1):o,l=0;s>l;l++){var u=t(this[l],e,n);a=a?a+u:u}return a}for(i=0;o>i;i++)t(this[i],e,n);return this}}),o({removeData:Ft,on:function(t,e,n,i){if(w(i))throw Rr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Mt(t)){var r=zt(t,!0),o=r.events,a=r.handle;a||(a=r.handle=ee(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length,u=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||t.addEventListener(e,a)),s.push(n)};l--;)e=s[l],Ir[e]?(u(Ir[e],ie),u(e,void 0,!0)):u(e)}},off:Ht,one:function(t,e,n){t=nr(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Bt(t),o(new It(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Sr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Sr||n===Ar){e=new It(e);for(var i=0,r=e.length;r>i;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Sr){var n=t.firstChild;o(new It(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Lt(t,nr(e).eq(0).clone()[0])},remove:Zt,detach:function(t){Zt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new It(e);for(var r=0,o=e.length;o>r;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:Wt,removeClass:Ut,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;b(i)&&(i=!Vt(t,e)),(i?Wt:Ut)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ar?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Rt,triggerHandler:function(t,e,n){var i,r,a,s=e.type||e,l=zt(t),u=l&&l.events,c=u&&u[s];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(i=d(i,e)),r=Ct(c),a=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){It.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;a>o;o++)b(r)?(r=t(this[o],e,n,i),w(r)&&(r=nr(r))):Gt(r,t(this[o],e,n,i));return w(r)?r:this}}),It.prototype.bind=It.prototype.on,It.prototype.unbind=It.prototype.off;var Kr=Object.create(null);ae.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return pr(t)?Kr:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e?this._values[e]:void 0},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},"delete":function(t){t=this._transformKey(t);var e=this._idx(t);return-1===e?!1:(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Yr=ae,Zr=[function(){this.$get=[function(){return Yr}]}],Jr=/^([^(]+?)=>/,Xr=/^[^(]*\(\s*([^)]*)\)/m,Qr=/,/,to=/^\s*(_?)(\S+?)\1\s*$/,eo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,no=e("$injector");de.$$annotate=ce;var io=e("$animate"),ro=1,oo="ng-animate",ao=function(){this.$get=g},so=function(){var t=new Yr,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=k(e)?e.split(" "):fr(e)?e:[],o(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){o(e,function(e){var n=t.get(e);if(n){var i=ge(e.attr("class")),r="",a="";o(n,function(t,e){var n=!!i[e];t!==n&&(t?r+=(r.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){r&&Wt(t,r),a&&Ut(t,a)}),t["delete"](e)}}),e.length=0}function s(n,o,s){var l=t.get(n)||{},u=r(l,o,!0),c=r(l,s,!1);(u||c)&&(t.set(n,l),e.push(n),1===e.length&&i.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},lo=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw io("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){var e=new RegExp("[(\\s|\\/)]"+oo+"[(\\s|\\/)]");if(e.test(n.toString()))throw n=null,io("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',oo)}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=fe(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&nr(i),r=r&&nr(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",me(o))},move:function(n,i,r,o){return i=i&&nr(i),r=r&&nr(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",me(o))},leave:function(e,n){return t.push(e,"leave",me(n),function(){e.remove()})},addClass:function(e,n,i){return i=me(i),i.addClass=pe(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=me(i),i.removeClass=pe(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=me(r),r.addClass=pe(r.addClass,n),r.removeClass=pe(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=me(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=pe(o.tempClasses,r),t.push(e,"animate",o)}}}]}],uo=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},co=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function a(t){this.setHost(t);var e=n(),o=function(t){r(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){i()?o(t):e(t)},this._state=0}var s=0,l=1,u=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===u?t():this._doneCallbacks.push(t)},progress:g,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=l,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==u&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=u)}},a}]},ho=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=j(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},po=e("$compile"),fo=new _e;Ce.$inject=["$provide","$$sanitizeUriProvider"],ke.prototype.isFirstChange=function(){return this.previousValue===fo};var go=/^((?:x|data)[:\-_])/i,mo=/[:\-_]+(.)/g,vo=e("$controller"),yo=/^(\S+)(\s+as\s+([\w$]+))?$/,bo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof nr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},wo="application/json",_o={"Content-Type":wo+";charset=utf-8"},Co=/^\[|^\{(?!\{)/,ko={"[":/]$/,"{":/}$/},xo=/^\)]\}',?\n/,So=e("$http"),$o=dr.$interpolateMinErr=e("$interpolate");$o.throwNoconcat=function(t){throw $o("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},$o.interr=function(t,e){return $o("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Do=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=dr.callbacks,n={};return{createCallback:function(i){var r="_"+(e.$$counter++).toString(36),o="angular.callbacks."+r,a=t(r);return n[o]=e[r]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var i=n[t];delete e[i.id],delete n[t]}}}},To=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Eo={http:80,https:443,ftp:21},Ao=e("$location"),Mo=/^\s*[\\/]{2,}/,Po={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:an("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=To.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:an("$$protocol"),host:an("$$host"),port:an("$$port"),path:sn("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(k(t)||x(t))t=t.toString(),this.$$search=nt(t);else{if(!_(t))throw Ao("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=j(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:sn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([on,rn,nn],function(t){t.prototype=Object.create(Po),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==nn||!this.$$html5)throw Ao("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Oo=e("$parse"),No={}.constructor.prototype.valueOf,Lo=bt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Lo[t]=!0});var Io={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ro=function(t){this.options=t};Ro.prototype={constructor:Ro,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=Lo[e],o=Lo[n],a=Lo[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=w(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Oo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ji(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Io[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Bo=function(t,e){this.lexer=t,this.options=e};Bo.Program="Program",Bo.ExpressionStatement="ExpressionStatement",Bo.AssignmentExpression="AssignmentExpression",Bo.ConditionalExpression="ConditionalExpression",Bo.LogicalExpression="LogicalExpression",Bo.BinaryExpression="BinaryExpression",Bo.UnaryExpression="UnaryExpression",Bo.CallExpression="CallExpression",Bo.MemberExpression="MemberExpression",Bo.Identifier="Identifier",Bo.Literal="Literal",Bo.ArrayExpression="ArrayExpression",Bo.Property="Property",Bo.ObjectExpression="ObjectExpression",Bo.ThisExpression="ThisExpression",Bo.LocalsExpression="LocalsExpression",Bo.NGValueParameter="NGValueParameter",Bo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Bo.Program,body:t}},expressionStatement:function(){return{type:Bo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!mn(t))throw Oo("lval","Trying to assign a value to a non l-value");t={type:Bo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Bo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Bo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Bo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Bo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=j(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Bo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Bo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Bo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Bo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Bo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Bo.Identifier,name:t.text}},constant:function(){return{type:Bo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Bo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Bo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),
e.push(t)}while(this.expect(","));return this.consume("}"),{type:Bo.ObjectExpression,properties:e}},throwError:function(t,e){throw Oo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Oo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Oo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:Bo.ThisExpression},$locals:{type:Bo.LocalsExpression}}},wn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(t,e.$filter);var n,i="";if(this.stage="assign",n=vn(t)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var a=gn(t.body);e.stage="inputs",o(a,function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push(i),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,cn,dn,hn);return this.state=this.stage=void 0,l},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,r,a){var s,l,u,c,d,h=this;if(i=i||g,!a&&w(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,r,!0));switch(t.type){case Bo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Bo.Literal:c=this.escape(t.value),this.assign(e,c),i(e||c);break;case Bo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),i(c);break;case Bo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(s,l):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(l,0):"("+s+")"+t.operator+"("+l+")",this.assign(e,c),i(c);break;case Bo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case Bo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case Bo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),i(e);break;case Bo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(l=h.nextId(),h.recurse(t.property,l),h.getStringValue(l),r&&1!==r&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.computedMember(s,l),h.assign(e,c),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),c=h.nonComputedMember(s,t.property.name),h.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!r);break;case Bo.CallExpression:e=e||this.nextId(),t.filter?(l=h.filter(t.callee.name),u=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",h.assign(e,c),i(e)):(l=h.nextId(),s={},u=[],h.recurse(t.callee,l,s,function(){h.if_(h.notNull(l),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c=s.name?h.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",h.assign(e,c)},function(){h.assign(e,"undefined")}),i(e)}));break;case Bo.AssignmentExpression:l=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,l),c=h.member(s.context,s.name,s.computed)+t.operator+l,h.assign(e,c),i(e||c)})},1);break;case Bo.ArrayExpression:u=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),i(e||c);break;case Bo.ObjectExpression:u=[],d=!1,o(t.properties,function(t){t.computed&&(d=!0)}),d?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Bo.Identifier?t.key.name:""+t.key.value,l=h.nextId(),h.recurse(t.value,l),h.assign(h.member(e,s,t.computed),l)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Bo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),i(e||c);break;case Bo.ThisExpression:this.assign(e,"s"),i(e||"s");break;case Bo.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case Bo.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(k(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Oo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},_n.prototype={compile:function(t){var e=this;fn(t,e.$filter);var n,i;(n=vn(t))&&(i=this.recurse(n));var r,a=gn(t.body);a&&(r=[],o(a,function(t,n){var i=e.recurse(t);t.input=i,r.push(i),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var l=0===t.body.length?g:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(i){n=i(t,e)}),n};return i&&(l.assign=function(t,e,n){return i(t,n,e)}),r&&(l.inputs=r),l},recurse:function(t,e,n){var i,r,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Bo.Literal:return this.value(t.value,e);case Bo.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case Bo.BinaryExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Bo.LogicalExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Bo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Bo.Identifier:return s.identifier(t.name,e,n);case Bo.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(i,r,e,n):this.nonComputedMember(i,r,e,n);case Bo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,n,i,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](t,n,i,o));var u=r.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,i,o){var s,l=r(t,n,i,o);if(null!=l.value){for(var u=[],c=0;c<a.length;++c)u.push(a[c](t,n,i,o));s=l.value.apply(l.context,u)}return e?{value:s}:s};case Bo.AssignmentExpression:return i=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,o,a){var s=i(t,n,o,a),l=r(t,n,o,a);return s.context[s.name]=l,e?{value:l}:l};case Bo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case Bo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Bo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case Bo.ThisExpression:return function(t){return e?{value:t}:t};case Bo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Bo.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=w(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=w(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=hn(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var l=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r,o,a){var s=r&&t in r?r:i;n&&1!==n&&s&&null==s[t]&&(s[t]={});var l=s?s[t]:void 0;return e?{context:s,name:t,value:l}:l}},computedMember:function(t,e,n,i){return function(r,o,a,s){var l,u,c=t(r,o,a,s);return null!=c&&(l=e(r,o,a,s),l=cn(l),i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,n,i){return function(r,o,a,s){var l=t(r,o,a,s);i&&1!==i&&l&&null==l[e]&&(l[e]={});var u=null!=l?l[e]:void 0;return n?{context:l,name:e,value:u}:u}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}},Cn.prototype={constructor:Cn,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=yn(e),n.constant=bn(e),n}};var Ho=e("$sce"),Fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zo=/_([a-z])/g,jo=e("$compile"),Vo=t.document.createElement("a"),Uo=Fn(t.location.href);Vn.$inject=["$document"],Wn.$inject=["$provide"];var Wo=22,Go=".",qo="0";Zn.$inject=["$locale"],Jn.$inject=["$locale"];var Ko={yyyy:ni("FullYear",4,0,!1,!0),yy:ni("FullYear",2,0,!0,!0),y:ni("FullYear",1,0,!1,!0),MMMM:ii("Month"),MMM:ii("Month",!0),MM:ni("Month",2,1),M:ni("Month",1,1),LLLL:ii("Month",!1,!0),dd:ni("Date",2),d:ni("Date",1),HH:ni("Hours",2),H:ni("Hours",1),hh:ni("Hours",2,-12),h:ni("Hours",1,-12),mm:ni("Minutes",2),m:ni("Minutes",1),ss:ni("Seconds",2),s:ni("Seconds",1),sss:ni("Milliseconds",3),EEEE:ii("Day"),EEE:ii("Day",!0),a:li,Z:ri,ww:si(2),w:si(1),G:ui,GG:ui,GGG:ui,GGGG:ci},Yo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Zo=/^-?\d+$/;di.$inject=["$locale"];var Jo=v(Ji),Xo=v(Xi);gi.$inject=["$parse"];var Qo=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===lr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ta={};o(Wr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=xe("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),ta[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(qr,function(t,e){ta[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(qi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=xe("ng-"+t);ta[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===lr.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(er&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var ea={$addControl:g,$$renameControl:vi,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},na="ng-pending",ia="ng-submitted";yi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],yi.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){mt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),z(this.$$controls,t),t.$$parentForm=ea},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,za),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fa,za+" "+ia),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,ia),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},wi({clazz:yi,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(z(i,n),0===i.length&&delete t[e])}});var ra=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||g}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:yi,compile:function(n,r){n.addClass(Fa).addClass(Ba);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var c=o?i(s.$name):g;o&&(c(t,s),r.$observe(o,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),d(s,ea)})}}}};return r}]},oa=ra(),aa=ra(!0),sa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,la=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ua=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ca=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,da=/^(\d{4,})-(\d{2})-(\d{2})$/,ha=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pa=/^(\d{4,})-W(\d\d)$/,fa=/^(\d{4,})-(\d\d)$/,ga=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ma="keydown wheel mousedown",va=bt();o("date,datetime-local,month,time,week".split(","),function(t){va[t]=!0});var ya={text:ki,date:Di("date",da,$i(da,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Di("datetimelocal",ha,$i(ha,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Di("time",ga,$i(ga,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Di("week",pa,Si,"yyyy-Www"),month:Di("month",fa,$i(fa,["yyyy","MM"]),"yyyy-MM"),number:Ni,url:Ii,email:Ri,radio:Bi,range:Li,checkbox:Fi,hidden:g,button:g,submit:g,reset:g,file:g},ba=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(ya[Ji(a.type)]||ya.text)(r,o,a,s[0],e,t,n,i)}}}}],wa=/^(true|false|\d+)$/,_a=function(){function t(t,e,n){var i=w(n)?n:9===er?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return wa.test(n.ngValue)?function(e,n,i){var r=e.$eval(i.ngValue);t(n,i,r)}:function(e,n,i){e.$watch(i.ngValue,function(e){t(n,i,e)})}}}},Ca=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=wt(t)})}}}}],ka=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=b(t)?"":t})}}}}],xa=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],Sa=v({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),$a=zi("",!0),Da=zi("Odd",0),Ta=zi("Even",1),Ea=mi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Aa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ma={},Pa={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=xe("ng-"+t);Ma[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};Pa[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Oa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=yt(s.clone),t.leave(u).done(function(t){t!==!1&&(u=null)}),s=null))})}}}],Na=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:dr.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(t){t!==!1&&(h=null)}),h=p,p=null)};i.$watch(o,function(o){var l=function(t){t===!1||!w(s)||s&&!i.$eval(s)||e()},h=++f;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&h===f){var e=i.$new();u.template=t;var s=c(e,function(t){g(),n.enter(t,null,r).done(l)});d=e,p=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||h===f&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],La=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return lr.call(i[0]).match(/SVG/)?(i.empty(),void e(Ot(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],Ia=mi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ra=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",a="false"!==n.ngTrim,s=a?mr(r):r,l=function(t){if(!b(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?mr(t):t)}),e}};i.$parsers.push(l),i.$formatters.push(function(t){return fr(t)?t.join(r):void 0}),i.$isEmpty=function(t){return!t||!t.length}}}},Ba="ng-valid",Ha="ng-invalid",Fa="ng-pristine",za="ng-dirty",ja="ng-untouched",Va="ng-touched",Ua="ng-empty",Wa="ng-not-empty",Ga=e("ngModel");ji.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],ji.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return $(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){$(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ga("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,tt(this.$$element))},$render:g,$isEmpty:function(t){return b(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Wa),this.$$animate.addClass(this.$$element,Ua)):(this.$$animate.removeClass(this.$$element,Ua),this.$$animate.addClass(this.$$element,Wa))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,za),this.$$animate.addClass(this.$$element,Fa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,za),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,ja,Va)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Va,ja)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!pr(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){r||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function i(){var t=c.$$parserName||"parse";return b(c.$$parserValid)?(s(t,null),!0):(c.$$parserValid||(o(c.$validators,function(t,e){s(e,null)}),o(c.$asyncValidators,function(t,e){s(e,null)})),s(t,c.$$parserValid),c.$$parserValid)}function r(){var n=!0;return o(c.$validators,function(i,r){var o=Boolean(i(t,e));n=n&&o,s(r,o)}),n?!0:(o(c.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],i=!0;o(c.$asyncValidators,function(r,o){var a=r(t,e);if(!N(a))throw Ga("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?c.$$q.all(n).then(function(){l(i)},g):l(!0)}function s(t,e){u===c.$$currentValidationRunId&&c.$setValidity(t,e)}function l(t){u===c.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var u=this.$$currentValidationRunId,c=this;return i()&&r()?void a():void l(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){i.$modelValue!==o&&i.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,i=this;if(this.$$parserValid=b(n)?void 0:!0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),b(n)){this.$$parserValid=!1;break}pr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(i.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");x(e[t])?e=e[t]:x(e["default"])&&(e=e["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},wi({clazz:ji,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var qa,Ka=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ji,priority:1,compile:function(e){return e.addClass(Fa).addClass(ja).addClass(Ba),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){function o(){a.$setTouched()}var a=r[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ya=/(\s+|^)default(\s+|$)/;Ui.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=d({},t),o(t,function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=mr(n.replace(Ya,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Wi(t,this.$$options)),Wi(t,qa.$$options),new Ui(t)}},qa=new Ui({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Za=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:qa,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Ja=mi({terminal:!0,priority:1e3}),Xa=e("ngOptions"),Qa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ts=["$compile","$document","$parse",function(e,n,i){function a(t,e,n){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!u&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Qa);if(!s)throw Xa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,tt(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],h=i(s[2]?s[1]:l),p=c&&i(c),f=p||h,g=d&&i(d),m=d?function(t,e){return g(n,e)}:function(t){return oe(t)},v=function(t,e){return m(t,k(t,e))},y=i(s[2]||s[1]),b=i(s[3]||""),w=i(s[4]||""),_=i(s[8]),C={},k=u?function(t,e){return C[u]=e,C[l]=t,C}:function(t){return C[l]=t,C};return{trackBy:d,getTrackByValue:v,getWatchables:i(_,function(t){var e=[];t=t||[];for(var i=a(t),r=i.length,o=0;r>o;o++){var l=t===i?o:i[o],u=t[l],c=k(u,l),d=m(u,c);if(e.push(d),s[2]||s[1]){var h=y(n,c);e.push(h)}if(s[4]){var p=w(n,c);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},i=_(n)||[],r=a(i),s=r.length,l=0;s>l;l++){var u=i===r?l:r[l],c=i[u],h=k(c,u),p=f(n,h),g=m(p,h),C=y(n,h),x=b(n,h),S=w(n,h),$=new o(g,p,C,x,S);t.push($),e[g]=$}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return d?j(t.viewValue):t.viewValue}}}}}function s(t,i,r,s){function c(t,e){var n=l.cloneNode(!1);
e.appendChild(n),h(t,n)}function d(t){var e=k.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=k&&f.readValue();if(k)for(var e=k.items.length-1;e>=0;e--){var n=k.items[e];Zt(w(n.group)?n.element.parentNode:n.element)}k=x.getOptions();var r={};if(_&&i.prepend(f.emptyOption),k.items.forEach(function(t){var e;w(t.group)?(e=r[t.group],e||(e=u.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),c(t,e)):c(t,S)}),i[0].appendChild(S),g.$render(),!g.$isEmpty(t)){var o=f.readValue(),a=x.trackBy||m;(a?U(t,o):t===o)||(g.$setViewValue(o),g.$render())}}for(var f=s[0],g=s[1],m=r.multiple,v=0,y=i.children(),b=y.length;b>v;v++)if(""===y[v].value){f.hasEmptyOption=!0,f.emptyOption=y.eq(v);break}var _=!!f.emptyOption,C=nr(l.cloneNode(!1));C.val("?");var k,x=a(r.ngOptions,i,t),S=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(t){return"?"},m?(f.writeValue=function(t){var e=t&&t.map(d)||[];k.items.forEach(function(t){t.element.selected&&!F(e,t)&&(t.element.selected=!1)})},f.readValue=function(){var t=i.val()||[],e=[];return o(t,function(t){var n=k.selectValueMap[t];n&&!n.disabled&&e.push(k.getViewValueFromOption(n))}),e},x.trackBy&&t.$watchCollection(function(){return fr(g.$viewValue)?g.$viewValue.map(function(t){return x.getTrackByValue(t)}):void 0},function(){g.$render()})):(f.writeValue=function(t){var e=k.selectValueMap[i.val()],n=k.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),f.unselectEmptyOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):_?f.selectEmptyOption():f.unknownOption.parent().length?f.updateUnknownOption(t):f.renderUnknownOption(t)},f.readValue=function(){var t=k.selectValueMap[i.val()];return t&&!t.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),k.getViewValueFromOption(t)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(g.$viewValue)},function(){g.$render()})),_&&(f.emptyOption.remove(),e(f.emptyOption)(t),f.emptyOption[0].nodeType===Tr?(f.hasEmptyOption=!1,f.registerOption=function(t,e){""===e.val()&&(f.hasEmptyOption=!0,f.emptyOption=e,f.emptyOption.removeClass("ng-scope"),g.$render(),e.on("$destroy",function(){f.hasEmptyOption=!1,f.emptyOption=void 0}))}):f.emptyOption.removeClass("ng-scope")),i.empty(),p(),t.$watchCollection(x.getWatchables,p)}var l=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=g},post:s}}}],es=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,f=a.$eval(h)||{},m={},v=e.startSymbol(),y=e.endSymbol(),w=v+d+"-"+p+y,_=dr.noop;o(l,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Ji(n[2]);f[i]=s.attr(l.$attr[e])}}),o(f,function(t,n){m[n]=e(t.replace(i,w))}),a.$watch(d,function(e){var i=parseFloat(e),r=pr(i);if(r||i in f||(i=t.pluralCat(i-p)),!(i===c||r&&pr(c))){_();var o=m[i];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),_=g,u()):_=a.$watch(o,u),c=i}})}}}],ns=["$parse","$animate","$compile",function(t,n,i){var a="$$NG_REMOVED",s=e("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,d){var h=d.ngRepeat,p=i.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var g=f[1],m=f[2],v=f[3],y=f[4];if(f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=f[3]||f[1],w=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var _,C,k,x,S={$id:oe};return y?_=t(y):(k=function(t,e){return oe(e)},x=function(t){return t}),function(t,e,i,d,f){_&&(C=function(e,n,i){return w&&(S[w]=e),S[b]=n,S.$index=i,_(t,S)});var g=bt();t.$watchCollection(m,function(i){var d,m,y,_,S,$,D,T,E,A,M,P,O=e[0],N=bt();if(v&&(t[v]=i),r(i))E=i,T=C||k;else{T=C||x,E=[];for(var L in i)Yi.call(i,L)&&"$"!==L.charAt(0)&&E.push(L)}for(_=E.length,M=new Array(_),d=0;_>d;d++)if(S=i===E?d:E[d],$=i[S],D=T(S,$,d),g[D])A=g[D],delete g[D],N[D]=A,M[d]=A;else{if(N[D])throw o(M,function(t){t&&t.scope&&(g[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,D,$);M[d]={id:D,scope:void 0,clone:void 0},N[D]=!0}for(var I in g){if(A=g[I],P=yt(A.clone),n.leave(P),P[0].parentNode)for(d=0,m=P.length;m>d;d++)P[d][a]=!0;A.scope.$destroy()}for(d=0;_>d;d++)if(S=i===E?d:E[d],$=i[S],A=M[d],A.scope){y=O;do y=y.nextSibling;while(y&&y[a]);u(A)!==y&&n.move(yt(A.clone),null,O),O=c(A),l(A.scope,d,b,$,w,S,_)}else f(function(t,e){A.scope=e;var i=p.cloneNode(!1);t[t.length++]=i,n.enter(t,null,O),O=i,A.clone=t,N[A.id]=A,l(A.scope,d,b,$,w,S,_)});g=N})}}}}],is="ng-hide",rs="ng-hide-animate",os=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,is,{tempClasses:rs})})}}}],as=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,is,{tempClasses:rs})})}}}],ss=mi(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ls=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=r.ngSwitch||r.on,l=[],u=[],c=[],d=[],h=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(s,function(n){for(var i,r;c.length;)t.cancel(c.pop());for(i=0,r=d.length;r>i;++i){var s=yt(u[i].clone);d[i].$destroy();var p=c[i]=t.leave(s);p.done(h(c,i))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};u.push(a),t.enter(i,o.parent(),o)})})})}}}],us=mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});o(a,function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),cs=mi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ds=e("ngTransclude"),hs=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length&&l(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function l(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];if(i.nodeType!==Dr||i.nodeValue.trim())return!0}}if(!o)throw ds("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",tt(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var u=i.ngTransclude||i.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],ps=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],fs={$setViewValue:g,$render:g},gs=["$element","$scope",function(e,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function r(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Yr;o.selectValueMap={},o.ngModelCtrl=fs,o.multiple=!1,o.unknownOption=nr(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Gi(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Gi(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+oe(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Gi(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Gi(nr(n),!1),o.hasOption(t)){o.removeUnknownOption();var i=oe(t);e.val(i in o.selectValueMap?i:t);var r=e[0].options[e[0].selectedIndex];Gi(nr(r),!0)}else null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Tr){mt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),i()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a["delete"](t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)};var s=!1,l=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var l,u=NaN;n.$observe("value",function(t){var n,i=e.prop("selected");w(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=oe(t),l=t,o.selectValueMap[u]=t,o.addOption(t,e),e.attr("value",u),n&&i&&r()})}else a?n.$observe("value",function(t){o.readValue();var n,i=e.prop("selected");w(l)&&(o.removeOption(l),n=!0),l=t,o.addOption(t,e),n&&i&&r()}):s?t.$watch(s,function(t,i){n.$set("value",t);var a=e.prop("selected");i!==t&&o.removeOption(i),o.addOption(t,e),i&&a&&r()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),i(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&r(!0)})}}],ms=function(){function t(t,e,n,i){var r=i[0],a=i[1];if(!a)return void(r.registerOption=g);if(r.ngModelCtrl=a,e.on("change",function(){r.removeUnknownOption(),t.$apply(function(){a.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),t},r.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(F(t,e.value)||F(t,r.selectValueMap[e.value])),i=e.selected;n!==i&&Gi(nr(e),n)})};var s,l=NaN;t.$watch(function(){l!==a.$viewValue||U(s,a.$viewValue)||(s=Ct(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:gs,priority:1,link:{pre:t,post:e}}},vs=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return w(n.ngValue)||(w(n.value)?i=t(n.value,!0):(r=t(e.text(),!0),r||n.$set("value",e.text()))),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],ys=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},bs=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(k(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,tt(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||b(o)||o.test(e)}}}}},ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=p(t);r=pr(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},_s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(pt(),St(dr),dr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void nr(function(){lt(t.document,ut)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t,e,n){if(!t)throw gt("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(Y(t)&&(t=t.join(" ")),Y(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=Y(t)?t:t&&tt(t)&&t.length?t.split(/\s+/):[],K(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof nt)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===R)return t;break;default:return nt(l(t))}return t.nodeType===R?nt(t):void 0}function l(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===R)return n}}function u(t,e,n){K(e,function(e){t.addClass(e,n)})}function c(t,e,n){K(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(u(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function h(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||it;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=it},t.$$prepared=!0}return t}function p(t,e){f(t,e),g(t,e)}function f(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=x(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==it?i.domOperation:null;return q(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function v(t,e,n){function i(t){tt(t)&&(t=t.split(" "));var e={};return K(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,o=-1,a={};t=i(t),e=i(e),K(e,function(t,e){a[e]=r}),n=i(n),K(n,function(t,e){a[e]=a[e]===r?null:o});var s={addClass:"",removeClass:""};return K(a,function(e,n){var i,a;e===r?(i="addClass",a=!t[n]||t[n+H]):e===o&&(i="removeClass",a=t[n]||t[n+B]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(t){return t instanceof nt?t[0]:t}function b(t,e,n){var i="";e&&(i=o(e,F,!0)),n.addClass&&(i=x(i,o(n.addClass,B))),n.removeClass&&(i=x(i,o(n.removeClass,H))),i.length&&(n.preparationClasses=i,t.addClass(i))}function w(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function _(t,e){var n=e?"-"+e+"s":"";return k(t,[pt,n]),[pt,n]}function C(t,e){var n=e?"paused":"",i=L+ut;return k(t,[i,n]),[i,n]}function k(t,e){var n=e[0],i=e[1];t.style[n]=i}function x(t,e){return t?e?t+" "+e:t:e}function S(t){return[ht,t+"s"]}function $(t,e){var n=e?dt:pt;return[n,t+"s"]}function D(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return K(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),i[e]=n}}),i}function T(t){var e=0,n=t.split(/\s*,\s*/);return K(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function E(t){return 0===t||null!=t}function A(t,e){var n=O,i=t+"s";return e?n+=rt:i+=" linear all",[n,i]}function M(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function P(t,e,n){K(n,function(n){t[n]=Z(t[n])?t[n]:e.style.getPropertyValue(n)})}var O,N,L,I,R=1,B="-add",H="-remove",F="ng-",z="-active",j="-prepare",V="ng-animate",U="$$ngAnimateChildren",W="";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(W="-webkit-",O="WebkitTransition",N="webkitTransitionEnd transitionend"):(O="transition",N="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(W="-webkit-",L="WebkitAnimation",I="webkitAnimationEnd animationend"):(L="animation",I="animationend");var G,q,K,Y,Z,J,X,Q,tt,et,nt,it,rt="Duration",ot="Property",at="Delay",st="TimingFunction",lt="IterationCount",ut="PlayState",ct=9999,dt=L+at,ht=L+rt,pt=O+at,ft=O+rt,gt=e.$$minErr("ng"),mt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],vt=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(U,t)}var o=i.ngAnimateChildren;tt(o)&&0===o.length?n.data(U,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],yt="$$animateCss",bt=1e3,wt=3,_t=1.5,Ct={transitionDuration:ft,transitionDelay:pt,transitionProperty:O+ot,animationDuration:ht,animationDelay:dt,animationIterationCount:L+lt},kt={transitionDuration:ft,transitionDelay:pt,animationDuration:ht,animationDelay:dt},xt=["$animateProvider",function(t){var e=M(),n=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,s,l,u,c,m,v){function b(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++j);return r+"-"+t.getAttribute("class")+"-"+e}function w(n,i,r,o){var a=e.get(r);return a||(a=D(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(r,a),a}function x(r,a,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=o(a,"-stagger");i.addClass(r,c),u=D(t,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(s,u)}return u||{}}function T(t){V.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=u(),i=0;i<V.length;i++)V[i](t);V.length=0})}function M(t,e,n){var i=w(t,e,n,Ct),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var R=d(i),j=0,V=[];return function(t,n){function u(){m()}function d(){m(!0)}function m(e){if(!(Z||X&&J)){Z=!0,J=!1,U.$$skipPreparationClasses||i.removeClass(t,Ct),i.removeClass(t,St),C(q,!1),_(q,!1),K(ut,function(t){q.style[t[0]]=""}),R(t,U),p(t,U),Object.keys(W).length&&K(W,function(t,e){t?q.style.setProperty(e,t):q.style.removeProperty(e)}),U.onDone&&U.onDone(),pt&&pt.length&&t.off(pt.join(" "),j);var n=t.data(yt);n&&(l.cancel(n[0].timer),t.removeData(yt)),Q&&Q.complete(!e)}}function w(t){Ht.blockTransition&&_(q,t),Ht.blockKeyframeAnimation&&C(q,!!t)}function D(){return Q=new s({end:u,cancel:d}),T(it),m(),{$$willAnimate:!1,start:function(){return Q},end:u}}function j(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(wt));Math.max(n-lt,0)>=nt&&i>=rt&&(X=!0,m())}function V(){function e(){if(!Z){if(w(!1),K(ut,function(t){var e=t[0],n=t[1];q.style[e]=n}),R(t,U),i.addClass(t,St),Ht.recalculateTimingStyles){if(xt=q.getAttribute("class")+" "+Ct,Tt=b(q,xt),Rt=M(q,xt,Tt),Bt=Rt.maxDelay,et=Math.max(Bt,0),rt=Rt.maxDuration,0===rt)return void m();Ht.hasTransitions=Rt.transitionDuration>0,Ht.hasAnimations=Rt.animationDuration>0}if(Ht.applyAnimationDelay&&(Bt="boolean"!=typeof U.delay&&E(U.delay)?parseFloat(U.delay):Bt,et=Math.max(Bt,0),Rt.animationDelay=Bt,Ft=$(Bt,!0),ut.push(Ft),q.style[Ft[0]]=Ft[1]),nt=et*bt,at=rt*bt,U.easing){var e,r=U.easing;Ht.hasTransitions&&(e=O+st,ut.push([e,r]),q.style[e]=r),Ht.hasAnimations&&(e=L+st,ut.push([e,r]),q.style[e]=r)}Rt.transitionDuration&&pt.push(N),Rt.animationDuration&&pt.push(I),lt=Date.now();var o=nt+_t*at,a=lt+o,s=t.data(yt)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(m)}if(u){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(m),t.data(yt,s)}pt.length&&t.on(pt.join(" "),j),U.to&&(U.cleanupStyles&&P(W,q,Object.keys(U.to)),g(t,U))}}function n(){var e=t.data(yt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(yt)}}if(!Z){if(!q.parentNode)return void m();var r=function(t){if(X)J&&t&&(J=!1,m());else if(J=!t,Rt.animationDuration){var e=C(q,J);J?ut.push(e):a(ut,e)}},o=Lt>0&&(Rt.transitionDuration&&0===Et.transitionDuration||Rt.animationDuration&&0===Et.animationDuration)&&Math.max(Et.animationDelay,Et.transitionDelay);o?l(e,Math.floor(o*Lt*bt),!1):e(),tt.resume=function(){r(!0)},tt.pause=function(){r(!1)}}}var U=n||{};U.$$prepared||(U=h(G(U)));var W={},q=y(t);if(!q||!q.parentNode||!v.enabled())return D();var Z,J,X,Q,tt,et,nt,rt,at,lt,ut=[],dt=t.attr("class"),ht=r(U),pt=[];if(0===U.duration||!c.animations&&!c.transitions)return D();var ft=U.event&&Y(U.event)?U.event.join(" "):U.event,gt=ft&&U.structural,mt="",vt="";gt?mt=o(ft,F,!0):ft&&(mt=ft),U.addClass&&(vt+=o(U.addClass,B)),U.removeClass&&(vt.length&&(vt+=" "),vt+=o(U.removeClass,H)),U.applyClassesEarly&&vt.length&&R(t,U);var Ct=[mt,vt].join(" ").trim(),xt=dt+" "+Ct,St=o(Ct,z),$t=ht.to&&Object.keys(ht.to).length>0,Dt=(U.keyframeStyle||"").length>0;if(!Dt&&!$t&&!Ct)return D();var Tt,Et;if(U.stagger>0){var At=parseFloat(U.stagger);Et={transitionDelay:At,animationDelay:At,transitionDuration:0,animationDuration:0}}else Tt=b(q,xt),Et=x(q,Ct,Tt,kt);U.$$skipPreparationClasses||i.addClass(t,Ct);var Mt;if(U.transitionStyle){var Pt=[O,U.transitionStyle];k(q,Pt),ut.push(Pt)}if(U.duration>=0){Mt=q.style[O].length>0;var Ot=A(U.duration,Mt);k(q,Ot),ut.push(Ot)}if(U.keyframeStyle){var Nt=[L,U.keyframeStyle];k(q,Nt),ut.push(Nt)}var Lt=Et?U.staggerIndex>=0?U.staggerIndex:e.count(Tt):0,It=0===Lt;It&&!U.skipBlocking&&_(q,ct);var Rt=M(q,xt,Tt),Bt=Rt.maxDelay;et=Math.max(Bt,0),rt=Rt.maxDuration;var Ht={};if(Ht.hasTransitions=Rt.transitionDuration>0,Ht.hasAnimations=Rt.animationDuration>0,Ht.hasTransitionAll=Ht.hasTransitions&&"all"===Rt.transitionProperty,Ht.applyTransitionDuration=$t&&(Ht.hasTransitions&&!Ht.hasTransitionAll||Ht.hasAnimations&&!Ht.hasTransitions),Ht.applyAnimationDuration=U.duration&&Ht.hasAnimations,Ht.applyTransitionDelay=E(U.delay)&&(Ht.applyTransitionDuration||Ht.hasTransitions),Ht.applyAnimationDelay=E(U.delay)&&Ht.hasAnimations,Ht.recalculateTimingStyles=vt.length>0,(Ht.applyTransitionDuration||Ht.applyAnimationDuration)&&(rt=U.duration?parseFloat(U.duration):rt,Ht.applyTransitionDuration&&(Ht.hasTransitions=!0,Rt.transitionDuration=rt,Mt=q.style[O+ot].length>0,ut.push(A(rt,Mt))),Ht.applyAnimationDuration&&(Ht.hasAnimations=!0,Rt.animationDuration=rt,ut.push(S(rt)))),0===rt&&!Ht.recalculateTimingStyles)return D();if(null!=U.delay){var Ft;"boolean"!=typeof U.delay&&(Ft=parseFloat(U.delay),et=Math.max(Ft,0)),Ht.applyTransitionDelay&&ut.push($(Ft)),Ht.applyAnimationDelay&&ut.push($(Ft,!0))}return null==U.duration&&Rt.transitionDuration>0&&(Ht.recalculateTimingStyles=Ht.recalculateTimingStyles||It),nt=et*bt,at=rt*bt,U.skipBlocking||(Ht.blockTransition=Rt.transitionDuration>0,Ht.blockKeyframeAnimation=Rt.animationDuration>0&&Et.animationDelay>0&&0===Et.animationDuration),U.from&&(U.cleanupStyles&&P(W,q,Object.keys(U.from)),f(t,U)),Ht.blockTransition||Ht.blockKeyframeAnimation?w(rt):U.skipBlocking||_(q,!1),{$$willAnimate:!0,end:u,start:function(){return Z?void 0:(tt={end:u,cancel:d,resume:null,pause:null},Q=new s(tt),T(V),Q)}}}}]}],St=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,a,s,l,u,c,d){function h(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return tt(t)&&(t=t.split(" ")),tt(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function f(e,a,l){function u(t){var e={},n=y(t).getBoundingClientRect();return K(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=v.scrollTop;break;case"left":i+=v.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(){var e=t(m,{addClass:r,delay:!0,from:u(a)});return e.$$willAnimate?e:null}function d(t){return t.attr("class")||""}function f(){var e=h(d(l)),n=p(e,b),i=p(b,e),a=t(m,{to:u(l),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function g(){m.remove(),a.removeClass(n),l.removeClass(n)}var m=nt(y(a).cloneNode(!0)),b=h(d(m));a.addClass(n),l.addClass(n),m.addClass(i),w.append(m);var _,C=c();if(!C&&(_=f(),!_))return g();var k=C||_;return{start:function(){function t(){n&&n.end()}var e,n=k.start();return n.done(function(){return n=null,!_&&(_=f())?(n=_.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new s({end:t,cancel:t})}}}function g(t,e,n,i){var r=m(t,it),o=m(e,it),a=[];return K(i,function(t){var e=t.out,i=t["in"],r=f(n,e,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function t(){K(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),K(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function m(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=x(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return it;var v=d[0].body,b=y(l),w=nt(e(b)||v.contains(b)?b:v);return function(t){return t.from&&t.to?g(t.from,t.to,t.classes,t.anchors):m(t)}}]}],$t=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=Y(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=d(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function l(){f=!0,s(),p(t,a)}function u(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(X(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(X(s))return s;return it}function c(t,e,i,r,o){var a=[];return K(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(t){a||(a=!0,(o||it)(t),r.complete(!t))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,t,e,i,function(t){var e=t===!1;l(e)}),r})}),a}function d(t,e,i,r,o){var a=c(t,e,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(t,"removeClass",i,r,"beforeRemoveClass"),l=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",i,r,"removeClass"),l=c(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&K(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){K(e,function(e){t?e.cancel():e.end()})}}}var f=!1;3===arguments.length&&Q(i)&&(a=i,i=null),a=h(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var g,m,v=a.addClass,y=a.removeClass,b=r(i);if(b.length){var w,_;"leave"===e?(_="leave",w="afterLeave"):(_="before"+e.charAt(0).toUpperCase()+e.substr(1),w=e),"enter"!==e&&"move"!==e&&(g=d(t,e,a,b,_)),m=d(t,e,a,b,w)}if(g||m){var C;return{$$willAnimate:!0,end:function(){return C?C.end():(l(),C=new n,C.complete(!0)),C},start:function(){function t(t){l(t),C.complete(t)}function e(e){f||((i||it)(e),t(e))}if(C)return C;C=new n;var i,r=[];return g&&r.push(function(t){i=g(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),m&&r.push(function(t){i=m(t)}),C.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),C}}}}}]}],Dt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){K(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],Tt="data-ng-animate",Et="$ngAnimatePin",At=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(f),n=Object.create(null);return K(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(f).some(function(t){return n[t]})}}function o(t,e,n){return g[t].some(function(t){return t(e,n)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var u=1,c=2,f=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(t,e){return!t.structural&&a(t)}),g.skip.push(function(t,e){return!t.structural&&!a(t)}),g.skip.push(function(t,e){return"leave"===e.event&&t.structural}),g.skip.push(function(t,e){return e.structural&&e.state===c&&!t.structural}),g.cancel.push(function(t,e){return e.structural&&t.structural}),g.cancel.push(function(t,e){return e.state===c&&t.structural}),g.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,i=t.removeClass,o=e.addClass,a=e.removeClass;return et(n)&&et(i)||et(o)&&et(a)?!1:r(n,a)||r(i,o)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,f,g,v,_,C,k,x,S,$){function D(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function T(t,e){return m(t,e,{})}function E(t,e,n){var i=[],r=j[n];return r&&K(r,function(r){it.call(r.node,e)?i.push(r.callback):"leave"===n&&it.call(r.node,t)&&i.push(r.callback)}),i}function A(t,e,n){var i=l(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}function M(t,e){"close"!==t||e.parentNode||rt.off(e)}function P(t,e,n){function l(t,e,n,r){S(function(){var t=E(k,v,e);t.length?i(function(){K(t,function(t){t(g,n,r)}),M(n,v)}):M(n,v)}),t.progress(e,n,r)}function d(t){w(g,f),X(g,f),p(g,f),f.domOperation(),x.complete(!t)}var f=G(n),g=s(t),v=y(g),k=v&&v.parentNode;f=h(f);var x=new C,S=D();if(Y(f.addClass)&&(f.addClass=f.addClass.join(" ")),f.addClass&&!tt(f.addClass)&&(f.addClass=null),Y(f.removeClass)&&(f.removeClass=f.removeClass.join(" ")),f.removeClass&&!tt(f.removeClass)&&(f.removeClass=null),f.from&&!Q(f.from)&&(f.from=null),f.to&&!Q(f.to)&&(f.to=null),!v)return d(),x;var A=[v.getAttribute("class"),f.addClass,f.removeClass].join(" ");if(!W(A))return d(),x;var P=["enter","move","leave"].indexOf(e)>=0,R=$(),z=!F||R||H.get(v),j=!z&&B.get(v)||{},V=!!j.state;if(z||V&&j.state===u||(z=!L(v,k,e)),z)return R&&l(x,e,"start"),d(),R&&l(x,e,"close"),x;P&&O(v);var U={structural:P,element:g,event:e,addClass:f.addClass,removeClass:f.removeClass,close:d,options:f,runner:x};if(V){var q=o("skip",U,j);if(q)return j.state===c?(d(),x):(m(g,j,U),j.runner);var Z=o("cancel",U,j);if(Z)if(j.state===c)j.runner.end();else{if(!j.structural)return m(g,j,U),j.runner;j.close()}else{var J=o("join",U,j);if(J){if(j.state!==c)return b(g,P?e:null,f),e=U.event=j.event,f=m(g,j,U),j.runner;T(g,U)}}}else T(g,U);var et=U.structural;if(et||(et="animate"===U.event&&Object.keys(U.options.to||{}).length>0||a(U)),!et)return d(),N(v),x;var nt=(j.counter||0)+1;return U.counter=nt,I(v,u,U),r.$$postDigest(function(){g=s(t);var n=B.get(v),i=!n;n=n||{};var r=g.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==nt||!o)return i&&(X(g,f),p(g,f)),(i||P&&n.event!==e)&&(f.domOperation(),x.end()),void(o||N(v));e=!n.structural&&a(n,!0)?"setClass":n.event,I(v,c);var u=_(g,e,n.options);x.setHost(u),l(x,e,"start",{}),u.done(function(t){d(!t);var n=B.get(v);n&&n.counter===nt&&N(v),l(x,e,"close",{})})}),x}function O(t){var e=t.querySelectorAll("["+Tt+"]");K(e,function(t){var e=parseInt(t.getAttribute(Tt),10),n=B.get(t);if(n)switch(e){case c:n.runner.end();case u:B["delete"](t)}})}function N(t){t.removeAttribute(Tt),B["delete"](t)}function L(t,e,n){var i,r=g[0].body,o=y(f),a=t===r||"HTML"===t.nodeName,s=t===o,l=!1,u=H.get(t),c=nt.data(t,Et);for(c&&(e=y(c));e&&(s||(s=e===o),e.nodeType===R);){var d=B.get(e)||{};if(!l){var h=H.get(e);if(h===!0&&u!==!1){u=!0;break}h===!1&&(u=!1),l=d.structural}if(et(i)||i===!0){var p=nt.data(e,U);Z(p)&&(i=p)}if(l&&i===!1)break;if(a||(a=e===r),a&&s)break;e=s||!(c=nt.data(e,Et))?e.parentNode:y(c)}var m=(!l||i)&&u!==!0;return m&&s&&a}function I(t,e,n){n=n||{},n.state=e,t.setAttribute(Tt,e);var i=B.get(t),r=i?q(i,n):n;B.set(t,r)}var B=new v,H=new v,F=null,z=r.$watch(function(){return 0===k.totalPendingRequests},function(t){t&&(z(),r.$$postDigest(function(){r.$$postDigest(function(){null===F&&(F=!0)})}))}),j=Object.create(null),V=e.classNameFilter(),W=V?function(t){return V.test(t)}:function(){return!0},X=d(x),it=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},rt={on:function(t,e,n){var i=l(e);j[t]=j[t]||[],j[t].push({node:i,callback:n}),nt(e).on("$destroy",function(){var r=B.get(i);r||rt.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||tt(arguments[0])){var i=j[t];i&&(j[t]=1===arguments.length?null:A(i,e,n))}else{e=arguments[0];for(var r in j)j[r]=A(j[r],e)}},pin:function(t,e){n(J(t),"element","not an element"),n(J(e),"parentElement","not an element"),t.data(Et,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,P(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!F;else{var i=J(t);if(i){var r=y(t);1===n?e=!H.get(r):H.set(r,!e)}else e=F=!!t}return e}};return rt}]}],Mt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,s,l,u,c,f){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;o.set(n,t);for(var a;i;){if(a=o.get(i)){a.processed||(a=e(a));break}i=i.parentNode}return(a||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];0>=r&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<t.length;i++){var a=t[i];o.set(a.domNode,t[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var m=[],v=d(t);return function(c,d,b){function w(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),i=[];return K(n,function(t){var e=t.getAttribute(o);e&&e.length&&i.push(t)}),i}function _(t){var e=[],n={};K(t,function(t,i){var r=t.element,a=y(r),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?w(a):[];if(u.length){var c=l?"to":"from";K(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:i,element:nt(t)}})}else e.push(t)});var i={},r={};return K(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(i[u]||(i[u]=!0,e.push(t[l])))}var c=t[a.animationID],d=t[s.animationID],h=a.animationID.toString();if(!r[h]){var p=r[h]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:C(c.classes,d.classes),from:c,to:d,anchors:[]};p.classes.length?e.push(p):(e.push(c),e.push(d))}r[h].anchors.push({out:a.element,"in":s.element})}),e}function C(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function k(t){for(var e=a.length-1;e>=0;e--){var n=a[e],i=l.get(n),r=i(t);if(r)return r}}function x(){c.addClass(V),M&&t.addClass(c,M),P&&(t.removeClass(c,P),P=null)}function S(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function $(){var t=r(c);!t||"leave"===d&&b.$$domOperationFired||t.end()}function D(e){c.off("$destroy",$),n(c),v(c,b),p(c,b),b.domOperation(),M&&t.removeClass(c,M),c.removeClass(V),E.complete(!e)}b=h(b);var T=["enter","move","leave"].indexOf(d)>=0,E=new u({end:function(){D()},cancel:function(){D(!0)}});if(!a.length)return D(),E;e(c,E);var A=i(c.attr("class"),i(b.addClass,b.removeClass)),M=b.tempClasses;M&&(A+=" "+M,b.tempClasses=null);var P;return T&&(P="ng-"+d+j,t.addClass(c,P)),m.push({element:c,classes:A,event:d,structural:T,options:b,beforeStart:x,close:D}),c.on("$destroy",$),m.length>1?E:(s.$$postDigest(function(){var t=[];K(m,function(e){r(e.element)?t.push(e):e.close()}),m.length=0;var e=_(t),n=[];K(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)){var o=k(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),S(t,a)}else n()}})}),f(g(n))}),E)}}]}],Pt=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){it=e.noop,G=e.copy,q=e.extend,nt=e.element,K=e.forEach,Y=e.isArray,tt=e.isString,Q=e.isObject,et=e.isUndefined,Z=e.isDefined,X=e.isFunction,J=e.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",Pt).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",mt).provider("$$animateQueue",At).provider("$$animation",Mt).provider("$animateCss",xt).provider("$$animateCssDriver",St).provider("$$animateJs",$t).provider("$$animateJsDriver",Dt)}(window,window.angular),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(){function t(t,e,i,r){return function(a,s,l){var u=l.$normalize(e);!n[u]||o(s,i)||l[u]||a.$watch(l[t],function(t){t=r?!t:!!t,s.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var i=e.module("ngAria",["ng"]).info({angularVersion:"1.6.4"}).provider("$aria",n),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],o=function(t,e){return-1!==e.indexOf(t[0].nodeName)?!0:void 0};i.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,i,a){return t.config(n)&&!i.attr(e)&&(a||!o(i,r))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&!o(e,r)}function i(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(r,o){var a=i(o,r);return{post:function(i,r,o,s){function l(){return s.$modelValue}function u(t){var e=o.value==s.$viewValue;r.attr("aria-checked",e)}function c(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=e("tabindex","tabindex",r,!1);switch(a){case"radio":case"checkbox":n(a,r)&&r.attr("role",a),e("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===a?u:c),d&&r.attr("tabindex",0);break;case"range":if(n(a,r)&&r.attr("role","slider"),t.config("ariaValue")){var h=!r.attr("aria-valuemin")&&(o.hasOwnProperty("min")||o.hasOwnProperty("ngMin")),p=!r.attr("aria-valuemax")&&(o.hasOwnProperty("max")||o.hasOwnProperty("ngMax")),f=!r.attr("aria-valuenow");h&&o.$observe("min",function(t){r.attr("aria-valuemin",t)}),p&&o.$observe("max",function(t){r.attr("aria-valuemax",t)}),f&&i.$watch(l,function(t){r.attr("aria-valuenow",t)})}d&&r.attr("tabindex",0)}!o.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",r,!1)&&o.$observe("required",function(){r.attr("aria-required",!!o.required)}),e("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,i){var a=e(i.ngClick);return function(e,n,i){o(n,r)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||i.ngKeydown||i.ngKeypress||i.ngKeyup||n.on("keydown",function(t){function n(){a(e,{$event:t})}var i=t.which||t.keyCode;(32===i||13===i)&&e.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,i){!t.config("tabindex")||n.attr("tabindex")||o(n,r)||n.attr("tabindex",0)}}])}(window,window.angular),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t,n,i){function r(t,i,r){var a,s;r=r||{},s=r.expires,a=e.isDefined(r.path)?r.path:o,e.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(s)&&(s=new Date(s));var l=encodeURIComponent(t)+"="+encodeURIComponent(i);l+=a?";path="+a:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"";var u=l.length+1;return u>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var o=i.baseHref(),a=t[0];return function(t,e,n){a.cookie=r(t,e,n)}}e.module("ngCookies",["ng"]).info({angularVersion:"1.6.4"}).provider("$cookies",[function(){function t(t){return t?e.extend({},n,t):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(t){return n()[t]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return n()},put:function(e,n,r){i(e,n,t(r))},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(e,n){i(e,void 0,t(n))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),n.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(){function t(t,e){return t?r(t)?t.indexOf(e)>=0:t.hasOwnProperty(e):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,i,o,a,s){var l,u=i[0],c=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,h=function(t){l=t?r(t)?t:t.split(/[\s,]+/):null,a.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(c);var p,f;a.register(u,f={test:function(e){return t(l,e)},attach:function(){p||s(function(t,n){e.enter(t,null,i),p=t;var r=p.$$attachId=a.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===r&&(a.deregister(u),f.detach()),n.$destroy()})})},detach:function(){if(p){var t=p;p=null,e.leave(t)}}})}}}]}var i,r,o,a;e.module("ngMessages",[],function(){i=e.forEach,r=e.isArray,o=e.isString,a=e.element}).info({angularVersion:"1.6.4"}).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}var r="ng-active",a="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,s,l){function u(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return v[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function c(t,e,n){var i=v[n];if(h.head){var r=u(t,e);r?(i.next=r.next,r.next=i):(i.next=h.head,h.head=i)}else h.head=i}function d(t,e,n){var i=v[n],r=u(t,e);r?r.next=i.next:h.head=i.next}var h=this,p=0,f=0;this.getAttachId=function(){return f++};var g,m,v=this.messages={};this.render=function(u){u=u||{},g=!1,m=u;for(var c=e(s,l.ngMessagesMultiple)||e(s,l.multiple),d=[],p={},f=h.head,v=!1,y=0;null!=f;){y++;var b=f.message,w=!1;v||i(u,function(t,e){if(!w&&n(t)&&b.test(e)){if(p[e])return;p[e]=!0,w=!0,b.attach()}}),w?v=!c:d.push(b),f=f.next}i(d,function(t){t.detach()}),d.length!==y?t.setClass(o,r,a):t.setClass(o,a,r)},s.$watchCollection(l.ngMessages||l["for"],h.render),o.on("$destroy",function(){i(v,function(t){t.message.detach()})}),this.reRender=function(){g||(g=!0,s.$evalAsync(function(){g&&m&&h.render(m)}))},this.register=function(t,e){var n=p.toString();v[n]={message:e},c(o[0],t,n),t.$$ngMessageNode=n,p++,h.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,d(o[0],t,e),delete v[e],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){function i(t,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):e[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);t.after(o),t.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,r,a){var s=a.ngMessagesInclude||a.src;t(s).then(function(t){e.$$destroyed||(o(t)&&!t.trim()?i(r,s):n(t)(e,function(t){r.after(t),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;s>a&&e.isDefined(t);a++){var l=r[a];t=null!==t?t[l]:void 0}return t}function r(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).info({angularVersion:"1.6.4"}).provider("$resource",function(){var t=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(t,e){this.template=t,this.defaults=f({},n.defaults,e),this.urlParams={}}function d(t,e,w,_){function C(t,n){var r={};return n=f({},e,n),p(n,function(e,n){y(e)&&(e=e(t)),r[n]=e&&e.charAt&&"@"===e.charAt(0)?i(t,e.substr(1)):e}),r}function k(t){return t.resource}function x(t){r(t||{},this)}var S=new c(t,_);return w=f({},n.defaults.actions,w),x.prototype.toJSON=function(){var t=f({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},p(w,function(t,e){var n=t.hasBody===!0||t.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(t.method),i=t.timeout,c=v(t.cancellable)?t.cancellable:S.defaults.cancellable;i&&!b(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,i=null),x[e]=function(s,d,v,b){function w(t){B["catch"](h),E.resolve(t)}var _,$,D,T={};switch(arguments.length){case 4:D=b,$=v;case 3:case 2:if(!y(d)){T=s,_=d,$=v;break}if(y(s)){$=s,D=d;break}$=d,D=v;case 1:y(s)?$=s:n?_=s:T=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var E,A,M=this instanceof x,P=M?_:t.isArray?[]:new x(_),O={},N=t.interceptor&&t.interceptor.response||k,L=t.interceptor&&t.interceptor.responseError||void 0,I=!!D,R=!!L;p(t,function(t,e){switch(e){default:O[e]=g(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!M&&c&&(E=l.defer(),O.timeout=E.promise,i&&(A=u(E.resolve,i))),n&&(O.data=_),S.setUrlParams(O,f({},C(_,t.params||{}),T),t.url);var B=a(O).then(function(n){var i=n.data;if(i){if(m(i)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,t.isArray?"array":"object",m(i)?"array":"object",O.method,O.url);if(t.isArray)P.length=0,p(i,function(t){"object"==typeof t?P.push(new x(t)):P.push(t)});else{var a=P.$promise;r(i,P),P.$promise=a}}return n.resource=P,n});return B=B["finally"](function(){P.$resolved=!0,!M&&c&&(P.$cancelRequest=h,u.cancel(A),E=A=O.timeout=null)}),B=B.then(function(t){var e=N(t);return($||h)(e,t.headers,t.status,t.statusText),e},I||R?function(t){return I&&!R&&B["catch"](h),I&&D(t),R?L(t):l.reject(t)}:void 0),M?B:(P.$promise=B,P.$resolved=!1,c&&(P.$cancelRequest=w),P)},x.prototype["$"+e]=function(t,n,i){y(t)&&(i=n,n=t,t={});var r=x[e].call(this,t,this,n,i);return r.$promise||r}}),x.bind=function(n){var i=f({},e,n);return d(t,i,w,_)},x}var h=e.noop,p=e.forEach,f=e.extend,g=e.copy,m=e.isArray,v=e.isDefined,y=e.isFunction,b=e.isNumber,w=e.$$encodeUriQuery,_=e.$$encodeUriSegment;return c.prototype={setUrlParams:function(e,n,i){var r,a,s=this,l=i||s.template,u="",c=s.urlParams=Object.create(null);p(l.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(c[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(t,function(t){return u=t,""}),n=n||{},p(s.urlParams,function(t,e){r=n.hasOwnProperty(e)?n[e]:s.defaults[e],v(r)&&null!==r?(a=t.isQueryParamValue?w(r,!0):_(r),l=l.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):l=l.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=u+l.replace(/\/(\\|%5C)\./,"/."),p(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},d}]})}(window,window.angular),/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?l(r[n]):r[n]]=!0;return i}function i(e,n){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),w.innerHTML=e;var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,t.document.documentMode&&v(w),e=w.innerHTML,w.innerHTML=e}while(e!==w.innerHTML);for(var r=w.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),f(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),o=y("nextSibling",r),!o))for(;null==o&&(r=y("parentNode",r),r!==w);)o=y("nextSibling",r),1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=w.firstChild;)w.removeChild(r)}function f(t){for(var e={},n=0,i=t.length;i>n;n++){var r=t[n];e[r.name]=r.value}return e}function g(t){return t.replace(/&/g,"&amp;").replace(_,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(C,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(t,e){var n=!1,i=r(t,t.push);return{start:function(t,r){t=l(t),!n&&A[t]&&(n=t),n||M[t]!==!0||(i("<"),i(t),a(r,function(n,r){var o=l(r),a="img"===t&&"src"===o||"background"===o;L[o]!==!0||P[o]===!0&&!e(n,a)||(i(" "),i(r),i('="'),i(g(n)),i('"'))}),i(">"))},end:function(t){t=l(t),n||M[t]!==!0||k[t]===!0||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(g(t))}}}function v(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&v(s),e=y("nextSibling",e)}}function y(t,e){var n=e[t];if(n&&c.call(e,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}var b=!1;this.$get=["$$sanitizeUri",function(t){return b&&o(M,E),function(e){var n=[];return d(e,h(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return s(t)?(b=t,this):b},r=e.bind,o=e.extend,a=e.forEach,s=e.isDefined,l=e.lowercase,u=e.noop,d=i,h=m,c=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var w,_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^#-~ |!])/g,k=n("area,br,col,hr,img,wbr"),x=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=n("rp,rt"),$=o({},S,x),D=o({},x,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),T=o({},S,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),M=o({},k,D,T,$),P=n("background,cite,href,longdesc,src,xlink:href"),O=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),N=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=o({},P,N,O);!function(t){var e;if(!t.document||!t.document.implementation)throw p("noinert","Can't create an inert html document");e=t.document.implementation.createHTMLDocument("inert");var n=e.documentElement||e.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)w=i[0];else{var r=e.createElement("html");w=e.createElement("body"),r.appendChild(w),e.appendChild(r)}}(t)}function i(t){var e=[],n=h(e,u);return n.chars(t),e.join("")}var r,o,a,s,l,u,c,d,h,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.4"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=e.$$minErr("linky"),a=e.isDefined,s=e.isFunction,l=e.isObject,u=e.isString;return function(e,c,d){function h(t){t&&b.push(i(t))}function p(t,e){var n,i=v(t);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!a(c)||"target"in i||b.push('target="',c,'" '),b.push('href="',t.replace(/"/g,"&quot;"),'">'),h(e),b.push("</a>")}if(null==e||""===e)return e;if(!u(e))throw o("notstring","Expected string but received: {0}",e);for(var f,g,m,v=s(d)?d:l(d)?function(){return d}:function(){return{}},y=e,b=[];f=y.match(n);)g=f[0],f[2]||f[4]||(g=(f[3]?"http://":"mailto:")+g),m=f.index,h(y.substr(0,m)),p(g,f[0].replace(r,"")),y=y.substring(m+f[0].length);return h(y),t(b.join(""))}}])}(window,window.angular),/*!
 * angular-translate - v2.15.1 - 2017-03-04
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,i=null,r=!1,o=!1;n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=a(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=u(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=u(t,a)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=u(t,a)),t},sceParameters:function(t,e){return"params"===e&&(t=u(t,l)),t}},n.escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,i=t,this},this.$get=["$injector","$log",function(a,s){var l={},u=function(t,e,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,e,i);else if(angular.isFunction(n[r]))t=n[r](t,e,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=a.get(n[r])}catch(o){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=l[n[r]](t,e,i)}}),t},c=function(){r||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return a.has("$sanitize")&&(t=a.get("$sanitize")),a.has("$sce")&&(e=a.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,r){if(i||c(),n||null===n||(n=i),!n)return t;r||(r="service");var o=angular.isArray(n)?n:[n];return u(t,e,r,o)}}}];var a=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},u=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(i[r]=u(t,e,n))}),n.splice(-1,1),i}return angular.isNumber(t)?t:angular.isUndefined(t)||null===t?t:e(t)}}function n(t,e,n,i){"use strict";var r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w={},_=[],C=t,k=[],x="translate-cloak",S=!1,$=!1,D=".",T=!1,E=!1,A=0,M=!0,P="default",O={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},N="2.15.1",L=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if(n=r.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=r[o[t]],n&&n.length)return n;return null};L.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var t=L()||"";return O[P]&&(t=O[P](t)),t};I.displayName="angular-translate/service: getLocale";var R=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},B=function(){return this.toString().replace(/^\s+|\s+$/g,"")},H=function(t){if(t){for(var e=[],n=angular.lowercase(t),i=0,r=_.length;r>i;i++)e.push(angular.lowercase(_[i]));if(R(e,n)>-1)return t;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(a=o[s],R(e,angular.lowercase(a))>-1))return a}}var c=t.split("_");return c.length>1&&R(e,angular.lowercase(c[0]))>-1?c[0]:void 0}},F=function(t,e){if(!t&&!e)return w;if(t&&!e){if(angular.isString(t))return w[t]}else angular.isObject(w[t])||(w[t]={}),angular.extend(w[t],z(e));return this};this.translations=F,this.cloakClassName=function(t){return t?(x=t,this):x},this.nestedObjectDelimeter=function(t){return t?(D=t,this):D};var z=function(t,e,n,i){var r,o,a,s;e||(e=[]),n||(n={});for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?z(s,e.concat(r),n,r):(o=e.length?""+e.join(D)+D+r:r,e.length&&r===i&&(a=""+e.join(D),n[a]="@:"+o),n[o]=s));return n};z.displayName="flatObject",this.addInterpolation=function(t){return k.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return p=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(j(t),this):r};var j=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return V(t),this};var V=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(r)&&R(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(t){if(t){if(!w[t]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return I()};var U=function(t){return t?(C=t,this):d?d+C:C};this.storageKey=U,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return f=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(d=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return h=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return $=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},P=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():I();return r=_.length?H(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(_=t,e&&(o=e),this):_},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?A:(A=t,this)},this.statefulFilter=function(t){return void 0===t?M:(M=t,this)},this.postProcess=function(t){return b=t?t:void 0,this},this.keepContent=function(t){return E=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var o,d,P,O=e.get(p||"$translateDefaultInterpolation"),L=!1,W={},G={},q=function(t,e,n,s,u){!l&&r&&(l=r);var h=u&&u!==l?H(u)||u:l;if(u&&ct(u),angular.isArray(t)){var p=function(t){for(var r={},o=[],a=function(t){var o=i.defer(),a=function(e){r[t]=e,o.resolve([t,e])};return q(t,e,n,s,u).then(a,a),o.promise},l=0,c=t.length;c>l;l++)o.push(a(t[l]));return i.all(o).then(function(){return r})};return p(t)}var f=i.defer();t&&(t=B.apply(t));var g=function(){var t=r?G[r]:G[h];if(d=0,c&&!t){var e=o.get(C);if(t=G[e],a&&a.length){var n=R(a,e);d=0===n?1:0,R(a,r)<0&&a.push(r)}}return t}();if(g){var m=function(){u||(h=l),at(t,e,n,s,h).then(f.resolve,f.reject)};m.displayName="promiseResolved",g["finally"](m)["catch"](angular.noop)}else at(t,e,n,s,h).then(f.resolve,f.reject);return f.promise},K=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},Y=function(t){l=t,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),O.setLocale(l);var e=function(t,e){W[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(W,e),n.$emit("$translateChangeEnd",{language:t})},Z=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),L=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),s=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,z(t))}):angular.extend(i,z(e)),L=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(f)(a).then(s,l),r.promise};if(c&&(o=e.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(k.length){var J=function(t){var n=e.get(t);n.setLocale(r||l),W[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(k,J)}var X=function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(w,t))e.resolve(w[t]);else if(G[t]){var n=function(t){F(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",G[t].then(n,e.reject)}else e.reject();return e.promise},Q=function(t,e,n,r,o){var a=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,e)&&null!==i[e]){r.setLocale(t);var s=i[e];if("@:"===s.substr(0,2))Q(t,s.substr(2),n,r,o).then(a.resolve,a.reject);else{var u=r.interpolate(i[e],n,"service",o,e);u=ut(e,i[e],u,n,t),a.resolve(u)}r.setLocale(l)}else a.reject()};return s.displayName="fallbackTranslationResolver",X(t).then(s,a.reject),a.promise},tt=function(t,e,n,i,r){var o,a=w[t];if(a&&Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){if(i.setLocale(t),o=i.interpolate(a[e],n,"filter",r,e),o=ut(e,a[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return tt(t,s.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return tt(t,o.substr(2),n,i,r);i.setLocale(l)}return o},et=function(t,n,i,r){return h?e.get(h)(t,l,n,i,r):t},nt=function(t,e,n,r,o,s){var l=i.defer();if(t<a.length){var u=a[t];Q(u,e,n,r,s).then(function(t){l.resolve(t)},function(){return nt(t+1,e,n,r,o,s).then(l.resolve,l.reject)})}else if(o)l.resolve(o);else{var c=et(e,n,o);h&&c?l.resolve(c):l.reject(K(e))}return l.promise},it=function(t,e,n,i,r){var o;if(t<a.length){var s=a[t];o=tt(s,e,n,i,r),o||""===o||(o=it(t+1,e,n,i))}return o},rt=function(t,e,n,i,r){return nt(P>0?P:d,t,e,n,i,r)},ot=function(t,e,n,i){return it(P>0?P:d,t,e,n,i)},at=function(t,e,n,r,o,s){var l=i.defer(),u=o?w[o]:w,c=n?W[n]:O;if(u&&Object.prototype.hasOwnProperty.call(u,t)&&null!==u[t]){var d=u[t];if("@:"===d.substr(0,2))q(d.substr(2),e,n,r,o).then(l.resolve,l.reject);else{var p=c.interpolate(d,e,"service",s,t);p=ut(t,d,p,e,o),l.resolve(p)}}else{var f;h&&!L&&(f=et(t,e,r)),o&&a&&a.length?rt(t,e,c,r,s).then(function(t){l.resolve(t)},function(t){l.reject(K(t))}):h&&!L&&f?r?l.resolve(r):l.resolve(f):r?l.resolve(r):l.reject(K(t))}return l.promise},st=function(t,e,n,i,r){var o,s=i?w[i]:w,l=O;if(W&&Object.prototype.hasOwnProperty.call(W,n)&&(l=W[n]),s&&Object.prototype.hasOwnProperty.call(s,t)&&null!==s[t]){var u=s[t];"@:"===u.substr(0,2)?o=st(u.substr(2),e,n,i,r):(o=l.interpolate(u,e,"filter",r,t),o=ut(t,u,o,e,i,r))}else{var c;h&&!L&&(c=et(t,e,r)),i&&a&&a.length?(d=0,o=ot(t,e,l,r)):o=h&&!L&&c?c:K(t)}return o},lt=function(t){u===t&&(u=void 0),G[t]=void 0},ut=function(t,n,i,r,o,a){var s=b;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,i,r,o,a):i},ct=function(t){w[t]||!f||G[t]||(G[t]=Z(t).then(function(t){return F(t.key,t.table),t}))};q.preferredLanguage=function(t){return t&&j(t),r},q.cloakClassName=function(){return x},q.nestedObjectDelimeter=function(){return D},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(V(t),f&&a&&a.length)for(var e=0,n=a.length;n>e;e++)G[a[e]]||(G[a[e]]=Z(a[e]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=R(a,t);e>-1&&(P=e)}else P=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.negotiateLocale=H,q.use=function(t){if(!t)return l;var e=i.defer();e.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:t});var r=H(t);return _.length>0&&!r?i.reject(t):(r&&(t=r),u=t,!$&&w[t]||!f||G[t]?G[t]?G[t].then(function(t){return u===t.key&&Y(t.key),e.resolve(t.key),t},function(t){return!l&&a&&a.length>0&&a[0]!==t?q.use(a[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),Y(t)):(G[t]=Z(t).then(function(n){return F(n.key,n.table),e.resolve(n.key),u===t&&Y(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),G[t]["finally"](function(){lt(t)})["catch"](angular.noop)),e.promise)},q.resolveClientLocale=function(){return I()},q.storageKey=function(){return U()},q.isPostCompilingEnabled=function(){return S},q.isForceAsyncReloadEnabled=function(){return $},q.isKeepContent=function(){return E},q.refresh=function(t){function e(t){var e=Z(t);return G[t]=e,e.then(function(e){w[t]={},F(t,e.table),o[t]=!0},angular.noop),e}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:t});var r=i.defer(),o={};if(r.promise.then(function(){for(var t in w)w.hasOwnProperty(t)&&(t in o||delete w[t]);l&&Y(l)},angular.noop)["finally"](function(){n.$emit("$translateRefreshEnd",{language:t})}),t)w[t]?e(t).then(r.resolve,r.reject):r.reject();else{var s=a&&a.slice()||[];l&&-1===s.indexOf(l)&&s.push(l),i.all(s.map(e)).then(r.resolve,r.reject)}return r.promise},q.instant=function(t,e,n,i,o){var s=i&&i!==l?H(i)||i:l;if(null===t||angular.isUndefined(t))return t;if(i&&ct(i),angular.isArray(t)){for(var u={},c=0,d=t.length;d>c;c++)u[t[c]]=q.instant(t[c],e,n,i,o);return u}if(angular.isString(t)&&t.length<1)return t;t&&(t=B.apply(t));var p,f=[];r&&f.push(r),s&&f.push(s),a&&a.length&&(f=f.concat(a));for(var g=0,y=f.length;y>g;g++){var b=f[g];if(w[b]&&"undefined"!=typeof w[b][t]&&(p=st(t,e,n,s,o)),"undefined"!=typeof p)break}if(!p&&""!==p)if(m||v)p=K(t);else{p=O.interpolate(t,e,"filter",o);var _;h&&!L&&(_=et(t,e,o)),h&&!L&&_&&(p=_)}return p},q.versionInfo=function(){return N},q.loaderCache=function(){return y},q.directivePriority=function(){return A},q.statefulFilter=function(){return M},q.isReady=function(){return T};var dt=i.defer();dt.promise.then(function(){T=!0}),q.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),T?e.resolve():dt.promise.then(e.resolve),e.promise},q.getAvailableLanguageKeys=function(){return _.length>0?_:null},q.getTranslationTable=function(t){return t=t||q.use(),t&&w[t]?angular.copy(w[t]):null};var ht=n.$on("$translateReady",function(){dt.resolve(),ht(),ht=null}),pt=n.$on("$translateChangeEnd",function(){dt.resolve(),pt(),pt=null});if(f){if(angular.equals(w,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var ft=function(t){return F(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},gt=0,mt=a.length;mt>gt;gt++){var vt=a[gt];($||!w[vt])&&(G[vt]=Z(vt).then(ft))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(t,e){"use strict";var n,i={},r="default";return i.setLocale=function(t){n=t},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},i.interpolate=function(n,i,r,o,a){i=i||{},i=e.sanitize(i,"params",o,r);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(i),s=e.sanitize(s,"text",o,r)):s="",s},i}function r(t,e,n,i,r){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",p="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,f,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=o(s);var m={},v=function(t,e,n){if(e.translateValues&&angular.extend(t,i(e.translateValues)(s.$parent)),d)for(var r in n)if(Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var o=angular.lowercase(r.substr(14,1))+r.substr(15);t[o]=n[r]}},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=a.apply(f.text()),i=n.match(h);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],m.translate=e(i[2])(s.$parent);var r=n.match(p);angular.isArray(r)&&r[2]&&r[2].length&&(y._unwatchOld=s.$watch(r[2],function(t){m.translate=t,x()}))}else m.translate=n?n:void 0}else m.translate=t;x()},b=function(t){g.$observe(t,function(e){m[t]=e,x()})};v(s.interpolateParams,g,l);var w=!0;g.$observe("translate",function(t){"undefined"==typeof t?y(""):""===t&&w||(m.translate=t,x()),w=!1});for(var _ in g)g.hasOwnProperty(_)&&"translateAttr"===_.substr(0,13)&&_.length>13&&b(_);if(g.$observe("translateDefault",function(t){s.defaultText=t,x()}),u&&g.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(t)(s.$parent))})}),d){var C=function(t){g.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})};for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&"translateValue"===k.substr(0,14)&&"translateValues"!==k&&C(k)}var x=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&S(t,m[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},S=function(e,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),t(n,r,c,o,i.translateLanguage).then(function(t){$(t,i,!0,e)},function(t){$(t,i,!1,e)})):$(n,i,!1,e)},$=function(e,i,r,o){if(r||"undefined"!=typeof i.defaultText&&(e=i.defaultText),"translate"===o){(r||!r&&!t.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&f.empty().append(i.preText+e+i.postText);var a=t.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,u=s&&"false"!==l.translateCompile;(a&&!s||u)&&n(f.contents())(i)}else{var c=g.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,e)}};(u||d||g.translateDefault)&&s.$watch("interpolateParams",x,!0),s.$on("translateLanguageChanged",x);var D=r.$on("$translateChangeSuccess",x);f.text().length?y(g.translate?g.translate:""):g.translate&&y(g.translate),x(),s.$on("$destroy",D)}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function a(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,i,r){var o,a,l={},u=function(){angular.forEach(o,function(e,o){e&&(l[o]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,a,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(o,t)},function(t){i.attr(o,t)}))}),angular.forEach(l,function(t,e){o[e]||(i.removeAttr(e),delete l[e])})};s(n,r.translateAttr,function(t){o=t},u),s(n,r.translateValues,function(t){a=t},u),r.translateValues&&n.$watch(r.translateValues,u,!0),n.$on("translateLanguageChanged",u);var c=e.$on("$translateChangeSuccess",u);u(),n.$on("$destroy",c)}}}function s(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var i=function(e){e.addClass(t.cloakClassName())},r=function(e){e.removeClass(t.cloakClassName())};return i(n),function(n,o,a){var s=r.bind(this,o),l=i.bind(this,o);a.translateCloak&&a.translateCloak.length?(a.$observe("translateCloak",function(e){t(e).then(s,l)}),e.$on("$translateChangeSuccess",function(){t(a.translateCloak).then(s,l)})):t.onReady(s)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=o(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function d(t,e){"use strict";var n=function(n,i,r,o){if(!angular.isObject(i)){var a=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};i=t(i)(a)}return e.instant(n,i,r,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function h(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],d.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",c),c.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.15.1 - 2017-03-04
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(){"use strict";function t(t,e){this.name=t,this.isActive=!0,this.tables={},this.priority=e||0,this.langPromises={}}function e(t){return Object.prototype.hasOwnProperty.call(a,t)}function n(t){return angular.isString(t)&&""!==t}function i(t){if(!n(t))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return e(t)&&a[t].isActive}function r(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},r(t[n],e[n])):t[n]=e[n];return t}function o(){var t=[];for(var e in a)a[e].isActive&&t.push(a[e]);return t.sort(function(t,e){return t.priority-e.priority}),t}t.prototype.parseUrl=function(t,e){return angular.isFunction(t)?t(this.name,e):t.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,e)},t.prototype.getTable=function(t,e,n,i,r,o){var a=this,s=this.langPromises[t],l=e.defer(),u=function(){return n(angular.extend({method:"GET",url:a.parseUrl(r,t)},i))},c=function(e){a.tables[t]=e,l.resolve(e)},d=function(){l.reject(a.name)},h=function(){u().then(function(t){c(t.data)},function(e){o?o(a.name,t,e).then(c,d):d()})};return this.tables[t]?l.resolve(this.tables[t]):(s?s.then(l.resolve,h):h(),this.langPromises[t]=l.promise),l.promise};var a={};this.addPart=function(i,r){if(!n(i))throw new TypeError("Couldn't add part, part name has to be a string!");return e(i)||(a[i]=new t(i,r)),a[i].isActive=!0,this},this.setPart=function(i,r,o){if(!n(i))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!n(r))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof o||null===o)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return e(r)||(a[r]=new t(r),a[r].isActive=!1),a[r].tables[i]=o,this},this.deletePart=function(t){if(!n(t))throw new TypeError("Couldn't delete part, first arg has to be string.");return e(t)&&(a[t].isActive=!1),this},this.isPartAvailable=i,this.$get=["$rootScope","$injector","$q","$http",function(s,l,u,c){var d=function(t){if(!n(t.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!n(t.urlTemplate)&&!angular.isFunction(t.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");var e=t.loadFailureHandler;if(void 0!==e){if(!angular.isString(e))throw new Error("Unable to load data, a loadFailureHandler is not a string.");e=l.get(e)}var i=[],a=o();return angular.forEach(a,function(n){i.push(n.getTable(t.key,u,c,t.$http,t.urlTemplate,e)),n.urlTemplate=t.urlTemplate}),u.all(i).then(function(){var e={};return a=o(),angular.forEach(a,function(n){r(e,n.tables[t.key])}),e},function(){return u.reject(t.key)})};return d.addPart=function(i,r){if(!n(i))throw new TypeError("Couldn't add part, first arg has to be a string");return e(i)?a[i].isActive||(a[i].isActive=!0,s.$emit("$translatePartialLoaderStructureChanged",i)):(a[i]=new t(i,r),s.$emit("$translatePartialLoaderStructureChanged",i)),d},d.deletePart=function(t,i){if(!n(t))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===i)i=!1;else if("boolean"!=typeof i)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(e(t)){var r=a[t].isActive;if(i){var o=l.get("$translate"),u=o.loaderCache();"string"==typeof u&&(u=l.get(u)),"object"==typeof u&&angular.forEach(a[t].tables,function(e,n){u.remove(a[t].parseUrl(a[t].urlTemplate,n))}),delete a[t]}else a[t].isActive=!1;r&&s.$emit("$translatePartialLoaderStructureChanged",t)}return d},d.isPartLoaded=function(t,e){return angular.isDefined(a[t])&&angular.isDefined(a[t].tables[e])},d.getRegisteredParts=function(){var t=[];return angular.forEach(a,function(e){e.isActive&&t.push(e.name)}),t},d.isPartAvailable=i,d}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",t),t.displayName="$translatePartialLoader","pascalprecht.translate"}),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 2.5.0 - 2017-01-28
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(){v=!!("horizontal"in a),v?(y={width:""},b={width:"0"}):(y={height:""},b={height:"0"}),i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(y)}function l(t){return v?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||e.resolve(p(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start()["finally"](c):t.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(c)},angular.noop)}function c(){o.removeClass("collapsing").addClass("collapse").css(y),f(i)}function d(){return o.hasClass("collapse")||o.hasClass("in")?void e.resolve(g(i)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:b}).start()["finally"](h):t.removeClass(o,"in",{to:b}).then(h)},angular.noop):h()}function h(){o.css(b),o.removeClass("collapsing").addClass("collapse"),m(i)}var p=n(a.expanding),f=n(a.expanded),g=n(a.collapsing),m=n(a.collapsed),v=!1,y={},b={};s(),i.$watch(a.uibCollapse,function(t){t?d():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){e.addClass("panel"),i.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var r="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=r+"-tab",t.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){function t(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(e,n,i,r){e.$watch(function(){return r[i.uibAccordionTransclude]},function(e){if(e){var i=angular.element(n[0].querySelector(t()));i.html(""),i.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,i,r){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(t.$parent):null;o&&r(function(){t.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,r){var o=r[0],a=r[1],s=t(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);(!t||angular.isDefined(i.uncheckable))&&e.$apply(function(){a.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&e.$watch(s,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){return angular.isDefined(e)?t.$eval(e):n}var s=i[0],l=i[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},e.on(s.toggleEvent,function(){n.disabled||t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,i,r){function o(t){for(var e=0;e<g.length;e++)g[e].slide.active=e===t}function a(n,i,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(g[v].slide||{},{direction:a}),r.enabled(e)&&!t.$currentTransition&&g[i].element&&f.slides.length>1){g[i].element.data(m,n.direction);var s=f.getCurrentIndex();angular.isNumber(s)&&g[s].element&&g[s].element.data(m,n.direction),t.$currentTransition=!0,r.on("addClass",g[i].element,function(e,n){"close"===n&&(t.$currentTransition=null,r.off("addClass",e))})}t.active=n.index,v=n.index,o(i),c()}}function s(t){for(var e=0;e<g.length;e++)if(g[e].slide===t)return e}function l(){h&&(n.cancel(h),h=null)}function u(e){e.length||(t.$currentTransition=null)}function c(){l();var e=+t.interval;!isNaN(e)&&e>0&&(h=n(d,e))}function d(){var e=+t.interval;p&&!isNaN(e)&&e>0&&g.length?t.next():t.pause()}var h,p,f=this,g=f.slides=t.slides=[],m="uib-slideDirection",v=t.active,y=!1;e.addClass("carousel"),f.addSlide=function(e,n){g.push({slide:e,element:n}),g.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===g.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),v=e.index,t.active=e.index,o(v),f.select(g[s(e)]),1===g.length&&t.play())},f.getCurrentIndex=function(){for(var t=0;t<g.length;t++)if(g[t].slide.index===v)return t},f.next=t.next=function(){var e=(f.getCurrentIndex()+1)%g.length;return 0===e&&t.noWrap()?void t.pause():f.select(g[e],"next")},f.prev=t.prev=function(){var e=f.getCurrentIndex()-1<0?g.length-1:f.getCurrentIndex()-1;return t.noWrap()&&e===g.length-1?void t.pause():f.select(g[e],"prev")},f.removeSlide=function(e){var n=s(e);g.splice(n,1),g.length>0&&v===n?n>=g.length?(v=g.length-1,t.active=v,o(v),f.select(g[g.length-1])):(v=n,t.active=v,o(v),f.select(g[n])):v>n&&(v--,t.active=v),0===g.length&&(v=null,t.active=null)},f.select=t.select=function(e,n){var i=s(e.slide);void 0===n&&(n=i>f.getCurrentIndex()?"next":"prev"),e.slide.index===v||t.$currentTransition||a(e.slide,i,n)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===g.length-1&&t.noWrap()},t.pause=function(){t.noPause||(p=!1,l())},t.play=function(){p||(p=!0,c())},e.on("mouseenter",t.pause),e.on("mouseleave",t.play),t.$on("$destroy",function(){y=!0,l()}),t.$watch("noTransition",function(t){r.enabled(e,!t)}),t.$watch("interval",c),t.$watchCollection("slides",u),t.$watch("active",function(t){if(angular.isNumber(t)&&v!==t){for(var e=0;e<g.length;e++)if(g[e].slide.index===t){t=e;break}var n=g[t];n&&(o(t),f.select(g[t]),v=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(t){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,n,i,r){n.addClass("item"),r.addSlide(e,n),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(e){t[e?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=e.bind(this,i,l+" "+s,o);return i.addClass(s),t(i,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=e.bind(this,i,l,o);return t(i,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(t,e,n,i,r){function o(t){return r(y,{key:t},!0)[0]}function a(t){var e=[],n=t.split(""),r=t.indexOf("'");if(r>-1){var o=!1;t=t.split("");for(var a=r;a<t.length;a++)o?("'"===t[a]&&(a+1<t.length&&"'"===t[a+1]?(t[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),t[a]="$"):"'"===t[a]&&(t[a]="$",n[a]="",o=!0);t=t.join("")}return angular.forEach(y,function(i){var r=t.indexOf(i.key);if(r>-1){t=t.split(""),n[r]="("+i.regex+")",t[r]="$";for(var o=r+1,a=r+i.key.length;a>o;o++)n[o]="",t[o]="$";t=t.join(""),e.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(e,"index")}}function s(t){for(var e,n,i=[],r=0;r<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(r))(r+1>=t.length||"'"!==t.charAt(r+1))&&(i.push(l(t,n,r)),n=null);else if(r===t.length)for(;n<t.length;)e=u(t,n),i.push(e),n=e.endIdx;r++}else"'"!==t.charAt(r)?(e=u(t,r),i.push(e.parser),r=e.endIdx):(n=r,r++);return i}function l(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function u(t,e){for(var n=t.substr(e),i=0;i<y.length;i++)if(new RegExp("^"+y[i].key).test(n)){var r=y[i];return{endIdx:e+r.key.length,parser:r.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function c(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}function d(t){return parseInt(t,10)}function h(t,e){return t&&e?m(t,e):t}function p(t,e){return t&&e?m(t,e,!0):t}function f(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function g(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function m(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=f(e,i);return g(t,n*(r-i))}var v,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=e.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=69>t?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=d(n+i),this.minutes+=d(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:e.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=o(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=o(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(t,n){if(!angular.isDate(t)||isNaN(t)||!n)return"";n=e.DATETIME_FORMATS[n]||n,e.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var i=this.formatters[n];return i.reduce(function(e,n){return e+n(t)},"")},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=e.DATETIME_FORMATS[i]||i,i=i.replace(b,"\\$&"),e.id!==v&&this.init(),this.parsers[i]||(this.parsers[i]=a(i,"apply"));var o=this.parsers[i],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var h,p;angular.isDate(r)&&!isNaN(r.getTime())?h={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&t.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=u.length;g>f;f++){var m=l[f-1];"Z"===m.matcher&&(d=!0),m.apply&&m.apply.call(h,u[f])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(h.year,h.month,h.date)&&(!angular.isDate(r)||isNaN(r.getTime())||d?(p=new Date(0),y.call(p,h.year,h.month,h.date),w.call(p,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(p=new Date(r),y.call(p,h.year,h.month,h.date),w.call(p,h.hours,h.minutes,h.seconds,h.milliseconds))),p}},this.toTimezone=h,this.fromTimezone=p,this.timezoneToOffset=f,this.addDateMinutes=g,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(t,e,n){l.push(t),u.push({scope:t,element:e}),f.forEach(function(e,n){a(e,t)}),t.$on("$destroy",s)}function a(e,i){var r=e.match(n),o=i.$eval(r[1]),a=r[2],s=c[e];if(!s){var l=function(e){var n=null;u.some(function(t){var i=t.scope.$eval(h);return i===e?(n=t,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&t.removeClass(s.lastActivated.element,o),n&&t.addClass(n.element,o),s.lastActivated=n)};c[e]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:a,watcher:i.$watch(a,l)}}s.watchFn(i.$eval(a))}function s(t){var e=t.targetScope,n=l.indexOf(e);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else c={}}var l=[],u=[],c={},d=r.uibIsClass.match(e),h=d[2],p=d[1],f=p.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,n,i,r,o,a,s,l,u,c,d){function h(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}function p(e){var n;if(angular.version.minor<6)n=e.$options||t.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(t){return n[t]};else{var i=e.$options.getOption("timezone")||(t.datepickerOptions.ngModelOptions?t.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=e.$options.createChild(l.ngModelOptions).createChild(t.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:i})}return n}var f=this,g={$setViewValue:angular.noop},m={},v=[];e.addClass("uib-datepicker"),n.$set("role","application"),t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[e]=angular.isDefined(t.datepickerOptions[e])?r(t.datepickerOptions[e])(t.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(t.datepickerOptions.startingDay)?f.startingDay=t.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?f[e]=d.fromTimezone(new Date(t),m.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[e]=new Date(s(t,"medium"))):f[e]=l[e]?d.fromTimezone(new Date(l[e]),m.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){f[e]=t[e]=angular.isDefined(n)?n:t.datepickerOptions[e],("minMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)<f.modes.indexOf(f[e])||"maxMode"===e&&f.modes.indexOf(t.datepickerOptions.datepickerMode)>f.modes.indexOf(f[e]))&&(t.datepickerMode=f[e],t.datepickerOptions.datepickerMode=f[e])}):f[e]=t[e]=l[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(t.$parent.$watch(n.ngDisabled,function(e){t.disabled=e,f.refreshView()})),t.isActive=function(e){return 0===f.compare(e.date,f.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(e){g=e,m=p(g),t.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(t.datepickerOptions.initDate,m.getOption("timezone"))||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(g.$isEmpty(g.$modelValue)||g.$invalid)&&(f.activeDate=d.fromTimezone(t,m.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=g.$modelValue?new Date(g.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,m.getOption("timezone")):d.fromTimezone(n,m.getOption("timezone")),g.$render=function(){f.render()}},this.render=function(){if(g.$viewValue){var t=new Date(g.$viewValue),e=!isNaN(t);e?this.activeDate=d.fromTimezone(t,m.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=g.$viewValue?new Date(g.$viewValue):null;e=d.fromTimezone(e,m.getOption("timezone")),g.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var i=g.$viewValue?new Date(g.$viewValue):null;i=d.fromTimezone(i,m.getOption("timezone"));var r=new Date;r=d.fromTimezone(r,m.getOption("timezone"));var o=this.compare(e,r),a={date:e,label:d.filter(e,n),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),past:0>o,current:0===o,future:o>0,customClass:this.customClass(e)||null};return i&&0===this.compare(e,i)&&(t.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(t.activeDt=a),a},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===f.minMode){var n=g.$viewValue?d.fromTimezone(new Date(g.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=d.toTimezone(n,m.getOption("timezone")),g.$setViewValue(n),g.$render()}else f.activeDate=e,h(f.modes[f.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=f.activeDate.getFullYear()+t*(f.step.years||0),n=f.activeDate.getMonth()+t*(f.step.months||0);f.activeDate.setFullYear(e,n,1),f.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===f.maxMode&&1===e||t.datepickerMode===f.minMode&&-1===e||(h(f.modes[f.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){f.element[0].focus()};t.$on("uib:datepicker.focus",y),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),f.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;t.select(f.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,e),f.refreshView()):t.toggleMode("up"===n?1:-1)},e.on("keydown",function(e){t.$apply(function(){t.keydown(e)})}),t.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?o[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(e,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var d=0;7>d;d++)t.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(u,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=t.rows.length,f=0;p>f;f++)t.weekNumbers.push(r(t.rows[f][h].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,i=new Array(12),r=this.activeDate.getFullYear(),o=0;12>o;o++)e=new Date(this.activeDate),e.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+o});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(i,this.monthColumns),t.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t){return parseInt((t-1)/o,10)*o+1}var r,o;this.element=e,this.yearpickerInit=function(){r=this.yearColumns,o=this.yearRows*r,this.step={years:o}},this._refreshView=function(){for(var e,n=new Array(o),a=0,s=i(this.activeDate.getFullYear());o>a;a++)e=new Date(this.activeDate),e.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+a});t.title=[n[0].label,n[o-1].label].join(" - "),t.rows=this.split(n,r),t.columns=r},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=r:"right"===t?n+=1:"down"===t?n+=r:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*o:"home"===t?n=i(this.activeDate.getFullYear()):"end"===t&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html";
},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&i(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=t.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=e.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(t){t=this.getRawNode(t);var n=e.getComputedStyle(t),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(t,n){t=this.getRawNode(t);var i=n?r.hidden:r.normal,o=e.getComputedStyle(t);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=t[0].documentElement,l=e.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=e.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=e.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==t[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?t[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===t[0].documentElement&&(a.top+=e.pageYOffset,a.left+=e.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=e.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(t){var e=o.auto.test(t);return e&&(t=t.replace(o.auto,"")),t=t.split("-"),t[0]=t[0]||"top",o.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",o.secondary.test(t[1])||(t[1]="center"),e?t[2]=!0:t[2]=!1,t},positionElements:function(t,n,i,r){t=this.getRawNode(t),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(t,r),d=e.getComputedStyle(n),h={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&h.height>c.top&&h.height<=c.bottom?"bottom":"bottom"===i[0]&&h.height>c.bottom&&h.height<=c.top?"top":"left"===i[0]&&h.width>c.left&&h.width<=c.right?"right":"right"===i[0]&&h.width>c.right&&h.width<=c.left?"left":i[0],i[1]="top"===i[1]&&h.height-l.height>c.bottom&&h.height-l.height<=c.top?"bottom":"bottom"===i[1]&&h.height-l.height>c.top&&h.height-l.height<=c.bottom?"top":"left"===i[1]&&h.width-l.width>c.right&&h.width-l.width<=c.left?"right":"right"===i[1]&&h.width-l.width>c.left&&h.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var p=l.width/2-a/2;c.left+p<0&&h.width-l.width<=c.right?i[1]="left":c.right+p<0&&h.width-l.width<=c.left&&(i[1]="right")}else{var f=l.height/2-h.height/2;c.top+f<0&&h.height-l.height<=c.bottom?i[1]="top":c.bottom+f<0&&h.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(t,e,n,i){return-1!==t.indexOf("top")&&n!==i?{top:e.top-i+"px"}:void 0},positionArrow:function(t,n){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=e.getComputedStyle(a)[l],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=e.getComputedStyle(r?i:t)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g){function m(e){var n=d.parse(e,k,t.date);if(isNaN(n))for(var i=0;i<L.length;i++)if(n=d.parse(e,L[i],t.date),!isNaN(n))return n;return n}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return d.toTimezone(e,O.getOption("timezone"))}return O.getOption("allowInvalid")?t:void 0}function y(t,e){var i=t||e;return n.ngRequired||i?(angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?!isNaN(m(i)):!1:!0):!0}function b(n){if(t.isOpen||!t.disabled){var i=N[0],r=e[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!t.isOpen||r||o||t.$apply(function(){t.isOpen=!1})}}function w(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function _(){if(t.isOpen){var i=angular.element(N[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:h.placement,o=u.positionElements(e,i,r,S);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function C(t){var e;return angular.version.minor<6?(e=angular.isObject(t.$options)?t.$options:{timezone:null},e.getOption=function(t){return e[t]}):e=t.$options,e}var k,x,S,$,D,T,E,A,M,P,O,N,L,I=!1,R=[];this.init=function(r){if(P=r,O=C(P),x=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):h.closeOnDateSelection,S=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):h.appendToBody,$=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):h.onOpenFocus,D=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,T=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:h.datepickerTemplateUrl,L=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):h.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):h.showButtonBar,h.html5Types[n.type]?(k=h.html5Types[n.type],I=!0):(k=n.uibDatepickerPopup||h.datepickerPopup,n.$observe("uibDatepickerPopup",function(t,e){var n=t||h.datepickerPopup;if(n!==k&&(k=n,P.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");if(I&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");E=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),E.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":D}),A=angular.element(E.children()[0]),A.attr("template-url",T),t.datepickerOptions||(t.datepickerOptions={}),I&&"month"===n.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),I?P.$formatters.push(function(e){return t.date=d.fromTimezone(e,O.getOption("timezone")),e}):(P.$$parserName="date",P.$validators.date=y,P.$parsers.unshift(v),P.$formatters.push(function(e){return P.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=d.fromTimezone(e,O.getOption("timezone")),d.filter(t.date,k))})),P.$viewChangeListeners.push(function(){t.date=m(P.$viewValue)}),e.on("keydown",w),N=i(E)(t),E.remove(),S?s.find("body").append(N):e.after(N),t.$on("$destroy",function(){for(t.isOpen===!0&&(l.$$phase||t.$apply(function(){t.isOpen=!1})),N.remove(),e.off("keydown",w),s.off("click",b),M&&M.off("scroll",_),angular.element(a).off("resize",_);R.length;)R.shift()()})},t.getText=function(e){return t[e+"Text"]||h[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=d.fromTimezone(new Date,O.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?n[e]=new Date(t.datepickerOptions[e]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[e]=new Date(c(t.datepickerOptions[e],"medium"))):n[e]=null}),t.datepickerOptions&&n.minDate&&t.compare(e,n.minDate)<0||n.maxDate&&t.compare(e,n.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){t.date=n;var i=t.date?d.filter(t.date,k):null;e.val(i),P.$setViewValue(i),x&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,n){if(n.stopPropagation(),"today"===e){var i=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(e=d.fromTimezone(i,O.getOption("timezone")),e.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(n){n.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(t.$parent.$watch(o(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(i){i?t.disabled?t.isOpen=!1:p(function(){_(),$&&t.$broadcast("uib:datepicker.focus"),s.on("click",b);var i=n.popupPlacement?n.popupPlacement:h.placement;S||u.parsePlacement(i)[2]?(M=M||angular.element(u.scrollParent(e)),M&&M.on("scroll",_)):M=null,angular.element(a).on("resize",_)},0,!1):(s.off("click",b),M&&M.off("scroll",_),angular.element(a).off("resize",_))}),t.$on("uib:datepicker.mode",function(){p(_,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var i=t[e];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete t[e]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(t,e,n){var i=null,r=n.createNew();this.isOnlyOpen=function(t,e){var n=r.get(e);if(n){var i=n.reduce(function(e,n){return n.scope===t?n:e},{});if(i)return 1===n.length}return!1},this.open=function(e,n,a){if(i||t.on("click",o),i&&i!==e&&(i.isOpen=!1),i=e,a){var s=r.get(a);if(s){var l=s.map(function(t){return t.scope});-1===l.indexOf(e)&&r.put(a,{scope:e})}else r.put(a,{scope:e})}},this.close=function(e,n,a){if(i===e&&(t.off("click",o),t.off("keydown",this.keybindFilter),i=null),a){var s=r.get(a);if(s){var l=s.reduce(function(t,n){return n.scope===e?n:t},{});l&&r.remove(a,l)}}};var o=function(t){if(i&&i.isOpen&&!(t&&"disabled"===i.getAutoClose()||t&&3===t.which)){var n=i.getToggleElement();if(!(t&&n&&n[0].contains(t.target))){var r=i.getDropdownElement();t&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(t.target)||(i.focusToggleElement(),i.isOpen=!1,e.$$phase||i.$apply())}}};this.keybindFilter=function(t){if(i){var e=i.getDropdownElement(),n=i.getToggleElement(),r=e&&e[0].contains(t.target),a=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),i.focusToggleElement(),o()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&i.isOpen&&(r||a)&&(t.preventDefault(),t.stopPropagation(),i.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,i,r,o,a,s,l,u,c){function d(){e.append(f.dropdownMenu)}var h,p,f=this,g=t.$new(),m=r.appendToOpenClass,v=r.openClass,y=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,w=!1,_=l.find("body");e.addClass("dropdown"),this.init=function(){n.isOpen&&(p=i(n.isOpen),y=p.assign,t.$watch(p,function(t){g.isOpen=!!t})),w=angular.isDefined(n.keyboardNav)},this.toggle=function(t){return g.isOpen=arguments.length?!!t:!g.isOpen,angular.isFunction(y)&&y(g,g.isOpen),g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return f.toggleElement},g.getAutoClose=function(){return n.autoClose||"always"},g.getElement=function(){return e},g.isKeynavEnabled=function(){return w},g.focusDropdownEntry=function(t){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},g.getDropdownElement=function(){return f.dropdownMenu},g.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},g.$watch("isOpen",function(r,p){var w=null,C=!1;if(angular.isDefined(n.dropdownAppendTo)){var k=i(n.dropdownAppendTo)(g);k&&(w=angular.element(k))}if(angular.isDefined(n.dropdownAppendToBody)){var x=i(n.dropdownAppendToBody)(g);x!==!1&&(C=!0)}if(C&&!w&&(w=_),w&&f.dropdownMenu&&(r?(w.append(f.dropdownMenu),e.on("$destroy",d)):(e.off("$destroy",d),d())),w&&f.dropdownMenu){var S,$,D,T=s.positionElements(e,f.dropdownMenu,"bottom-left",!0),E=0;if(S={top:T.top+"px",display:r?"block":"none"},$=f.dropdownMenu.hasClass("dropdown-menu-right"),$?(S.left="auto",D=s.scrollbarPadding(w),D.heightOverflow&&D.scrollbarWidth&&(E=D.scrollbarWidth),S.right=window.innerWidth-E-(T.left+e.prop("offsetWidth"))+"px"):(S.left=T.left+"px",S.right="auto"),!C){var A=s.offset(w);S.top=T.top-A.top+"px",$?S.right=window.innerWidth-(T.left-A.left+e.prop("offsetWidth"))+"px":S.left=T.left-A.left+"px"}f.dropdownMenu.css(S)}var M=w?w:e,P=w?m:v,O=M.hasClass(P),N=o.isOnlyOpen(t,w);if(O===!r){var L;L=w?N?"removeClass":"addClass":r?"addClass":"removeClass",a[L](M,P).then(function(){angular.isDefined(r)&&r!==p&&b(t,{open:!!r})})}if(r)f.dropdownMenuTemplateUrl?c(f.dropdownMenuTemplateUrl).then(function(t){h=g.$new(),u(t.trim())(h,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),g.focusToggleElement(),o.open(g,e,w);else{if(o.close(g,e,w),f.dropdownMenuTemplateUrl){h&&h.$destroy();var I=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(I),f.dropdownMenu=I}f.selectedOption=null}angular.isFunction(y)&&y(t,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,i){if(i){e.addClass("dropdown-toggle"),i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.on("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e===t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.pop()},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var i=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,o,a){if(i)return i.resolve(t,r,o,a);var s=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?s.push(n.resolve(e.invoke(t))):angular.isString(t)?s.push(n.resolve(e.get(t))):s.push(n.resolve(t))}),n.all(s).then(function(e){var n={},i=0;return angular.forEach(t,function(t,r){n[r]=e[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,n){function i(e,i,r){r.modalInClass&&(t.addClass(i,r.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();e.modalOptions.animation?t.removeClass(i,r.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=e.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var i=e();n(o,{removeClass:a.modalInClass}).start().then(i)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(t){return{link:function(e,n,i,r,o){o(e.$parent,function(e){n.empty(),t.enter(e,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,n,i,r,o,a,s,l){function u(t){var e="-";return t.replace(A,function(t,n){return(n?e:"")+t.toLowerCase()})}function c(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function d(){for(var t=-1,e=k.keys(),n=0;n<e.length;n++)k.get(e[n]).value.backdrop&&(t=n);return t>-1&&$>t&&(t=$),t}function h(t,e){var n=k.get(t).value,i=n.appendTo;k.remove(t),D=k.top(),D&&($=parseInt(D.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||C;x.remove(e,t);var r=x.hasKey(e);i.toggleClass(e,r),!r&&_&&_.heightOverflow&&_.scrollbarWidth&&(_.originalRight?i.css({paddingRight:_.originalRight+"px"}):i.css({paddingRight:""}),_=null),p(!0)},n.closedDeferred),f(),e&&e.focus?e.focus():i.focus&&i.focus()}function p(t){var e;k.length()>0&&(e=k.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function f(){if(b&&-1===d()){var t=w;g(b,w,function(){t=null}),b=void 0,w=void 0}}function g(e,n,i,r){function a(){a.done||(a.done=!0,t.leave(e).then(function(){i&&i(),e.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function m(t){if(t.isDefaultPrevented())return t;var e=k.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){S.dismiss(e.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(e),i=!1;t.shiftKey?(S.isFocusInFirstItem(t,n)||S.isModalFocused(t,e))&&(i=S.focusLastFocusableElement(n)):S.isFocusInLastItem(t,n)&&(i=S.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function v(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+T+"]"),function(t){var e=parseInt(t.getAttribute(T),10),n=e-1;t.setAttribute(T,n),n||(t.removeAttribute(T),t.removeAttribute("aria-hidden"))})}var b,w,_,C="modal-open",k=s.createNew(),x=a.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},$=0,D=null,T="data-bootstrap-modal-aria-hidden-count",E="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",A=/[A-Z]/g;return r.$watch(d,function(t){w&&(w.index=t)}),n.on("keydown",m),r.$on("$destroy",function(){n.off("keydown",m)}),S.open=function(e,o){function a(t){function e(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}if(t&&"BODY"!==t[0].tagName)return e(t).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute(T),10);n||(n=e?1:0),t.setAttribute(T,n+1),t.setAttribute("aria-hidden","true")}),a(t.parent())}var s=n[0].activeElement,c=o.openedClass||C;p(!1),D=k.top(),k.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),x.put(c,e);var h=o.appendTo,f=d();f>=0&&!b&&(w=r.$new(!0),w.modalOptions=o,w.index=f,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),i(b)(w),t.enter(b,h),l.isScrollable(h)&&(_=l.scrollbarPadding(h),_.heightOverflow&&_.scrollbarWidth&&h.css({paddingRight:_.right+"px"})));var g;o.component?(g=document.createElement(u(o.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=o.content,$=D?parseInt(D.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:$,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),o.windowClass&&m.addClass(o.windowClass),o.animation&&m.attr("modal-animation","true"),h.addClass(c),o.scope&&(o.scope.$$topModalIndex=$),t.enter(i(m)(o.scope),h),k.top().value.modalDomEl=m,k.top().value.modalOpener=s,a(m)},S.close=function(t,e){var n=k.get(t);return y(),n&&v(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),h(t,n.value.modalOpener),!0):!n},S.dismiss=function(t,e){var n=k.get(t);return y(),n&&v(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),h(t,n.value.modalOpener),!0):!n},S.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},S.getTop=function(){return k.top()},S.modalRendered=function(t){var e=k.get(t);e&&e.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(t){return t.length>0?(t[0].focus(),!0):!1},S.focusLastFocusableElement=function(t){return t.length>0?(t[t.length-1].focus(),!0):!1},S.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[0]:!1},S.isFocusInLastItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[e.length-1]:!1},S.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll(E);return n?Array.prototype.filter.call(n,function(t){return c(t)}):n}}},S}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,i,r,o,a,s){function l(t){return t.template?n.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return m}var d=n.defer(),h=n.defer(),p=n.defer(),f=n.defer(),g={result:d.promise,opened:h.promise,closed:p.promise,rendered:f.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=r.component?n.when(a.resolve(r.resolve,{},null,null)):n.all([l(r),a.resolve(r.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(t){function n(e,n,i,r){e.$scope=a,e.$scope.$resolve={},i?e.$scope.$uibModalInstance=g:e.$uibModalInstance=g;var o=n?t[1]:t;angular.forEach(o,function(t,n){r&&(e[n]=t),e.$scope.$resolve[n]=t})}var i=r.scope||e,a=i.$new();a.$close=g.close,a.$dismiss=g.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:f,closedDeferred:p,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},m={},v={};r.component?(n(m,!1,!0,!1),m.name=r.component,c.component=m):r.controller&&(n(v,!0,!1,!0),u=o(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},i)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=t[0]),s.open(g,c),h.resolve(!0)},function(t){h.reject(t),d.reject(t)})["finally"](function(){c===v&&(c=null)}),g},u}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,i){e.setNumPages=i.numPages?t(i.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,r){e.ngModelCtrl=t,e.config=r,t.$render=function(){e.render()},i.itemsPerPage?e._watchers.push(n.$parent.$watch(i.itemsPerPage,function(t){
e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(t,i){(angular.isDefined(t)||t!==i)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(e,n,i,r){n.addClass("pager");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],i=1,r=e,a=angular.isDefined(l)&&e>l;a&&(u?(i=Math.max(t-Math.floor(l/2),1),r=i+l-1,r>e&&(r=e,i=r-l+1)):(i=(Math.ceil(t/l)-1)*l+1,r=Math.min(i+l-1,e)));for(var s=i;r>=s;s++){var p=o(s,h(s),s===t);n.push(p)}if(a&&l>0&&(!u||c||d)){if(i>1){if(!d||i>3){var f=o(i-1,"...",!1);n.unshift(f)}if(d){if(3===i){var g=o(2,"2",!1);n.unshift(g)}var m=o(1,"1",!1);n.unshift(m)}}if(e>r){if(!d||e-2>r){var v=o(r+1,"...",!1);n.push(v)}if(d){if(r===e-2){var y=o(e-1,e-1,!1);n.push(y)}var b=o(e,e,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,u=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,d=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers,h=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,e.$set("role","menu"),i.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){l=parseInt(t,10),s.render()}));var p=this.render;this.render=function(){p(),t.page>0&&t.page<=t.totalPages&&(t.pages=a(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,n,i,r){n.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,l,u,c,d,h){function p(t){if(27===t.which){var e=f.top();e&&(e.value.close(),e=null)}}var f=h.createNew();return s.on("keyup",p),c.$on("$destroy",function(){s.off("keyup",p)}),function(r,c,h,p){function g(t){var e=(t||p.trigger||h).split(" "),i=e.map(function(t){return n[t]||t});return{show:e,hide:i}}p=angular.extend({},e,i,p);var m=t(r),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup uib-title="'+v+"title"+y+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var n=o(b);return function(t,e,i,o){function u(){z.isOpen?m():h()}function h(){(!F||t.$eval(i[c+"Enable"]))&&(w(),k(),z.popupDelay?O||(O=a(v,z.popupDelay,!1)):v())}function m(){y(),z.popupCloseDelay?N||(N=a(b,z.popupCloseDelay,!1)):b()}function v(){return y(),w(),z.content?(_(),void z.$evalAsync(function(){z.isOpen=!0,x(!0),G()})):angular.noop}function y(){O&&(a.cancel(O),O=null),L&&(a.cancel(L),L=null)}function b(){z&&z.$evalAsync(function(){z&&(z.isOpen=!1,x(!1),z.animation?P||(P=a(C,150,!1)):C())})}function w(){N&&(a.cancel(N),N=null),P&&(a.cancel(P),P=null)}function _(){A||(M=z.$new(),A=n(M,function(t){B?s.find("body").append(t):e.after(t)}),f.add(z,{close:b}),S())}function C(){y(),w(),$(),A&&(A.remove(),A=null,I&&a.cancel(I)),f.remove(z),M&&(M.$destroy(),M=null)}function k(){z.title=i[c+"Title"],U?z.content=U(t):z.content=i[r],z.popupClass=i[c+"Class"],z.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:p.placement;var e=l.parsePlacement(z.placement);R=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);z.popupDelay=isNaN(n)?p.popupDelay:n,z.popupCloseDelay=isNaN(o)?p.popupCloseDelay:o}function x(e){V&&angular.isFunction(V.assign)&&V.assign(t,e)}function S(){W.length=0,U?(W.push(t.$watch(U,function(t){z.content=t,!t&&z.isOpen&&b()})),W.push(M.$watch(function(){j||(j=!0,M.$$postDigest(function(){j=!1,z&&z.isOpen&&G()}))}))):W.push(i.$observe(r,function(t){z.content=t,!t&&z.isOpen?b():G()})),W.push(i.$observe(c+"Title",function(t){z.title=t,z.isOpen&&G()})),W.push(i.$observe(c+"Placement",function(t){z.placement=t?t:p.placement,z.isOpen&&G()}))}function $(){W.length&&(angular.forEach(W,function(t){t()}),W.length=0)}function D(t){z&&z.isOpen&&A&&(e[0].contains(t.target)||A[0].contains(t.target)||m())}function T(t){27===t.which&&m()}function E(){var n=[],r=[],o=t.$eval(i[c+"Trigger"]);q(),angular.isObject(o)?(Object.keys(o).forEach(function(t){n.push(t),r.push(o[t])}),H={show:n,hide:r}):H=g(o),"none"!==H.show&&H.show.forEach(function(t,n){"outsideClick"===t?(e.on("click",u),s.on("click",D)):t===H.hide[n]?e.on(t,u):t&&(e.on(t,h),e.on(H.hide[n],m)),e.on("keypress",T)})}var A,M,P,O,N,L,I,R,B=angular.isDefined(p.appendToBody)?p.appendToBody:!1,H=g(void 0),F=angular.isDefined(i[c+"Enable"]),z=t.$new(!0),j=!1,V=angular.isDefined(i[c+"IsOpen"])?d(i[c+"IsOpen"]):!1,U=p.useContentExp?d(i[r]):!1,W=[],G=function(){A&&A.html()&&(L||(L=a(function(){var t=l.positionElements(e,A,z.placement,B),n=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),i=B?l.offset(e):l.position(e);A.css({top:t.top+"px",left:t.left+"px"});var r=t.placement.split("-");A.hasClass(r[0])||(A.removeClass(R.split("-")[0]),A.addClass(r[0])),A.hasClass(p.placementClassPrefix+t.placement)||(A.removeClass(p.placementClassPrefix+R),A.addClass(p.placementClassPrefix+t.placement)),I=a(function(){var t=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),e=l.adjustTop(r,i,n,t);e&&A.css(e),I=null},0,!1),A.hasClass("uib-position-measure")?(l.positionArrow(A,t.placement),A.removeClass("uib-position-measure")):R!==t.placement&&l.positionArrow(A,t.placement),R=t.placement,L=null},0,!1)))};z.origScope=t,z.isOpen=!1,z.contentExp=function(){return z.content},i.$observe("disabled",function(t){t&&y(),t&&z.isOpen&&b()}),V&&t.$watch(V,function(t){z&&!t===z.isOpen&&u()});var q=function(){H.show.forEach(function(t){"outsideClick"===t?e.off("click",u):(e.off(t,h),e.off(t,u)),e.off("keypress",T)}),H.hide.forEach(function(t){"outsideClick"===t?s.off("click",D):e.off(t,m)})};E();var K=t.$eval(i[c+"Animation"]);z.animation=angular.isDefined(K)?!!K:p.animation;var Y,Z=c+"AppendToBody";Y=Z in i&&void 0===i[Z]?!0:t.$eval(i[Z]),B=angular.isDefined(Y)?Y:B,t.$on("$destroy",function(){q(),C(),z=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(e){var a=++d;e?(i(e,!0).then(function(i){if(a===d){var r=c.$new(),l=i,p=n(l)(r,function(e){h(),t.enter(e,o)});s=r,u=p,s.$emit("$includeContentLoaded",e)}},function(){a===d&&(h(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):h()}),r.$on("$destroy",h)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,i){if(e.placement){var r=t.parsePlacement(e.placement);n.addClass(r[0])}e.popupClass&&n.addClass(e.popupClass),e.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=i(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):n.enableReset;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var n=r.enableReset&&i.$viewValue===e?0:e;i.$setViewValue(n),i.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue,t.title=r.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<i.tabs.length;e++)if(i.tabs[e].index===t)return e}var n,i=this;i.tabs=[],i.select=function(t,o){if(!r){var a=e(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:t}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[t];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(t){if(i.tabs.push({tab:t,index:t.index}),i.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=e(t.index);i.select(n)}},i.removeTab=function(t){for(var e,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){e=n;break}if(i.tabs[e].index===i.active){var r=e===i.tabs.length-1?e-1:e+1%i.tabs.length;i.select(r)}i.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==n&&i.select(e(t))});var r;t.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,i,r,o){e.disabled=!1,i.disable&&e.$parent.$watch(t(i.disable),function(t){e.disabled=!!t}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?e.index=Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:e.index=0),angular.isUndefined(i.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===e){n=i;break}r.select(n,t)}},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,i){var r=e.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,i,r,o,a){function s(){var e=+t.hours,n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n&&""!==t.hours?(t.showMeridian&&(12===e&&(e=0),t.meridian===x[1]&&(e+=12)),e):void 0}function l(){var e=+t.minutes,n=e>=0&&60>e;return n&&""!==t.minutes?e:void 0}function u(){var e=+t.seconds;return e>=0&&60>e?e:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function d(t){h(),k.$setViewValue(new Date(_)),p(t)}function h(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),w&&w.$setValidity("seconds",!0),k.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function p(e){if(k.$modelValue){var n=_.getHours(),i=_.getMinutes(),r=_.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n,!S),"m"!==e&&(t.minutes=c(i)),t.meridian=_.getHours()<12?x[0]:x[1],"s"!==e&&(t.seconds=c(r)),t.meridian=_.getHours()<12?x[0]:x[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=x[0]}function f(t){_=m(_,t),d()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===t.hours||""===t.hours)&&(null===t.minutes||""===t.minutes)&&(!t.showSeconds||t.showSeconds&&(null===t.seconds||""===t.seconds))}var y,b,w,_=new Date,C=[],k={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,S=angular.isDefined(n.padHours)?t.$parent.$eval(n.padHours):!0;t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,i){k=e,k.$render=this.render,k.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);y=r.controller("ngModel"),b=o.controller("ngModel"),w=s.controller("ngModel");var l=angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(r,o,s);var u=angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):a.arrowkeys;u&&this.setupArrowkeyEvents(r,o,s),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var $=a.hourStep;n.hourStep&&C.push(t.$parent.$watch(i(n.hourStep),function(t){$=+t}));var D=a.minuteStep;n.minuteStep&&C.push(t.$parent.$watch(i(n.minuteStep),function(t){D=+t}));var T;C.push(t.$parent.$watch(i(n.min),function(t){var e=new Date(t);T=isNaN(e)?void 0:e}));var E;C.push(t.$parent.$watch(i(n.max),function(t){var e=new Date(t);E=isNaN(e)?void 0:e}));var A=!1;n.ngDisabled&&C.push(t.$parent.$watch(i(n.ngDisabled),function(t){A=t})),t.noIncrementHours=function(){var t=g(_,60*$);return A||t>E||_>t&&T>t},t.noDecrementHours=function(){var t=g(_,60*-$);return A||T>t||t>_&&t>E},t.noIncrementMinutes=function(){var t=g(_,D);return A||t>E||_>t&&T>t},t.noDecrementMinutes=function(){var t=g(_,-D);return A||T>t||t>_&&t>E},t.noIncrementSeconds=function(){var t=m(_,M);return A||t>E||_>t&&T>t},t.noDecrementSeconds=function(){var t=m(_,-M);return A||T>t||t>_&&t>E},t.noToggleMeridian=function(){return _.getHours()<12?A||g(_,720)>E:A||g(_,-720)<T};var M=a.secondStep;n.secondStep&&C.push(t.$parent.$watch(i(n.secondStep),function(t){M=+t})),t.showSeconds=a.showSeconds,n.showSeconds&&C.push(t.$parent.$watch(i(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=a.showMeridian,n.showMeridian&&C.push(t.$parent.$watch(i(n.showMeridian),function(e){if(t.showMeridian=!!e,k.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(_.setHours(n),d())}else p()})),this.setupMousewheelEvents=function(e,n,i){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.on("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.on("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),i.on("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,i){e.on("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.on("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),i.on("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,i){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var r=function(e,n,i){k.$setViewValue(null),k.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(t.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(i)&&(t.invalidSeconds=i,w&&w.$setValidity("seconds",!1))};t.updateHours=function(){var t=s(),e=l();k.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(t),_.setMinutes(e),T>_||_>E?r(!0):d("h")):r(!0)},e.on("blur",function(e){k.$setTouched(),v()?h():null===t.hours||""===t.hours?r(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours,!S)})}),t.updateMinutes=function(){var t=l(),e=s();k.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(e),_.setMinutes(t),T>_||_>E?r(void 0,!0):d("m")):r(void 0,!0)},n.on("blur",function(e){k.$setTouched(),v()?h():null===t.minutes?r(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=u();k.$setDirty(),angular.isDefined(t)?(_.setSeconds(t),d("s")):r(void 0,void 0,!0)},i.on("blur",function(e){v()?h():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=k.$viewValue;isNaN(e)?(k.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(_=e),T>_||_>E?(k.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):h(),p())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):a.showSpinners,t.incrementHours=function(){t.noIncrementHours()||f(60*$*60)},t.decrementHours=function(){t.noDecrementHours()||f(60*-$*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||f(60*D)},t.decrementMinutes=function(){t.noDecrementMinutes()||f(60*-D)},t.incrementSeconds=function(){t.noIncrementSeconds()||f(M)},t.decrementSeconds=function(){t.noDecrementSeconds()||f(-M)},t.toggleMeridian=function(){var e=l(),n=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?f(720*(_.getHours()<12?60:-60)):t.meridian=t.meridian===x[0]?x[1]:x[0])},t.blur=function(){k.$setTouched()},t.$on("$destroy",function(){for(;C.length;)C.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,i,r,o,a,s,l,u,c,d,h){function p(){z.moveInProgress||(z.moveInProgress=!0,z.$digest()),X()}function f(){z.position=M?d.offset(e):d.position(e),z.position.top+=e.prop("offsetHeight")}function g(t){var e;return angular.version.minor<6?(e=t.$options||{},e.getOption=function(t){return e[t]}):e=t.$options,e}var m,v,y=[9,13,27,38,40],b=200,w=t.$eval(n.typeaheadMinLength);w||0===w||(w=1),t.$watch(n.typeaheadMinLength,function(t){w=t||0===t?t:1});var _=t.$eval(n.typeaheadWaitMs)||0,C=t.$eval(n.typeaheadEditable)!==!1;t.$watch(n.typeaheadEditable,function(t){C=t!==!1});var k,x,S=r(n.typeaheadLoading).assign||angular.noop,$=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},D=r(n.typeaheadOnSelect),T=angular.isDefined(n.typeaheadSelectOnBlur)?t.$eval(n.typeaheadSelectOnBlur):!1,E=r(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,M=n.typeaheadAppendToBody?t.$eval(n.typeaheadAppendToBody):!1,P=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,O=t.$eval(n.typeaheadFocusFirst)!==!1,N=n.typeaheadSelectOnExact?t.$eval(n.typeaheadSelectOnExact):!1,L=r(n.typeaheadIsOpen).assign||angular.noop,I=t.$eval(n.typeaheadShowHint)||!1,R=r(n.ngModel),B=r(n.ngModel+"($$$p)"),H=function(e,n){return angular.isFunction(R(t))&&v.getOption("getterSetter")?B(e,{$$$p:n}):R.assign(e,n)},F=h.parse(n.uibTypeahead),z=t.$new(),j=t.$on("$destroy",function(){z.$destroy()});z.$on("$destroy",j);var V="typeahead-"+z.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var U,W;I&&(U=angular.element("<div></div>"),U.css("position","relative"),e.after(U),W=e.clone(),W.attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),W.attr("id")&&W.removeAttr("id"),U.append(W),W.after(e));var G=angular.element("<div uib-typeahead-popup></div>");G.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&G.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&G.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var q=function(){I&&W.val("")},K=function(){z.matches=[],z.activeIdx=-1,e.attr("aria-expanded",!1),q()},Y=function(t){return V+"-option-"+t};z.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",Y(t))});var Z=function(t,e){return z.matches.length>e&&t?t.toUpperCase()===z.matches[e].label.toUpperCase():!1},J=function(n,i){var r={$viewValue:n};S(t,!0),E(t,!1),o.when(F.source(t,r)).then(function(o){var a=n===m.$viewValue;if(a&&k)if(o&&o.length>0){z.activeIdx=O?0:-1,E(t,!1),z.matches.length=0;for(var s=0;s<o.length;s++)r[F.itemName]=o[s],z.matches.push({id:Y(s),label:F.viewMapper(z,r),model:o[s]});if(z.query=n,f(),e.attr("aria-expanded",!0),N&&1===z.matches.length&&Z(n,0)&&(angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?c(function(){z.select(0,i)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate["default"]):z.select(0,i)),I){var l=z.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+l.slice(n.length)):W.val("")}}else K(),E(t,!0);a&&S(t,!1)},function(){K(),S(t,!1),E(t,!0)})};M&&(angular.element(l).on("resize",p),s.find("body").on("scroll",p));var X=c(function(){z.matches.length&&f(),z.moveInProgress=!1},b);z.moveInProgress=!1,z.query=void 0;var Q,tt=function(t){Q=a(function(){J(t)},_)},et=function(){Q&&a.cancel(Q)};K(),z.assignIsOpen=function(e){L(t,e)},z.select=function(i,r){var o,s,l={};x=!0,l[F.itemName]=s=z.matches[i].model,o=F.modelMapper(t,l),H(t,o),m.$setValidity("editable",!0),m.$setValidity("parse",!0),D(t,{$item:s,$model:o,$label:F.viewMapper(t,l),$event:r}),K(),z.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==z.matches.length&&-1!==y.indexOf(e.which)){var n=$(t,{$event:e});if(-1===z.activeIdx&&n||9===e.which&&e.shiftKey)return K(),void z.$digest();e.preventDefault();var i;switch(e.which){case 27:e.stopPropagation(),K(),t.$digest();break;case 38:z.activeIdx=(z.activeIdx>0?z.activeIdx:z.matches.length)-1,z.$digest(),i=G[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:z.activeIdx=(z.activeIdx+1)%z.matches.length,z.$digest(),i=G[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],
i.parentNode.scrollTop=i.offsetTop;break;default:n&&z.$apply(function(){angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?c(function(){z.select(z.activeIdx,e)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate["default"]):z.select(z.activeIdx,e)})}}}),e.on("focus",function(t){k=!0,0!==w||m.$viewValue||a(function(){J(m.$viewValue,t)},0)}),e.on("blur",function(t){T&&z.matches.length&&-1!==z.activeIdx&&!x&&(x=!0,z.$apply(function(){angular.isObject(z.debounceUpdate)&&angular.isNumber(z.debounceUpdate.blur)?c(function(){z.select(z.activeIdx,t)},z.debounceUpdate.blur):z.select(z.activeIdx,t)})),!C&&m.$error.editable&&(m.$setViewValue(),z.$apply(function(){m.$setValidity("editable",!0),m.$setValidity("parse",!0)}),e.val("")),k=!1,x=!1});var nt=function(n){e[0]!==n.target&&3!==n.which&&0!==z.matches.length&&(K(),u.$$phase||t.$digest())};s.on("click",nt),t.$on("$destroy",function(){s.off("click",nt),(M||P)&&it.remove(),M&&(angular.element(l).off("resize",p),s.find("body").off("scroll",p)),G.remove(),I&&U.remove()});var it=i(G)(z);M?s.find("body").append(it):P?angular.element(P).eq(0).append(it):e.after(it),this.init=function(e){m=e,v=g(m),z.debounceUpdate=r(v.getOption("debounce"))(t),m.$parsers.unshift(function(e){return k=!0,0===w||e&&e.length>=w?_>0?(et(),tt(e)):J(e):(S(t,!1),et(),K()),C?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(e){var n,i,r={};return C||m.$setValidity("editable",!0),A?(r.$model=e,A(t,r)):(r[F.itemName]=e,n=F.viewMapper(t,r),r[F.itemName]=void 0,i=F.viewMapper(t,r),n!==i?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,i){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):e.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(a).then(function(t){var n=angular.element(t.trim());r.replaceWith(n),e(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,a){return!o&&r(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=a?(""+e).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),/**
 * State-based routing for AngularJS
 * @version v0.4.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return W(new(W(function(){},{prototype:t})),e)}function r(t){return U(arguments,function(e){e!==t&&U(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return U(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function l(t,e,n,i){var r,l=o(n,i),u={},c=[];for(var d in l)if(l[d]&&l[d].params&&(r=a(l[d].params),r.length))for(var h in r)s(c,r[h])>=0||(c.push(r[h]),u[r[h]]=t[r[h]]);return W({},u,e)}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return U(t,function(t){n[t]=e[t]}),n}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in t&&(e[n]=t[n])}),e}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==s(n,i)&&(e[i]=t[i]);return e}function p(t,e){var n=V(t),i=n?[]:{};return U(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function f(t,e){var n=V(t)?[]:{};return U(t,function(t,i){n[i]=e(t,i)}),n}function g(t){return t.then(n,function(){})&&t}function m(t,e){var i=1,o=2,l={},u=[],c=l,d=W(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(t,n){if(b[n]!==o){if(y.push(n),b[n]===i)throw y.splice(0,s(y,n)),new Error("Cyclic dependency: "+y.join(" -> "));if(b[n]=i,z(t))v.push(n,[function(){return e.get(t)}],u);else{var r=e.annotate(t);U(r,function(t){t!==n&&l.hasOwnProperty(t)&&p(l[t],t)}),v.push(n,t,r)}y.pop(),b[n]=o}}function f(t){return j(t)&&t.then&&t.$$promises}if(!j(l))throw new Error("'invocables' must be an object");var m=a(l||{}),v=[],y=[],b={};return U(l,p),l=y=b=null,function(i,o,a){function s(){--_||(C||r(w,o.$$values),y.$$values=w,y.$$promises=y.$$promises||!0,delete y.$$inheritedValues,p.resolve(w))}function l(t){y.$$failure=t,p.reject(t)}function u(n,r,o){function u(t){d.reject(t),l(t)}function c(){if(!H(y.$$failure))try{d.resolve(e.invoke(r,a,w)),d.promise.then(function(t){w[n]=t,s()},u)}catch(t){u(t)}}var d=t.defer(),h=0;U(o,function(t){b.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(h++,b[t].then(function(e){w[t]=e,--h||c()},u))}),h||c(),b[n]=g(d.promise)}if(f(i)&&a===n&&(a=o,o=i,i=null),i){if(!j(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var p=t.defer(),y=g(p.promise),b=y.$$promises={},w=W({},i),_=1+v.length/3,C=!1;if(g(y),H(o.$$failure))return l(o.$$failure),y;o.$$inheritedValues&&r(w,h(o.$$inheritedValues,m)),W(b,o.$$promises),o.$$values?(C=r(w,h(o.$$values,m)),y.$$inheritedValues=h(o.$$values,m),s()):(o.$$inheritedValues&&(y.$$inheritedValues=h(o.$$inheritedValues,m)),o.then(s,l));for(var k=0,x=v.length;x>k;k+=3)i.hasOwnProperty(v[k])?s():u(v[k],v[k+1],v[k+2]);return y}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function v(){var t=e.version.minor<3;this.shouldUnsafelyUseHttp=function(e){t=!!e},this.$get=["$http","$templateCache","$injector",function(e,n,i){return new y(e,n,i,t)}]}function y(t,e,n,i){this.fromConfig=function(t,e,n){return H(t.template)?this.fromString(t.template,e):H(t.templateUrl)?this.fromUrl(t.templateUrl,e):H(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return F(t)?t(e):t},this.fromUrl=function(r,o){return F(r)&&(r=r(o)),null==r?null:i?t.get(r,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data}):n.get("$templateRequest")(r)},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function b(t,e,r){function o(e,n,i,r){if(m.push(e),f[e])return f[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new K.Param(e,n,i,r),g[e]}function a(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function s(r,o){var a,s,l,u,c;return a=r[2]||r[3],c=e.params[a],l=t.substring(h,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(u=K.type(s)||i(K.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}e=W({params:{}},j(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,p=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new K.ParamSet,m=[];this.source=t;for(var v,y,b;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(v.segment),h=u.lastIndex;b=t.substring(h);var w=b.indexOf("?");if(w>=0){var _=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=t.substring(0,h+w),_.length>0)for(h=0;l=c.exec(_);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),h=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";d+=a(b)+(e.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(d,e.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function w(t){W(this,t)}function _(){function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function r(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}function o(){return{strict:g,caseInsensitive:h}}function l(t){return F(t)||V(t)&&F(t[t.length-1])}function u(){for(;C.length;){var t=C.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(v[t.name],d.invoke(t.def))}}function c(t){W(this,t||{})}K=this;var d,h=!1,g=!0,m=!1,v={},y=!0,C=[],k={string:{encode:t,decode:r,is:function(t){return null==t||!H(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return t!==n&&null!==t&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};_.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(t.value)},this.caseInsensitive=function(t){return H(t)&&(h=t),h},this.strictMode=function(t){return H(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!H(t))return m;if(t!==!0&&t!==!1&&!z(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new b(t,W(o(),e))},this.isMatcher=function(t){if(!j(t))return!1;var e=!0;return U(b.prototype,function(n,i){F(n)&&(e=e&&H(t[i])&&F(t[i]))}),e},this.type=function(t,e,n){if(!H(e))return v[t];if(v.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return v[t]=new w(W({name:t},e)),n&&(C.push({name:t,def:n}),y||u()),this},U(k,function(t,e){v[e]=new w(W({name:e},t))}),v=i(v,{}),this.$get=["$injector",function(t){return d=t,y=!1,u(),U(k,function(t,e){v[e]||(v[e]=new w(t))}),this}],this.Param=function(t,i,r,o){function u(t){var e=j(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?v[n.type]:n.type instanceof w?n.type:new w(n.type):"config"===r?v.any:v.string}function h(){var e={array:"search"===o?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return W(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!H(n)||null==n)return m;if(n===!0||z(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function y(t,e,i,r){var o,a,l=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=V(t.replace)?t.replace:[],z(r)&&o.push({from:r,to:n}),a=f(o,function(t){return t.from}),p(l,function(t){return-1===s(a,t.from)}).concat(o)}function b(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var t=d.invoke(r.$$fn);if(null!==t&&t!==n&&!k.type.is(t))throw new Error("Default value ("+t+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return t}function _(t){function e(t){return function(e){return e.from===t}}function n(t){var n=f(p(k.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),H(t)?k.type.$normalize(t):b()}function C(){return"{Param:"+t+" "+i+" squash: '"+$+"' optional: "+S+"}"}var k=this;r=u(r),i=c(r,i,o);var x=h();i=x?i.$asArray(x,"search"===o):i,"string"!==i.name||x||"path"!==o||r.value!==n||(r.value="");var S=r.value!==n,$=g(r,S),D=y(r,x,S,$);W(this,{id:t,type:i,location:o,array:x,squash:$,replace:D,isOptional:S,value:_,dynamic:n,config:r,toString:C})},c.prototype={$$new:function(){return i(this,W(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),U(e,function(e){U(a(e),function(e){-1===s(t,e)&&-1===s(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return U(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return U(i.$$keys(),function(r){var o=t&&t[r],a=e&&e[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=t[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function C(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return H(i)?i:!0}function s(i,r,o,a,s){function h(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function p(t){function e(t){var e=t(o,i);return e?(z(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){g&&i.url()===g;g=n;var r,a=u.length;for(r=0;a>r;r++)if(e(u[r]))return;c&&e(c)}}function f(){return l=l||r.$on("$locationChangeSuccess",p)}var g,m=a.baseHref(),v=i.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(r);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=h(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(t){if(!F(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(z(t)){var e=t;t=function(){return e}}else if(!F(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=z(e);if(z(t)&&(t=i.compile(t)),!s&&!F(e)&&!V(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),W(function(n,i){return a(n,e,t.exec(i.path(),i.search()))},{prefix:z(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),W(function(n,i){return a(n,e,t.exec(i.path()))},{prefix:r(t)})}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function k(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var i=z(t),r=i?t:t.name,a=o(r);if(a){if(!e)throw new Error("No reference point given for path '"+r+"'");e=h(e);for(var s=r.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),r=c.name+(c.name&&s?".":"")+s}var d=$[r];return!d||!i&&(i||d!==t&&d.self!==t)?n:d}function p(t,e){D[t]||(D[t]=[]),D[t].push(e)}function m(t){for(var e=D[t]||[];e.length;)v(e.shift())}function v(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!z(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if($.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):z(e.parent)?e.parent:j(e.parent)&&z(e.parent.name)?e.parent.name:"";if(r&&!$[r])return p(r,e.self);for(var o in E)F(E[o])&&(e[o]=E[o](e,E.$delegates[o]));return $[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){S.$current.navigable==e&&u(t,n)||S.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function y(t){return t.indexOf("*")>-1}function b(t){for(var e=t.split("."),n=S.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function w(t,e){return z(t)&&!H(e)?E[t]:F(e)&&z(t)?(E[t]&&!E.$delegates[t]&&(E.$delegates[t]=E[t]),E[t]=e,this):this}function _(t,e){return j(t)?e=t:e.name=t,v(e),this}function C(t,r,o,s,u,d,p,m,v){function w(e,n,i,o){var a=t.$broadcast("$stateNotFound",e,n,i);if(a.defaultPrevented)return p.update(),A;if(!a.retry)return null;if(o.$retry)return p.update(),M;var s=S.transition=r.when(a.retry);return s.then(function(){return s!==S.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),D):(e.options.$retry=!0,S.transitionTo(e.to,e.toParams,e.options))},function(){return A}),p.update(),s}function _(t,n,i,a,l,d){function h(){var n=[];return U(t.views,function(i,r){var a=i.resolve&&i.resolve!==t.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:p,notify:d.notify})||""}],n.push(u.resolve(a,l.globals,l.resolve,t).then(function(n){if(F(i.controllerProvider)||V(i.controllerProvider)){var o=e.extend({},a,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var p=i?n:c(t.params.$$keys(),n),f={$stateParams:p};l.resolve=u.resolve(t.resolve,f,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return a&&g.push(a),r.all(g).then(h).then(function(t){return l})}var C=new Error("transition superseded"),D=g(r.reject(C)),E=g(r.reject(new Error("transition prevented"))),A=g(r.reject(new Error("transition aborted"))),M=g(r.reject(new Error("transition failed")));return x.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:x.self,$current:x,transition:null},S.reload=function(t){return S.transitionTo(S.current,d,{reload:t||!0,inherit:!1,notify:!0})},S.go=function(t,e,n){return S.transitionTo(t,e,W({inherit:!0,relative:S.$current},n))},S.transitionTo=function(e,n,o){n=n||{},o=W({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=S.$current,f=S.params,m=u.path,v=h(e,o.relative),y=n["#"];if(!H(v)){var b={to:e,toParams:n,options:o},$=w(b,u.self,f,o);if($)return $;if(e=b.to,n=b.toParams,o=b.options,v=h(e,o.relative),!H(v)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(v[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(d,n||{},S.$current,v)),!v.params.$$validates(n))return M;n=v.params.$$values(n),e=v;var A=e.path,P=0,O=A[P],N=x.locals,L=[];if(o.reload){if(z(o.reload)||j(o.reload)){if(j(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var I=o.reload===!0?m[0]:h(o.reload);if(o.reload&&!I)throw new Error("No such reload state '"+(z(o.reload)?o.reload:o.reload.name)+"'");for(;O&&O===m[P]&&O!==I;)N=L[P]=O.locals,P++,O=A[P]}}else for(;O&&O===m[P]&&O.ownParams.$$equals(n,f);)N=L[P]=O.locals,P++,O=A[P];if(k(e,n,u,f,N,o))return y&&(n["#"]=y),S.params=n,G(S.params,d),G(c(e.params.$$keys(),d),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(p.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),p.update(!0)),S.transition=null,r.when(S.current);if(n=c(e.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,f,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),null==S.transition&&p.update(),E;for(var R=r.when(N),B=P;B<A.length;B++,O=A[B])N=L[B]=i(N),R=_(O,n,O===e,R,N,o);var F=S.transition=R.then(function(){var i,r,a;if(S.transition!==F)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),D;for(i=m.length-1;i>=P;i--)a=m[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=P;i<A.length;i++)r=A[i],r.locals=L[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==F?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),D):(S.$current=e,S.current=e.self,S.params=n,G(S.params,d),S.transition=null,o.location&&e.navigable&&p.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,f),p.update(!0),S.current)}).then(null,function(i){return i===C?D:S.transition!==F?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),D):(S.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,f,i),a.defaultPrevented||p.update(),r.reject(i))});return g(F),F},S.is=function(t,e,i){i=W({relative:S.$current},i||{});var r=h(t,i.relative);return H(r)?S.$current!==r?!1:!e||a(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(d[n],e[n])},!0):n},S.includes=function(t,e,i){if(i=W({relative:S.$current},i||{}),z(t)&&y(t)){if(!b(t))return!1;t=S.$current.name}var r=h(t,i.relative);if(!H(r))return n;if(!H(S.$current.includes[r.name]))return!1;if(!e)return!0;for(var o=a(e),s=0;s<o.length;s++){var l=o[s],u=r.params[l];if(u&&!u.type.equals(d[l],e[l]))return!1}return a(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(d[n],e[n])},!0)},S.href=function(t,e,i){i=W({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=h(t,i.relative);if(!H(r))return null;i.inherit&&(e=l(d,e||{},S.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?p.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},S.get=function(t,e){if(0===arguments.length)return f(a($),function(t){return $[t].self});var n=h(t,e||S.$current);return n&&n.self?n.self:null},S}function k(t,e,n,i,r,o){function a(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=d.apply({},[t.params].concat(r)),a=new K.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&a(n,i,e))?!0:void 0}var x,S,$={},D={},T="abstract",E={parent:function(t){if(H(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):x},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(z(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||x).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new K.ParamSet;return U(t.params||{},function(t,n){e[n]||(e[n]=new K.Param(n,null,t,"config"))}),e},params:function(t){var e=d(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?W(t.parent.params.$$new(),e):new K.ParamSet},views:function(t){var e={};return U(H(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?W({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};x=v({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=w,this.state=_,this.$get=C,C.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=W(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function S(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function $(t,n,i,r,o){function a(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function s(t,n){var i=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,n,i){e.version.minor>2?c.enter(t,null,n).then(i):c.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?c.leave(t).then(n):c.leave(t,n)}};if(u){var r=u&&u(n,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i()}var l=a(),u=l("$animator"),c=l("$animate"),d={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,l){return function(n,a,u){function c(){if(h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p){var t=p.data("$uiViewAnim");y.leave(p,function(){t.$$animLeave.resolve(),h=null}),h=p,p=null}}function d(s){var d,h=T(n,u,a,r),b=h&&t.$current&&t.$current.locals[h];if(s||b!==g){d=n.$new(),g=t.$current.locals[h],d.$emit("$viewContentLoading",h);var w=l(d,function(t){var r=o.defer(),s=o.defer(),l={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};t.data("$uiViewAnim",l),y.enter(t,a,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&i(t)}),c()});p=w,f=d,f.$emit("$viewContentLoaded",h),f.$eval(m)}}var h,p,f,g,m=u.onload||"",v=u.autoscroll,y=s(u,n);a.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){d(!1)}),d(!0)}}};return d}function D(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return o.empty?o.empty():o[0].innerHTML=null,function(o,s,l){var u=i.$current,c=T(o,l,s,r),d=u&&u.locals[c];if(!d)return s.html(a),void t(s.contents())(o);s.data("$uiView",{name:c,state:d.$$state}),s.html(d.$template?d.$template:a);var h=e.extend({},d);o[d.$$resolveAs]=h;var p=t(s.contents());if(d.$$controller){d.$scope=o,d.$element=s;var f=n(d.$$controller,d);d.$$controllerAs&&(o[d.$$controllerAs]=f,o[d.$$controllerAs][d.$$resolveAs]=h),F(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}p(o)}}}}function T(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function E(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function A(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function M(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function P(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var u=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function O(t,e){return{relative:A(t)||e.$current,inherit:!0}}function N(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,l=E(o.uiSref,t.current.name),u={state:l.state,href:null,params:null},c=M(r),d=a[1]||a[0],h=null;u.options=W(O(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var p=function(n){n&&(u.params=e.copy(n)),u.href=t.href(l.state,u.params,u.options),h&&h(),d&&(h=d.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(c.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u.params&&p(t)},!0),u.params=e.copy(i.$eval(l.paramExpr))),p(),c.clickable&&(s=P(r,t,n,c,function(){return u}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function L(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(e){h.state=e[0],h.params=e[1],h.options=e[2],h.href=t.href(h.state,h.params,h.options),p&&p(),u&&(p=u.$$addStateInfo(h.state,h.params)),h.href&&r.$set(l.attr,h.href)}var s,l=M(i),u=o[1]||o[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],d="["+c.map(function(t){return t||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},p=null;n.$watch(d,a,!0),a(n.$eval(d)),l.clickable&&(s=P(i,t,e,l,function(){return h}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function I(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){function a(e,n,r){var o=t.get(e,A(i)),a=s(e,n),l={state:o||{name:e},params:n,hash:a};return g.push(l),m[a]=r,function(){var t=g.indexOf(l);-1!==t&&g.splice(t,1)}}function s(t,n){if(!z(t))throw new Error("state should be a string");return j(n)?t+q(n):(n=e.$eval(n),j(n)?t+q(n):t)}function l(){for(var t=0;t<g.length;t++)d(g[t].state,g[t].params)?u(i,m[g[t].hash]):c(i,m[g[t].hash]),h(g[t].state,g[t].params)?u(i,p):c(i,p)}function u(t,e){o(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function d(e,n){return t.includes(e.name,n)}function h(e,n){return t.is(e.name,n)}var p,f,g=[],m={};p=n(r.uiSrefActiveEq||"",!1)(e);try{f=e.$eval(r.uiSrefActive)}catch(v){}f=f||n(r.uiSrefActive||"",!1)(e),j(f)&&U(f,function(n,i){if(z(n)){var r=E(n,t.current.name);a(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(j(f)&&g.length>0)){var n=a(t,e,f);return l(),n}},e.$on("$stateChangeSuccess",l),l()}]}}function R(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function B(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var H=e.isDefined,F=e.isFunction,z=e.isString,j=e.isObject,V=e.isArray,U=e.forEach,W=e.extend,G=e.copy,q=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),e.module("ui.router.util").provider("$templateFactory",v);var K;b.prototype.concat=function(t,e){var n={caseInsensitive:K.caseInsensitive(),strict:K.strictMode(),squash:K.defaultSquashPolicy()};return new b(this.sourcePath+t+this.sourceSearch,W(n,e),this)},b.prototype.toString=function(){return this.source},b.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=f(i,e);return f(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,h;for(r=0;u>r;r++){for(a=s[r],d=this.params[a],h=i[r+1],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);h&&d.array===!0&&(h=n(h)),H(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}for(;l>r;r++){for(a=s[r],c[a]=this.params[a].value(e[a]),d=this.params[a],h=e[a],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);H(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}return c},b.prototype.parameters=function(t){return H(t)?this.params[t]||null:this.$$paramNames},b.prototype.validates=function(t){return this.params.$$validates(t)},b.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=i.length,u=n[0];for(o=0;l>o;o++){var c=s>o,d=i[o],h=r[d],p=h.value(t[d]),g=h.isOptional&&h.type.equals(h.value(),p),m=g?h.squash:!1,v=h.type.encode(p);if(c){var y=n[o+1],b=o+1===s;if(m===!1)null!=v&&(u+=V(v)?f(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else z(m)&&(u+=m+y);b&&h.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(V(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+v),a=!0}}return u},w.prototype.is=function(t,e){return!0},w.prototype.encode=function(t,e){return t},w.prototype.decode=function(t,e){return t},w.prototype.equals=function(t,e){return t==e},w.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},w.prototype.pattern=/.*/,w.prototype.toString=function(){return"{Type:"+this.name+"}"},w.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},w.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return V(t)?t:H(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){if(V(n)&&0===n.length)return n;n=r(n);var i=f(n,t);return e===!0?0===p(i,a).length:o(i)}}function l(t){return function(e,n){var i=r(e),o=r(n);
if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=l(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",_),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),C.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",C),k.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",k).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),x.$inject=[],e.module("ui.router.state").provider("$view",x),e.module("ui.router.state").provider("$uiViewScroll",S),$.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],D.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",$),e.module("ui.router.state").directive("uiView",D),N.$inject=["$state","$timeout"],L.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",N).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",L),R.$inject=["$state"],B.$inject=["$state"],e.module("ui.router.state").filter("isState",R).filter("includedByState",B)}(window,window.angular);var socialLogin=angular.module("socialLogin",[]);socialLogin.provider("social",function(){var t,e,n,i;return{setFbKey:function(n){t=n.appId,e=n.apiVersion;var i,r=document,o="facebook-jssdk",a=r.getElementsByTagName("script")[0];i=r.createElement("script"),i.id=o,i.async=!0,i.src="//connect.facebook.net/en_US/sdk.js",i.onload=function(){FB.init({appId:t,status:!0,cookie:!0,xfbml:!0,version:e})},a.parentNode.insertBefore(i,a)},setGoogleKey:function(t){n=t;var e,i=document,r=i.getElementsByTagName("script")[0];e=i.createElement("script"),e.async=!0,e.src="//apis.google.com/js/platform.js",e.onload=function(){var e={client_id:t,scope:"email"};gapi.load("auth2",function(){gapi.auth2.init(e)})},r.parentNode.insertBefore(e,r)},setLinkedInKey:function(t){i=t;var e,n=document,r=n.getElementsByTagName("script")[0];e=n.createElement("script"),e.async=!1,e.src="//platform.linkedin.com/in.js",e.text=("api_key: "+i).replace('"',""),r.parentNode.insertBefore(e,r)},$get:function(){return{fbKey:t,googleKey:n,linkedInKey:i,fbApiV:e}}}}),socialLogin.factory("socialLoginService",["$window","$rootScope",function(t,e){return{logout:function(){var n=t.localStorage.getItem("_login_provider");switch(n){case"google":var i=document.getElementById("gSignout");"undefined"!=typeof i&&null!=i&&i.remove();var r,o=document,a=o.getElementsByTagName("script")[0];r=o.createElement("script"),r.src="https://accounts.google.com/Logout",r.type="text/javascript",r.id="gSignout",t.localStorage.removeItem("_login_provider"),e.$broadcast("event:social-sign-out-success","success"),a.parentNode.insertBefore(r,a);break;case"linkedIn":IN.User.logout(function(){t.localStorage.removeItem("_login_provider"),e.$broadcast("event:social-sign-out-success","success")},{});break;case"facebook":FB.logout(function(n){t.localStorage.removeItem("_login_provider"),e.$broadcast("event:social-sign-out-success","success")})}},setProvider:function(e){t.localStorage.setItem("_login_provider",e)}}}]),socialLogin.directive("linkedIn",["$rootScope","social","socialLoginService","$window",function(t,e,n,i){return{restrict:"EA",scope:{},link:function(e,i,r){i.on("click",function(){IN.User.authorize(function(){IN.API.Raw("/people/~:(id,first-name,last-name,email-address,picture-url)").result(function(e){n.setProvider("linkedIn");var i={name:e.firstName+" "+e.lastName,email:e.emailAddress,uid:e.id,provider:"linkedIN",imageUrl:e.pictureUrl};t.$broadcast("event:social-sign-in-success",i)})})})}}}]),socialLogin.directive("gLogin",["$rootScope","social","socialLoginService",function(t,e,n){return{restrict:"EA",scope:{},replace:!0,link:function(e,i,r){i.on("click",function(){var i=function(){var t=e.gauth.currentUser.get(),n=t.getBasicProfile(),i=t.getAuthResponse().id_token;return{token:i,name:n.getName(),email:n.getEmail(),uid:n.getId(),provider:"google",imageUrl:n.getImageUrl()}};"undefined"==typeof e.gauth&&(e.gauth=gapi.auth2.getAuthInstance()),e.gauth.isSignedIn.get()?(n.setProvider("google"),t.$broadcast("event:social-sign-in-success",i())):e.gauth.signIn().then(function(e){n.setProvider("google"),t.$broadcast("event:social-sign-in-success",i())},function(t){console.log(t)})})}}}]),socialLogin.directive("fbLogin",["$rootScope","social","socialLoginService","$q",function(t,e,n,i){return{restrict:"EA",scope:{},replace:!0,link:function(e,r,o){r.on("click",function(){var e=function(){var t=i.defer();return FB.api("/me?fields=name,email,picture",function(e){!e||e.error?t.reject("Error occured while fetching user details."):t.resolve({name:e.name,email:e.email,uid:e.id,provider:"facebook",imageUrl:e.picture.data.url})}),t.promise};FB.getLoginStatus(function(i){"connected"===i.status?e().then(function(e){e.token=i.authResponse.accessToken,n.setProvider("facebook"),t.$broadcast("event:social-sign-in-success",e)}):FB.login(function(i){"connected"===i.status&&e().then(function(e){e.token=i.authResponse.accessToken,n.setProvider("facebook"),t.$broadcast("event:social-sign-in-success",e)})},{scope:"email",auth_type:"rerequest"})})})}}}]),/*!
 * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(t){return function(){return this[t].apply(this,arguments)}}function a(t){return t&&!isNaN(t.getTime())}function s(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(s,i),a[r]=o[l]);return a}function l(e){var n={};if(m[e]||(e=e.split("-")[0],m[e])){var i=m[e];return t.each(g,function(t,e){e in i&&(n[e]=i[e])}),n}}var u=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new u;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){t(e).data("datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(t,n){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:n===e?!1:n},_check_template:function(n){try{if(n===e||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var i=t(n);return i.length>0}catch(r){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;m[o]||(o=o.split("-")[0],m[o]||(o=f.language)),r.language=o,r.startView=this._resolveViewName(r.startView,0),r.minViewMode=this._resolveViewName(r.minViewMode,0),r.maxViewMode=this._resolveViewName(r.maxViewMode,4),r.startView=Math.min(r.startView,r.maxViewMode),r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=v.parseFormat(r.format);r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],t.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=t.map(r.daysOfWeekDisabled,function(t){return parseInt(t,10)}),r.daysOfWeekHighlighted=r.daysOfWeekHighlighted||[],t.isArray(r.daysOfWeekHighlighted)||(r.daysOfWeekHighlighted=r.daysOfWeekHighlighted.split(/[,\s]*/)),r.daysOfWeekHighlighted=t.map(r.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=[r.datesDisabled]),r.datesDisabled=t.map(r.datesDisabled,function(t){return v.parseDate(t,a,r.language,r.assumeNearbyYear)});var s=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),r.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=l[0]||"auto";if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),c=r.defaultViewDate.month||0,d=r.defaultViewDate.day||1;r.defaultViewDate=n(u,c,d)}else r.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return v.formatDate(n,e,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=t(this.o.container),o=r.width(),a="body"===this.o.container?t(document).scrollTop():r.scrollTop(),s=r.offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var u=Math.max.apply(Math,l)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-s.left,f=c.top-s.top;"body"!==this.o.container&&(f+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-h)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-i):p+e>o?(this.picker.addClass("datepicker-orient-right"),p+=h-e):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-a+f-n,m=0>g?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=n+parseInt(this.picker.css("padding-top")):f+=d,this.o.rtl){var v=o-(p+h);this.picker.css({top:f,right:v,zIndex:u})}else this.picker.css({top:f,left:p,zIndex:u});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',t.inArray(e,this.o.daysOfWeekDisabled)>-1&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;12>n;){var i=t&&t.getMonth()===n?" focused":"";e+='<span class="month'+i+'">'+m[this.o.language].monthsShort[n++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,a,s,l,u){var c,d,h,p,f,g,m,v,y,b,w;for(c="",d=this.picker.find(n),h=parseInt(a/r,10)*r,f=parseInt(s/o,10)*o,g=parseInt(l/o,10)*o,p=t.map(this.dates,function(t){return parseInt(t.getUTCFullYear()/o,10)*o}),d.find(".datepicker-switch").text(h+"-"+(h+9*o)),m=h-o,v=-1;11>v;v+=1)y=[i],b=null,-1===v?y.push("old"):10===v&&y.push("new"),-1!==t.inArray(m,p)&&y.push("active"),(f>m||m>g)&&y.push("disabled"),m===this.viewDate.getFullYear()&&y.push("focused"),u!==t.noop&&(w=u(new Date(m,0,1)),w===e?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),w.enabled===!1&&y.push("disabled"),w.classes&&(y=y.concat(w.classes.split(/\s+/))),w.tooltip&&(b=w.tooltip)),c+='<span class="'+y.join(" ")+'"'+(b?' title="'+b+'"':"")+">"+m+"</span>",m+=o;d.find("td").html(c)},fill:function(){var i,r,o=new Date(this.viewDate),a=o.getUTCFullYear(),s=o.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),u=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(a)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(o,f,this.o.language)),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=n(a,s-1,28),y=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(y),g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(g);g.getUTCFullYear()<100&&b.setUTCFullYear(g.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,_=[];g.valueOf()<b;){if(g.getUTCDay()===this.o.weekStart&&(_.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),k=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),x=new Date(Number(x=n(k.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),S=(k-x)/864e5/7+1;_.push('<td class="cw">'+S+"</td>")}w=this.getClassNames(g),w.push("day"),this.o.beforeShowDay!==t.noop&&(r=this.o.beforeShowDay(this._utc_to_local(g)),r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),r.enabled===!1&&w.push("disabled"),r.classes&&(w=w.concat(r.classes.split(/\s+/))),r.tooltip&&(i=r.tooltip)),w=t.isFunction(t.uniqueSort)?t.uniqueSort(w):t.unique(w),_.push('<td class="'+w.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+g.getUTCDate()+"</td>"),i=null,g.getUTCDay()===this.o.weekEnd&&_.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(_.join(""));var $=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",D=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?$:a).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&D.eq(e.getUTCMonth()).addClass("active")}),(l>a||a>c)&&D.addClass("disabled"),a===l&&D.slice(0,u).addClass("disabled"),a===c&&D.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var T=this;t.each(D,function(n,i){var r=new Date(a,n,1),o=T.o.beforeShowMonth(r);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),o.enabled!==!1||t(i).hasClass("disabled")||t(i).addClass("disabled"),o.classes&&t(i).addClass(o.classes),o.tooltip&&t(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,a,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,a,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,a,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var r,o,a,s,l,u,c;r=t(e.target),r.hasClass("datepicker-switch")&&this.showMode(1);var d=r.closest(".prev, .next");d.length>0&&(o=v.modes[this.viewMode].navStep*(d.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("day")&&(a=parseInt(r.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===l?(l=11,s-=1,u=!0,c=!0):(l-=1,u=!0)),r.hasClass("new")&&(11===l?(l=0,s+=1,u=!0,c=!0):(l+=1,u=!0)),this._setDate(n(s,l,a)),c&&this._trigger("changeYear",this.viewDate),u&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),a=1,l=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(n(s,l,a)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),a=1,l=0,s=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(s),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(s,l,a))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(n(s,l,a))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(n(s,l,a))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!a(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)i=-1===e?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==n},n=s+e,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var u=0;l>u;u++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"),n&&this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"),n&&this._trigger("changeMonth",this.viewDate)):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?((38===t.keyCode||40===t.keyCode)&&(e=4*e),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&((38===t.keyCode||40===t.keyCode)&&(e=4*e),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(e,n){t(e).data("datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,p.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker");if("undefined"!=typeof n){var i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),o=r-1,a=r+1,s=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;s>a&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker,p=function(n){var i=Array.apply(null,arguments);i.shift();var r;if(this.each(function(){var e=t(this),o=e.data("datepicker"),a="object"==typeof n&&n;if(!o){var u=s(this,"date"),h=t.extend({},f,u,a),p=l(h.language),g=t.extend({},f,p,u,a);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),o=new d(this,g)):o=new c(this,g),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(r=o[n].apply(o,i))}),r===e||r instanceof c||r instanceof d)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return r};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(r,o,a,s){function l(t,e){return e===!0&&(e=10),100>t&&(t+=2e3,t>(new Date).getFullYear()+e&&(t-=100)),t}function u(){var t=this.slice(0,y[p].length),e=y[p].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!r)return e;if(r instanceof Date)return r;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(r,o,a);var d,h,p,f,g=/([\-+]\d+)([dmwy])/,y=r.match(/([\-+]\d+)([dmwy])/g),b={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},w={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){for(r=new Date,p=0;p<y.length;p++)d=g.exec(y[p]),h=parseInt(d[1]),f=b[d[2]],r=c.prototype[f](r,h);return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())}if("undefined"!=typeof w[r]&&(r=w[r],y=r.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r))){for(r=new Date,p=0;p<y.length;p++)d=g.exec(y[p]),h=parseInt(d[1]),f=b[d[2]],r=c.prototype[f](r,h);return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())}y=r&&r.match(this.nonpunctuation)||[],r=new Date;var _,C,k={},x=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(t,e){return t.setUTCFullYear(s?l(e,s):e)},yy:function(t,e){return t.setUTCFullYear(s?l(e,s):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,r=i();var $=o.parts.slice();if(y.length!==$.length&&($=t($).filter(function(e,n){return-1!==t.inArray(n,x)}).toArray()),y.length===$.length){var D;for(p=0,D=$.length;D>p;p++){if(_=parseInt(y[p],10),d=$[p],isNaN(_))switch(d){case"MM":C=t(m[a].months).filter(u),_=t.inArray(C[0],m[a].months)+1;break;case"M":C=t(m[a].monthsShort).filter(u),_=t.inArray(C[0],m[a].monthsShort)+1}k[d]=_}var T,E;for(p=0;p<x.length;p++)E=x[p],E in k&&!isNaN(k[E])&&(T=new Date(r),S[E](T,k[E]),isNaN(T)||(r=T))}return r},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=v.parseFormat(n)),
n.toDisplay)return n.toDisplay(e,n,i);var r={d:e.getUTCDate(),D:m[i].daysShort[e.getUTCDay()],DD:m[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[i].monthsShort[e.getUTCMonth()],MM:m[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&e.push(o.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t.fn.datepicker.version="1.6.4",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),p.call(n,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}),/*
Trix 0.10.1
Copyright  2017 Basecamp, LLC
http://trix-editor.org/
 */
function(){}.call(this),function(){var t;null==window.Set&&(window.Set=t=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1===(e=this.values.indexOf(t))?!1:(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function e(){}function n(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function r(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void d(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?o:a)(e.promise,t._value);var i;try{i=n(t._value)}catch(r){return void a(e.promise,r)}o(e.promise,i)}))}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof r)return void u(n(r,e),t)}t._state=1,t._value=e,s(t)}catch(o){a(t,o)}}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||h(t._value)},1);for(var e=0,n=t._deferreds.length;n>e;e++)r(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function u(t,e){var n=!1;try{t(function(t){n||(n=!0,o(e,t))},function(t){n||(n=!0,a(e,t))})}catch(i){if(n)return;n=!0,a(e,i)}}var c=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(t){c(t,1)},h=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,n){var o=new i(e);return r(this,new l(t,n,o)),o},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(o,t)},n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,r=t.length;r>i;i++)t[i].then(e,n)})},i._setImmediateFn=function(t){d=t},i._setUnhandledRejectionFn=function(t){h=t},"undefined"!=typeof module&&module.exports?module.exports=i:t.Promise||(t.Promise=i)}(this),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return e&&e[0]===t?(e[0]=e[1]=void 0,!0):!1},has:function(t){var e=t[this.name];return e?e[0]===t:!1}},window.WeakMap=n}(),function(t){function e(t){w.push(t),b||(b=!0,g(i))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function i(){b=!1;var t=w;w=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();r(t),n.length&&(t.callback_(n,t),e=!0)}),e&&i()}function r(t){t.nodes_.forEach(function(e){var n=m.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var i=m.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}function a(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++_}function s(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new s(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function u(t,e){return C=new s(t,e)}function c(t){return k?k:(k=l(C),k.oldValue=t,k)}function d(){C=k=void 0}function h(t){return t===k||t===C}function p(t,e){return t===e?t:k&&h(t)?k:null}function f(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var g,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var v=[],y=String(Math.random());window.addEventListener("message",function(t){if(t.data===y){var e=v;v=[],e.forEach(function(t){t()})}}),g=function(t){v.push(t),window.postMessage(y,"*")}}var b=!1,w=[],_=0;a.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i=m.get(t);i||m.set(t,i=[]);for(var r,o=0;o<i.length;o++)if(i[o].observer===this){r=i[o],r.removeListeners(),r.options=e;break}r||(r=new f(this,t,e),i.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=m.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var C,k;f.prototype={enqueue:function(t){var n=this.observer.records_,i=n.length;if(n.length>0){var r=n[i-1],o=p(r,t);if(o)return void(n[i-1]=o)}else e(this.observer);n[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=m.get(t);e||m.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=m.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target,r=new u("attributes",i);r.attributeName=e,r.attributeNamespace=n;var a=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?c(a):r});break;case"DOMCharacterDataModified":var i=t.target,r=u("characterData",i),a=t.prevValue;o(i,function(t){return t.characterData?t.characterDataOldValue?c(a):r:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,l,h=t.target;"DOMNodeInserted"===t.type?(s=[h],l=[]):(s=[],l=[h]);var p=h.previousSibling,f=h.nextSibling,r=u("childList",t.target.parentNode);r.addedNodes=s,r.removedNodes=l,r.previousSibling=p,r.nextSibling=f,o(t.relatedNode,function(t){return t.childList?r:void 0})}d()}},t.JsMutationObserver=a,t.MutationObserver||(t.MutationObserver=a,a._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?function(e){return t(function(){e(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}}());var e=function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}();if(!e){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var i=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||i&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[],i=function(t){n.push(t)},r=function(){n.forEach(function(e){e(t)})};t.addModule=i,t.initializeModules=r,t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){n(t,function(t){return e(t)?!0:void i(t,e)}),i(t,e)}function n(t,e,i){var r=t.firstElementChild;if(!r)for(r=t.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)e(r,i)!==!0&&n(r,e,i),r=r.nextElementSibling;return null}function i(t,n){for(var i=t.shadowRoot;i;)e(i,n),i=i.olderShadowRoot}function r(t,e){o(t,e,[])}function o(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var i,r=t.querySelectorAll("link[rel="+a+"]"),s=0,l=r.length;l>s&&(i=r[s]);s++)i["import"]&&o(i["import"],e,n);e(t)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=r,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return n(t,e)||i(t,e)}function n(e,n){return t.upgrade(e,n)?!0:void(n&&a(e))}function i(t,e){b(t,function(t){return n(t,e)?!0:void 0})}function r(t){k.push(t),C||(C=!0,setTimeout(o))}function o(){C=!1;for(var t,e=k,n=0,i=e.length;i>n&&(t=e[n]);n++)t();k=[]}function a(t){_?r(function(){s(t)}):s(t)}function s(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function l(t){u(t),b(t,function(t){u(t)})}function u(t){_?r(function(){c(t)}):c(t)}function c(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function d(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function h(t){if(t.shadowRoot&&!t.shadowRoot.__watched){y.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)g(e),e=e.olderShadowRoot}}function p(t,n){if(y.dom){var i=n[0];if(i&&"childList"===i.type&&i.addedNodes&&i.addedNodes){for(var r=i.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var o=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var a=d(t);n.forEach(function(t){"childList"===t.type&&(x(t.addedNodes,function(t){t.localName&&e(t,a)}),x(t.removedNodes,function(t){t.localName&&l(t)}))}),y.dom&&console.groupEnd()}function f(t){for(t=window.wrap(t),t||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(p(t,e.takeRecords()),o())}function g(t){if(!t.__observer){var e=new MutationObserver(p.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function m(t){t=window.wrap(t),y.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop());var n=t===window.wrap(document);e(t,n),g(t),y.dom&&console.groupEnd()}function v(t){w(t,m)}var y=t.flags,b=t.forSubtree,w=t.forDocumentTree,_=window.MutationObserver._isPolyfilled&&y["throttle-attached"];t.hasPolyfillMutations=_,t.hasThrottledAttached=_;var C=!1,k=[],x=Array.prototype.forEach.call.bind(Array.prototype.forEach),S=Element.prototype.createShadowRoot;S&&(Element.prototype.createShadowRoot=function(){var t=S.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=h,t.upgradeDocumentTree=v,t.upgradeDocument=m,t.upgradeSubtree=i,t.upgradeAll=e,t.attached=a,t.takeRecords=f}),window.CustomElements.addModule(function(t){function e(e,i){if("template"===e.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e),!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var r=e.getAttribute("is"),o=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(r);if(o&&(r&&o.tag==e.localName||!r&&!o["extends"]))return n(e,o,i)}}function n(e,n,r){return a.upgrade&&console.group("upgrade:",e.localName),n.is&&e.setAttribute("is",n.is),i(e,n),e.__upgraded__=!0,o(e),r&&t.attached(e),t.upgradeSubtree(e,r),a.upgrade&&console.groupEnd(),e}function i(t,e){Object.__proto__?t.__proto__=e.prototype:(r(t,e.prototype,e["native"]),t.__proto__=e.prototype)}function r(t,e,n){for(var i={},r=e;r!==n&&r!==HTMLElement.prototype;){for(var o,a=Object.getOwnPropertyNames(r),s=0;o=a[s];s++)i[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}function o(t){t.createdCallback&&t.createdCallback()}var a=t.flags;t.upgrade=e,t.upgradeWithDefinition=n,t.implementPrototype=i}),window.CustomElements.addModule(function(t){function e(e,i){var l=i||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(r(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(u(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return l.prototype||(l.prototype=Object.create(HTMLElement.prototype)),l.__name=e.toLowerCase(),l["extends"]&&(l["extends"]=l["extends"].toLowerCase()),l.lifecycle=l.lifecycle||{},l.ancestry=o(l["extends"]),a(l),s(l),n(l.prototype),c(l.__name,l),l.ctor=d(l),l.ctor.prototype=l.prototype,l.prototype.constructor=l.ctor,t.ready&&m(document),l.ctor}function n(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){i.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){i.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function i(t,e,n){t=t.toLowerCase();var i=this.getAttribute(t);n.apply(this,arguments);var r=this.getAttribute(t);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(t,i,r)}function r(t){for(var e=0;e<_.length;e++)if(t===_[e])return!0}function o(t){var e=u(t);return e?o(e["extends"]).concat([e]):[]}function a(t){for(var e,n=t["extends"],i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function s(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var i,r=t.prototype,o=!1;r;)r==e&&(o=!0),i=Object.getPrototypeOf(r),i&&(r.__proto__=i),r=i;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function l(t){return y(x(t.tag),t)}function u(t){return t?C[t.toLowerCase()]:void 0}function c(t,e){C[t]=e}function d(t){return function(){return l(t)}}function h(t,e,n){return t===k?p(e,n):S(t,e)}function p(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n=u(e||t);if(n){if(t==n.tag&&e==n.is)return new n.ctor;if(!e&&!n.is)return new n.ctor}var i;return e?(i=p(t),i.setAttribute("is",e),i):(i=x(t),t.indexOf("-")>=0&&b(i,HTMLElement),i)}function f(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return v(t),t}}var g,m=(t.isIE,t.upgradeDocumentTree),v=t.upgradeAll,y=t.upgradeWithDefinition,b=t.implementPrototype,w=t.useNative,_=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],C={},k="http://www.w3.org/1999/xhtml",x=document.createElement.bind(document),S=document.createElementNS.bind(document);g=Object.__proto__||w?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},f(Node.prototype,"cloneNode"),f(document,"importNode"),document.registerElement=e,document.createElement=p,document.createElementNS=h,t.registry=C,t["instanceof"]=g,t.reservedTagList=_,t.getRegisteredDefinition=u,document.register=document.registerElement}),function(t){function e(){o(window.wrap(document)),window.CustomElements.ready=!0;var t=window.requestAnimationFrame||function(t){setTimeout(t,16)};t(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,i=t.initializeModules;if(t.isIE,n){var r=function(){};t.watchShadow=r,t.upgrade=r,t.upgradeAll=r,t.upgradeDocumentTree=r,t.upgradeSubtree=r,t.takeRecords=r,t["instanceof"]=function(t,e){return t instanceof e}}else i();var o=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&a(wrap(t["import"]))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements),function(){}.call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:"0.10.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",config:{}}}).call(this)}).call(t);var e=t.Trix;(function(){(function(){e.BasicObject=function(){function t(){}var e,n,i;return t.proxyMethod=function(t){var i,r,o,a,s;return o=n(t),i=o.name,a=o.toMethod,s=o.toProperty,r=o.optional,this.prototype[i]=function(){var t,n;return t=null!=a?r?"function"==typeof this[a]?this[a]():void 0:this[a]():null!=s?this[s]:void 0,r?(n=null!=t?t[i]:void 0,null!=n?e.call(n,t,arguments):void 0):(n=t[i],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(i)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Object=function(n){function i(){this.id=++r}var r;return t(i,n),r=0,i.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},i.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},i.prototype.isEqualTo=function(t){return this===t},i.prototype.inspect=function(){var t,e,n;return t=function(){var t,i,r;i=null!=(t=this.contentsForInspection())?t:{},r=[];for(e in i)n=i[e],r.push(e+"="+n);return r}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},i.prototype.contentsForInspection=function(){},i.prototype.toJSONString=function(){return JSON.stringify(this)},i.prototype.toUTF16String=function(){return e.UTF16String.box(this)},i.prototype.getCacheKey=function(){return this.id.toString()},i}(e.BasicObject)}.call(this),function(){e.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){e.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var t,n;e.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+e.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+e.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,i){var r,o,a,s;return t=e.UTF16String.box(t),i=e.UTF16String.box(i),i.length<t.length?(o=n(t,i),s=o[0],r=o[1]):(a=n(i,t),r=a[0],s=a[1]),{added:r,removed:s}}}),n=function(n,i){var r,o,a,s,l;return n.isEqualTo(i)?["",""]:(o=t(n,i),s=o.utf16String.length,a=s?(l=o.offset,r=n.codepoints.slice(0,l).concat(n.codepoints.slice(l+s)),t(i,e.UTF16String.fromCodepoints(r))):t(i,n),[o.utf16String.toString(),a.utf16String.toString()])},t=function(t,e){var n,i,r;for(n=0,i=t.length,r=e.length;i>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;i>n+1&&t.charAt(i-1).isEqualTo(e.charAt(r-1));)i--,r--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){e.extend({copyObject:function(t){var e,n,i;null==t&&(t={}),n={};for(e in t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n,i;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(i=t[n],i!==e[n])return!1;return!0}})}.call(this),function(){var t=[].slice;e.extend({arraysAreEqual:function(t,e){var n,i,r,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,r=t.length;r>n;i=++n)if(o=t[i],o!==e[i])return!1;return!0},arrayStartsWith:function(t,n){return null==t&&(t=[]),null==n&&(n=[]),e.arraysAreEqual(t.slice(0,n.length),n)},spliceArray:function(){var e,n,i;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i=n.slice(0),i.splice.apply(i,e),i},summarizeArrayChange:function(t,e){var n,i,r,o,a,s,l,u,c,d,h;for(null==t&&(t=[]),null==e&&(e=[]),n=[],d=[],r=new Set,o=0,l=t.length;l>o;o++)h=t[o],r.add(h);for(i=new Set,a=0,u=e.length;u>a;a++)h=e[a],i.add(h),r.has(h)||n.push(h);for(s=0,c=t.length;c>s;s++)h=t[s],i.has(h)||d.push(h);return{added:n,removed:d}}})}.call(this),function(){var t,n,i,r;t=null,n=null,r=null,i=null,e.extend({getAllAttributeNames:function(){return null!=t?t:t=e.getTextAttributeNames().concat(e.getBlockAttributeNames())},getBlockConfig:function(t){return e.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=n?n:n=Object.keys(e.config.blockAttributes)},getTextConfig:function(t){return e.config.textAttributes[t]},getTextAttributeNames:function(){return null!=r?r:r=Object.keys(e.config.textAttributes)},getListAttributeNames:function(){var t,n;return null!=i?i:i=function(){var i,r;i=e.config.blockAttributes,r=[];for(t in i)n=i[t].listAttribute,null!=n&&r.push(n);return r}()}})}.call(this),function(){var t,n,i,r,o,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=document.documentElement,n=null!=(i=null!=(r=null!=(o=t.matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?i:t.mozMatchesSelector,e.extend({handleEvent:function(n,i){var r,o,a,s,l,u,c,d,h,p,f,g;return d=null!=i?i:{},u=d.onElement,l=d.matchingSelector,g=d.withCallback,s=d.inPhase,c=d.preventDefault,p=d.times,o=null!=u?u:t,h=l,r=g,f="capturing"===s,a=function(t){var n;return null!=p&&0===--p&&a.destroy(),n=e.findClosestElementFromNode(t.target,{matchingSelector:h}),null!=n&&(null!=g&&g.call(n,t,n),c)?t.preventDefault():void 0},a.destroy=function(){return o.removeEventListener(n,a,f)},o.addEventListener(n,a,f),a},handleEventOnce:function(t,n){return null==n&&(n={}),n.times=1,e.handleEvent(t,n)},triggerEvent:function(n,i){var r,o,a,s,l,u,c;return c=null!=i?i:{},u=c.onElement,o=c.bubbles,a=c.cancelable,r=c.attributes,s=null!=u?u:t,o=o!==!1,a=a!==!1,l=document.createEvent("Events"),l.initEvent(n,o,a),null!=r&&e.extend.call(l,r),s.dispatchEvent(l)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,n){var i,r,o;for(r=null!=n?n:{},i=r.matchingSelector,o=r.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==i)return t;if(t.closest&&null==o)return t.closest(i);for(;t&&t!==o;){if(e.elementMatchesSelector(t,i))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&e.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;return t?t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1):void 0},findElementFromContainerAndOffset:function(t,n){var i;return i=e.findNodeFromContainerAndOffset(t,n),e.findClosestElementFromNode(i)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},walkTree:function(t,e){var n,i,r,o,a;return r=null!=e?e:{},i=r.onlyNodesOfType,o=r.usingFilter,n=r.expandEntityReferences,a=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=o?o:null,n===!0)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,r,o,a,s,l,u,c,d;if(null==e&&(e={}),"object"==typeof t?(e=t,t=e.tagName):e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes){s=e.attributes;for(o in s)d=s[o],i.setAttribute(o,d)}if(e.style){l=e.style;for(o in l)d=l[o],i.style[o]=d}if(e.data){u=e.data;for(o in u)d=u[o],i.dataset[o]=d}if(e.className)for(c=e.className.split(" "),r=0,a=c.length;a>r;r++)n=c[r],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},cloneFragment:function(t){var e,n,i,r,o;for(e=document.createDocumentFragment(),o=t.childNodes,n=0,i=o.length;i>n;n++)r=o[n],e.appendChild(r.cloneNode(!0));return e},makeFragment:function(t){var e,n,i;for(null==t&&(t=""),e=document.createElement("div"),e.innerHTML=t,n=document.createDocumentFragment();i=e.firstChild;)n.appendChild(i);return n},getBlockTagNames:function(){var t,n;return null!=e.blockTagNames?e.blockTagNames:e.blockTagNames=function(){var i,r;i=e.config.blockAttributes,r=[];for(t in i)n=i[t],r.push(n.tagName);return r}()},nodeIsBlockContainer:function(t){return e.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var n,i;return n=e.tagName(t),a.call(e.getBlockTagNames(),n)>=0&&(i=e.tagName(t.firstChild),a.call(e.getBlockTagNames(),i)<0)},nodeIsBlockStart:function(t,n){var i;return i=(null!=n?n:{strict:!0}).strict,i?e.nodeIsBlockStartComment(t):e.nodeIsBlockStartComment(t)||!e.nodeIsBlockStartComment(t.firstChild)&&e.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return e.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?e.nodeIsTextNode(t)?t.data===e.ZERO_WIDTH_SPACE:e.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return e.elementMatchesSelector(t,e.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return e.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,n,i,r,o;t=e.copyObject,r=e.objectsAreEqual,e.extend({normalizeRange:i=function(t){var e;return null!=t?(Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]):void 0},rangeIsCollapsed:function(t){var e,n,r;return null!=t?(n=i(t),r=n[0],e=n[1],o(r,e)):void 0},rangesAreEqual:function(t,e){var n,r,a,s,l,u;return null!=t&&null!=e?(a=i(t),r=a[0],n=a[1],s=i(e),u=s[0],l=s[1],o(r,u)&&o(n,l)):void 0}}),n=function(e){return"number"==typeof e?e:t(e)},o=function(t,e){return"number"==typeof t?t===e:r(t,e)}}.call(this),function(){var t,n,i,r;t={extendsTagName:"div",css:"%t { display: block; }"},e.registerElement=function(e,n){var o,a,s,l,u,c,d;return null==n&&(n={}),e=e.toLowerCase(),u=r(n),l=null!=(d=u.extendsTagName)?d:t.extendsTagName,delete u.extendsTagName,a=u.defaultCSS,delete u.defaultCSS,null!=a&&l===t.extendsTagName?a+="\n"+t.css:a=t.css,i(a,e),s=Object.getPrototypeOf(document.createElement(l)),s.__super__=s,c=Object.create(s,u),o=document.registerElement(e,{prototype:c}),Object.defineProperty(c,"constructor",{value:o}),o},i=function(t,e){var i;return i=n(e),i.textContent=t.replace(/%t/g,e)},n=function(t){var e;return e=document.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},r=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]="function"==typeof i?{value:i}:i;return n}}.call(this),function(){var t,n;e.extend({getDOMSelection:function(){var t;return t=window.getSelection(),t.rangeCount>0?t:void 0},getDOMRange:function(){var n,i;return(n=null!=(i=e.getDOMSelection())?i.getRangeAt(0):void 0)&&!t(n)?n:void 0},setDOMRange:function(t){var n;return n=window.getSelection(),n.removeAllRanges(),n.addRange(t),e.selectionChangeObserver.update()}}),t=function(t){return n(t.startContainer)||n(t.endContainer)},n=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.arraysAreEqual,e.Hash=function(i){function r(t){null==t&&(t={}),this.values=a(t),r.__super__.constructor.apply(this,arguments)}var o,a,s,l,u;return n(r,i),r.fromCommonAttributesOfObjects=function(t){var e,n,i,r,a,s;if(null==t&&(t=[]),!t.length)return new this;for(e=o(t[0]),i=e.getKeys(),s=t.slice(1),n=0,r=s.length;r>n;n++)a=s[n],i=e.getKeysCommonToHash(o(a)),e=e.slice(i);return e},r.box=function(t){return o(t)},r.prototype.add=function(t,e){return this.merge(l(t,e))},r.prototype.remove=function(t){return new e.Hash(a(this.values,t))},r.prototype.get=function(t){return this.values[t]},r.prototype.has=function(t){return t in this.values},r.prototype.merge=function(t){return new e.Hash(s(this.values,u(t)))},r.prototype.slice=function(t){var n,i,r,o;for(o={},n=0,r=t.length;r>n;n++)i=t[n],this.has(i)&&(o[i]=this.values[i]);return new e.Hash(o)},r.prototype.getKeys=function(){return Object.keys(this.values)},r.prototype.getKeysCommonToHash=function(t){var e,n,i,r,a;for(t=o(t),r=this.getKeys(),a=[],e=0,i=r.length;i>e;e++)n=r[e],this.values[n]===t.values[n]&&a.push(n);return a},r.prototype.isEqualTo=function(e){return t(this.toArray(),o(e).toArray());
},r.prototype.isEmpty=function(){return 0===this.getKeys().length},r.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var i;e=[],i=this.values;for(t in i)n=i[t],e.push(t,n);return e}.call(this)).slice(0)},r.prototype.toObject=function(){return a(this.values)},r.prototype.toJSON=function(){return this.toObject()},r.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},l=function(t,e){var n;return n={},n[t]=e,n},s=function(t,e){var n,i,r;i=a(t);for(n in e)r=e[n],i[n]=r;return i},a=function(t,e){var n,i,r,o,a;for(o={},a=Object.keys(t).sort(),n=0,r=a.length;r>n;n++)i=a[n],i!==e&&(o[i]=t[i]);return o},o=function(t){return t instanceof e.Hash?t:new e.Hash(t)},u=function(t){return t instanceof e.Hash?t.values:t},r}(e.Object)}.call(this),function(){e.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,n=e.asTree,n&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,r,o,a,s,l,u,c;for(null==t&&(t=[]),c=null!=e?e:{},r=c.depth,n=c.asTree,n&&null==r&&(r=0),u=[],a=0,s=t.length;s>a;a++){if(l=t[a],o){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)&&("function"==typeof(i=o[o.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,r):void 0)){o.push(l);continue}u.push(new this(o,{depth:r,asTree:n})),o=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)?o=[l]:u.push(l)}return o&&u.push(new this(o,{depth:r,asTree:n})),u},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,r;for(e=["objectGroup"],r=this.getObjects(),t=0,n=r.length;n>t;t++)i=r[t],e.push(i.getCacheKey());return e.join("/")},t}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectMap=function(e){function n(t){var e,n,i,r,o;for(null==t&&(t=[]),this.objects={},i=0,r=t.length;r>i;i++)o=t[i],n=JSON.stringify(o),null==(e=this.objects)[n]&&(e[n]=o)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(e.BasicObject)}.call(this),function(){e.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,i;return n=e(t),(i=this.elements[n])?(delete this.elements[n],i):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;i>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return this.performing===!0},n.prototype.hasPerformed=function(){return this.performed===!0},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(t){return function(e,n){return t.performing=!0,t.perform(function(i,r){return t.succeeded=i,t.performing=!1,t.performed=!0,t.succeeded?e(r):n(r)})}}(this))},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(e.BasicObject)}.call(this),function(){var t,n,i,r,o,a=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;e.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return a(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,r(t))},e.fromCodepoints=function(t){return new this(o(t),t)},e.prototype.offsetToUCS2Offset=function(t){return o(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return r(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(e.BasicObject),t=1===("function"==typeof Array.from?Array.from("").length:void 0),n=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),i=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),r=t&&n?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,r,o;for(r=[],e=0,i=t.length;i>e;)o=t.charCodeAt(e++),o>=55296&&56319>=o&&i>e&&(n=t.charCodeAt(e++),56320===(64512&n)?o=((1023&o)<<10)+(1023&n)+65536:e--),r.push(o);return r},o=i?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n,i;return e=function(){var e,r,o;for(o=[],e=0,r=t.length;r>e;e++)i=t[e],n="",i>65535&&(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),o.push(n+String.fromCharCode(i));return o}(),e.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){e.config.lang={bold:"Bold",bullets:"Bullets","byte":"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here",captionPrompt:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){e.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove icon",size:"size"}}}}.call(this),function(){var t;e.config.blockAttributes=t={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(n){return e.tagName(n.parentNode)===t[this.listAttribute].tagName}}}}.call(this),function(){var t,n;t=e.config.lang,n=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],e.config.fileSize={prefix:"IEC",precision:2,formatter:function(e){var i,r,o,a,s;switch(e){case 0:return"0 "+t.bytes;case 1:return"1 "+t["byte"];default:return i=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),r=Math.floor(Math.log(e)/Math.log(i)),o=e/Math.pow(i,r),a=o.toFixed(this.precision),s=a.replace(/0*$/,"").replace(/\.$/,""),s+" "+n[r]}}}}.call(this),function(){e.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),"bold"===e.fontWeight||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(t){var e;return e=window.getComputedStyle(t),"italic"===e.fontStyle}},href:{groupTagName:"a",parser:function(t){var n,i,r;return n=e.AttachmentView.attachmentSelector,r="a:not("+n+")",(i=e.findClosestElementFromNode(t,{matchingSelector:r}))?i.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var t,n,i,r,o;o="[data-trix-serialize=false]",r=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],n="data-trix-serialized-attributes",i="["+n+"]",t=new RegExp("<!--block-->","g"),e.extend({serializers:{"application/json":function(t){var n;if(t instanceof e.Document)n=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");n=e.Document.fromHTML(t.innerHTML)}return n.toSerializableDocument().toJSONString()},"text/html":function(a){var s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k;if(a instanceof e.Document)c=e.DocumentView.render(a);else{if(!(a instanceof HTMLElement))throw new Error("unserializable object");c=a.cloneNode(!0)}for(w=c.querySelectorAll(o),d=0,g=w.length;g>d;d++)u=w[d],u.parentNode.removeChild(u);for(h=0,m=r.length;m>h;h++)for(s=r[h],_=c.querySelectorAll("["+s+"]"),p=0,v=_.length;v>p;p++)u=_[p],u.removeAttribute(s);for(C=c.querySelectorAll(i),f=0,y=C.length;y>f;f++){u=C[f];try{l=JSON.parse(u.getAttribute(n)),u.removeAttribute(n);for(b in l)k=l[b],u.setAttribute(b,k)}catch(x){}}return c.innerHTML.replace(t,"")}},deserializers:{"application/json":function(t){return e.Document.fromJSONString(t)},"text/html":function(t){return e.Document.fromHTML(t)}},serializeToContentType:function(t,n){var i;if(i=e.serializers[n])return i(t);throw new Error("unknown content type: "+n)},deserializeFromContentType:function(t,n){var i;if(i=e.deserializers[n])return i(t);throw new Error("unknown content type: "+n)}})}.call(this),function(){var t,n;n=e.makeFragment,t=e.config.lang,e.config.toolbar={content:n('<div class="button_row">\n  <span class="button_group text_tools">\n    <button type="button" class="icon bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="icon italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="icon strike" data-trix-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="icon link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="icon heading-1" data-trix-attribute="heading1" title="'+t.heading1+'">'+t.heading1+'</button>\n    <button type="button" class="icon quote" data-trix-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="icon code" data-trix-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="icon list bullets" data-trix-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="icon list numbers" data-trix-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="icon nesting-level decrease" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="icon nesting-level increase" data-trix-action="increaseNestingLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="icon undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="icon redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){e.config.undoInterval=5e3}.call(this),function(){var t,n;t=e.makeElement,n={cursorTarget:t({tagName:"span",textContent:e.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},e.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;\nline-height: 0 !important;",create:function(t){return n[t].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var t;t=e.cloneFragment,e.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(t(e.config.toolbar.content)):void 0}})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.ObjectView=function(n){function r(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(r,n),r.prototype.getNodes=function(){var t,e,n,i,r;for(null==this.nodes&&(this.nodes=this.createNodes()),i=this.nodes,r=[],t=0,e=i.length;e>t;t++)n=i[t],r.push(n.cloneNode(!0));return r},r.prototype.invalidate=function(){var t;return this.nodes=null,null!=(t=this.parentView)?t.invalidate():void 0},r.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},r.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},r.prototype.createChildView=function(t,n,i){var r;return null==i&&(i={}),n instanceof e.ObjectGroup&&(i.viewClass=t,t=e.ObjectGroupView),r=new t(n,i),this.recordChildView(r)},r.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,i.call(this.childViews,t)<0&&this.childViews.push(t),t},r.prototype.getAllChildViews=function(){var t,e,n,i,r;for(r=[],i=this.childViews,e=0,n=i.length;n>e;e++)t=i[e],r.push(t),r=r.concat(t.getAllChildViews());return r},r.prototype.findElement=function(){return this.findElementForObject(this.object)},r.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},r.prototype.findViewForObject=function(t){var e,n,i,r;for(i=this.getAllChildViews(),e=0,n=i.length;n>e;e++)if(r=i[e],r.object===t)return r},r.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},r.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},r.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},r.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},r.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},r.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},r.prototype.garbageCollectCachedViews=function(){var t,e,n,r,o,a;if(t=this.getViewCache()){a=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)o=a[t],n.push(o.object.getCacheKey());return n}(),r=[];for(e in t)i.call(n,e)<0&&r.push(delete t[e]);return r}},r}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(i=this.objectGroup.getObjects(),t=0,e=i.length;e>t;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,i,r,o,a,s,l;for(t=this.createContainerElement(),a=this.getChildViews(),e=0,i=a.length;i>e;e++)for(l=a[e],s=l.getNodes(),n=0,r=s.length;r>n;n++)o=s[n],t.appendChild(o);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(e.BasicObject)}.call(this),function(){var t,n,i,r,o,a,s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.findClosestElementFromNode,i=e.nodeIsEmptyTextNode,n=e.nodeIsBlockStartComment,r=e.normalizeSpaces,o=e.summarizeStringChange,a=e.tagName,e.MutationObserver=function(e){function u(t){this.element=t,this.didMutate=s(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var d,h,p,f;return l(u,e),h="data-trix-mutable",p="["+h+"]",f={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},u.prototype.start=function(){return this.reset(),this.observer.observe(this.element,f)},u.prototype.stop=function(){return this.observer.disconnect()},u.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},u.prototype.reset=function(){return this.mutations=[]},u.prototype.findSignificantMutations=function(t){var e,n,i,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],this.mutationIsSignificant(i)&&r.push(i);return r},u.prototype.mutationIsSignificant=function(t){var e,n,i,r;for(r=this.nodesModifiedByMutation(t),e=0,n=r.length;n>e;e++)if(i=r[e],this.nodeIsSignificant(i))return!0;return!1},u.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!i(t)},u.prototype.nodeIsMutable=function(e){return t(e,{matchingSelector:p})},u.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==h&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},u.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},u.prototype.getTextMutationSummary=function(){var t,e,n,i,r,o,a,s,l,u,d;for(s=this.getTextChangesFromCharacterData(),n=s.additions,r=s.deletions,d=this.getTextChangesFromChildList(),l=d.additions,o=0,a=l.length;a>o;o++)e=l[o],c.call(n,e)<0&&n.push(e);return r.push.apply(r,d.deletions),u={},(t=n.join(""))&&(u.textAdded=t),(i=r.join(""))&&(u.textDeleted=i),u},u.prototype.getMutationsByType=function(t){var e,n,i,r,o;for(r=this.mutations,o=[],e=0,n=r.length;n>e;e++)i=r[e],i.type===t&&o.push(i);return o},u.prototype.getTextChangesFromChildList=function(){var t,e,i,o,a,s,l,u,c,h,p;for(t=[],l=[],s=this.getMutationsByType("childList"),e=0,o=s.length;o>e;e++)a=s[e],t.push.apply(t,a.addedNodes),l.push.apply(l,a.removedNodes);return u=0===t.length&&1===l.length&&n(l[0]),u?(h=[],p=["\n"]):(h=d(t),p=d(l)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=h.length;e>t;i=++t)c=h[i],c!==p[i]&&n.push(r(c));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=p.length;e>t;i=++t)c=p[i],c!==h[i]&&n.push(r(c));return n}()}},u.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,a,s,l,u;return e=this.getMutationsByType("characterData"),e.length&&(u=e[0],n=e[e.length-1],a=r(u.oldValue),i=r(n.target.data),s=o(a,i),t=s.added,l=s.removed),{additions:t?[t]:[],deletions:l?[l]:[]}},d=function(t){var e,n,i,r;for(null==t&&(t=[]),r=[],e=0,n=t.length;n>e;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:r.push(i.data);break;case Node.ELEMENT_NODE:"br"===a(i)?r.push("\n"):r.push.apply(r,d(i.childNodes))}return r},u}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new FileReader,e.onerror=function(){return t(!1)},e.onload=function(n){return function(){e.onerror=null;try{e.abort()}catch(i){}return t(!0,n.file)}}(this),e.readAsArrayBuffer(this.file)},n}(e.Operation)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.CompositionInput=function(e){function n(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return t(n,e),n.prototype.start=function(t){var e,n;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0},n.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},n.prototype.end=function(t){var e,n,i,r;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(r=this.responder)?r.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},n.proxyMethod("inputController.setInputSummary"),n.proxyMethod("inputController.requestRender"),n.proxyMethod("inputController.requestReparse"),n.proxyMethod("responder?.selectionIsExpanded"),n.proxyMethod("responder?.insertPlaceholder"),n.proxyMethod("responder?.selectPlaceholder"),n.proxyMethod("responder?.forgetPlaceholder"),n}(e.BasicObject)}.call(this),function(){var t,n,i,r,o,a,s,l,u,c,d,h,p,f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty,m=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};r=e.handleEvent,u=e.makeElement,o=e.innerElementIsActive,c=e.objectsAreEqual,h=e.tagName,e.InputController=function(h){function p(t){var n;this.element=t,this.resetInputSummary(),this.mutationObserver=new e.MutationObserver(this.element),this.mutationObserver.delegate=this;for(n in this.events)r(n,{onElement:this.element,withCallback:this.handlerFor(n),inPhase:"capturing"})}var g;return f(p,h),g=0,p.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},p.prototype.handlerFor=function(t){return function(e){return function(n){return e.handleInput(function(){return o(this.element)?void 0:(this.eventName=t,this.events[t].call(this,n))})}}(this)},p.prototype.setInputSummary=function(t){var e,n;null==t&&(t={}),this.inputSummary.eventName=this.eventName;for(e in t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},p.prototype.resetInputSummary=function(){return this.inputSummary={}},p.prototype.reset=function(){return this.resetInputSummary(),e.selectionChangeObserver.reset()},p.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},p.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},p.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},p.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},p.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},p.prototype.mutationIsExpected=function(t){var e,n,i,r,o,a,s,l,u,c;return s=t.textAdded,l=t.textDeleted,this.inputSummary.preferDocument?!0:(e=null!=s?s===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=l?this.inputSummary.didDelete:!this.inputSummary.didDelete,u="\n"===s&&!e,c="\n"===l&&!n,a=u&&!c||c&&!u,a&&(r=this.getSelectedRange())&&(i=u?-1:1,null!=(o=this.responder)?o.positionIsBlockBreak(r[1]+i):void 0)?!0:e&&n)},p.prototype.mutationIsSignificant=function(t){var e,n,i;return i=Object.keys(t).length>0,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},p.prototype.attachFiles=function(t){var n,i;return i=function(){var i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],o.push(new e.FileVerificationOperation(n));return o}(),Promise.all(i).then(function(t){return function(e){return t.handleInput(function(){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(e),this.requestRender()})}}(this))},p.prototype.events={keydown:function(t){var n,i,r,o,s,l,u,c,d;if(this.isComposing()||this.resetInputSummary(),o=this.constructor.keyNames[t.keyCode]){for(i=this.keys,c=["ctrl","alt","shift","meta"],r=0,l=c.length;l>r;r++)u=c[r],t[u+"Key"]&&("ctrl"===u&&(u="control"),i=null!=i?i[u]:void 0);null!=(null!=i?i[o]:void 0)&&(this.setInputSummary({keyName:o}),e.selectionChangeObserver.reset(),i[o].call(this,t))}return a(t)&&(n=String.fromCharCode(t.keyCode).toLowerCase())&&(s=function(){var e,n,i,r;for(i=["alt","shift"],r=[],e=0,n=i.length;n>e;e++)u=i[e],t[u+"Key"]&&r.push(u);return r}(),s.push(n),null!=(d=this.delegate)?d.inputControllerDidReceiveKeyboardCommand(s):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,i;return null!=this.inputSummary.eventName||(t.metaKey||t.ctrlKey)&&!t.altKey||l(t)||s(t)?void 0:(null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0)},textInput:function(t){var e,n,i,r;return e=t.data,r=this.inputSummary.textAdded,r&&r!==e&&r.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+r.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e,n;return n=t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},c(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var n,i,r,o,a,s,l,u,c;return t.preventDefault(),r=null!=(a=t.dataTransfer)?a.files:void 0,o={x:t.clientX,y:t.clientY},null!=(s=this.responder)&&s.setLocationRangeFromPointRange(o),(null!=r?r.length:void 0)?this.attachFiles(r):this.draggedRange?(null!=(l=this.delegate)&&l.inputControllerWillMoveText(),null!=(u=this.responder)&&u.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(i=t.dataTransfer.getData("application/x-trix-document"))&&(n=e.Document.fromJSONString(i),null!=(c=this.responder)&&c.insertDocument(n),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(n){var r,o,a,s,l,u,c,h,p,f,v,y,b,w,_,C,k,x,S,$,D,T;return l=null!=(c=n.clipboardData)?c:n.testClipboardData,u={paste:l},null==l||d(n)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,i,r;return u.html=e,null!=(n=t.delegate)&&n.inputControllerWillPasteText(u),null!=(i=t.responder)&&i.insertHTML(e),t.requestRender(),null!=(r=t.delegate)?r.inputControllerDidPaste(u):void 0}}(this)):((a=l.getData("URL"))?(T=l.getData("public.url-name")||a,u.string=T,this.setInputSummary({textAdded:T,didDelete:this.selectionIsExpanded()}),null!=(h=this.delegate)&&h.inputControllerWillPasteText(u),null!=(w=this.responder)&&w.insertText(e.Text.textForStringWithAttributes(T,{href:a})),this.requestRender(),null!=(_=this.delegate)&&_.inputControllerDidPaste(u)):t(l)?(T=l.getData("text/plain"),u.string=T,this.setInputSummary({textAdded:T,didDelete:this.selectionIsExpanded()}),null!=(C=this.delegate)&&C.inputControllerWillPasteText(u),null!=(k=this.responder)&&k.insertString(T),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(u)):(s=l.getData("text/html"))?(u.html=s,null!=(S=this.delegate)&&S.inputControllerWillPasteText(u),null!=($=this.responder)&&$.insertHTML(s),this.requestRender(),null!=(D=this.delegate)&&D.inputControllerDidPaste(u)):m.call(l.types,"Files")>=0&&(o=null!=(p=l.items)&&null!=(f=p[0])&&"function"==typeof f.getAsFile?f.getAsFile():void 0)&&(!o.name&&(r=i(o))&&(o.name="pasted-file-"+ ++g+"."+r),u.file=o,
null!=(v=this.delegate)&&v.inputControllerWillAttachFiles(),null!=(y=this.responder)&&y.insertFile(o),this.requestRender(),null!=(b=this.delegate)&&b.inputControllerDidPaste(u)),n.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},p.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},p.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},p.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new e.CompositionInput(this)},p.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},p.prototype.deleteInDirection=function(t,e){var n;return(null!=(n=this.responder)?n.deleteInDirection(t):void 0)!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},p.prototype.serializeSelectionToDataTransfer=function(t){var i,r;return n(t)?(i=null!=(r=this.responder)?r.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",e.DocumentView.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0):void 0},p.prototype.canAcceptDataTransfer=function(t){var e,n,i,r,o,a;for(a={},r=null!=(i=null!=t?t.types:void 0)?i:[],e=0,n=r.length;n>e;e++)o=r[e],a[o]=!0;return a.Files||a["application/x-trix-document"]||a["text/html"]||a["text/plain"]},p.prototype.getPastedHTMLUsingHiddenElement=function(t){var e,n,i;return n=this.getSelectedRange(),i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},e=u({style:i,tagName:"div",editable:!0}),document.body.appendChild(e),e.focus(),requestAnimationFrame(function(i){return function(){var r;return r=e.innerHTML,document.body.removeChild(e),i.setSelectedRange(n),t(r)}}(this))},p.proxyMethod("responder?.getSelectedRange"),p.proxyMethod("responder?.setSelectedRange"),p.proxyMethod("responder?.expandSelectionInDirection"),p.proxyMethod("responder?.selectionIsInCursorTarget"),p.proxyMethod("responder?.selectionIsExpanded"),p}(e.BasicObject),i=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},l=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},s=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},a=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},d=function(t){var e,n;return(n=null!=(e=t.clipboardData)?e.types:void 0)?m.call(n,"text/html")<0&&(m.call(n,"com.apple.webarchive")>=0||m.call(n,"com.apple.flat-rtfd")>=0):void 0},t=function(t){var e,n,i;return i=t.getData("text/plain"),n=t.getData("text/html"),i&&n?(e=u("div"),e.innerHTML=n,e.textContent===i?!e.querySelector(":not(meta)"):void 0):null!=i?i.length:void 0},p={"application/x-trix-feature-detection":"test"},n=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in p)if(n=p[e],t.setData(e,n),t.getData(e)!==n)return;return!0}}}.call(this),function(){var t,n,i,r,o,a,s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;n=e.handleEvent,o=e.makeElement,a=e.tagName,i=e.InputController.keyNames,r=e.config.lang,t=e.config.css.classNames,e.AttachmentEditorController=function(e){function u(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.uninstall=s(this.uninstall,this),this.didKeyDownCaption=s(this.didKeyDownCaption,this),this.didChangeCaption=s(this.didChangeCaption,this),this.didClickCaption=s(this.didClickCaption,this),this.didClickRemoveButton=s(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===a(this.element)&&(this.element=this.element.firstChild),this.install()}var c;return l(u,e),c=function(t){return function(){var e;return e=t.apply(this,arguments),e["do"](),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},u.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},u.prototype.makeElementMutable=c(function(){return{"do":function(t){return function(){return t.element.dataset.trixMutable=!0}}(this),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)}}),u.prototype.makeCaptionEditable=c(function(){var t,e;return t=this.element.querySelector("figcaption"),e=null,{"do":function(i){return function(){return e=n("click",{onElement:t,withCallback:i.didClickCaption,inPhase:"capturing"})}}(this),undo:function(){return function(){return e.destroy()}}(this)}}),u.prototype.addRemoveButton=c(function(){var e;return e=o({tagName:"button",textContent:r.remove,className:t.attachment.removeButton,attributes:{type:"button",title:r.remove},data:{trixMutable:!0}}),n("click",{onElement:e,withCallback:this.didClickRemoveButton}),{"do":function(t){return function(){return t.element.appendChild(e)}}(this),undo:function(t){return function(){return t.element.removeChild(e)}}(this)}}),u.prototype.editCaption=c(function(){var e,i,a,s,l;return s=o({tagName:"textarea",className:t.attachment.captionEditor,attributes:{placeholder:r.captionPlaceholder}}),s.value=this.attachmentPiece.getCaption(),l=s.cloneNode(),l.classList.add("trix-autoresize-clone"),e=function(){return l.value=s.value,s.style.height=l.scrollHeight+"px"},n("input",{onElement:s,withCallback:e}),n("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),n("change",{onElement:s,withCallback:this.didChangeCaption}),n("blur",{onElement:s,withCallback:this.uninstall}),a=this.element.querySelector("figcaption"),i=a.cloneNode(),{"do":function(){return a.style.display="none",i.appendChild(s),i.appendChild(l),i.classList.add(t.attachment.editingCaption),a.parentElement.insertBefore(i,a),e(),s.focus()},undo:function(){return i.parentNode.removeChild(i),a.style.display=null}}}),u.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},u.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},u.prototype.didChangeCaption=function(t){var e,n,i;return e=t.target.value.replace(/\s/g," ").trim(),e?null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestUpdatingAttributesForAttachment?n.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(i=this.delegate)&&"function"==typeof i.attachmentEditorDidRequestRemovingAttributeForAttachment?i.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},u.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},u.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},u}(e.BasicObject)}.call(this),function(){var t,n,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=e.makeElement,r=e.selectionElements,t=e.config.css.classNames,e.AttachmentView=function(e){function a(){a.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}return o(a,e),a.attachmentSelector="[data-trix-attachment]",a.prototype.createContentNodes=function(){return[]},a.prototype.createNodes=function(){var e,n,o,a,s,l,u,c,d,h,p;if(a=i({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())a.innerHTML=this.attachment.getContent();else for(h=this.createContentNodes(),l=0,c=h.length;c>l;l++)d=h[l],a.appendChild(d);a.appendChild(this.createCaptionElement()),n={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},e=this.attachmentPiece.getAttributesForAttachment(),e.isEmpty()||(n.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(this.progressElement=i({tagName:"progress",attributes:{"class":t.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),a.appendChild(this.progressElement),n.trixSerialize=!1),(s=this.getHref())?(o=i("a",{href:s}),o.appendChild(a)):o=a;for(u in n)p=n[u],o.dataset[u]=p;return o.setAttribute("contenteditable",!1),[r.create("cursorTarget"),o,r.create("cursorTarget")]},a.prototype.createCaptionElement=function(){var e,n,r,o,a;return n=i({tagName:"figcaption",className:t.attachment.caption}),(e=this.attachmentPiece.getCaption())?(n.classList.add(t.attachment.captionEdited),n.textContent=e):(r=this.attachment.getFilename())&&(n.textContent=r,(o=this.attachment.getFormattedFilesize())&&(n.appendChild(document.createTextNode(" ")),a=i({tagName:"span",className:t.attachment.size,textContent:o}),n.appendChild(a))),n},a.prototype.getClassName=function(){var e,n;return n=[t.attachment.container,""+t.attachment.typePrefix+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(e),n.join(" ")},a.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},a.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},a.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},a}(e.ObjectView),n=function(t,e){var n;return n=i("div"),n.innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=e.makeElement,e.PreviewableAttachmentView=function(e){function i(){i.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return n(i,e),i.prototype.createContentNodes=function(){return this.image=t({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},i.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},i.prototype.updateAttributesForImage=function(t){var e,n,i,r,o,a;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||o,n===o?t.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:o}),t.setAttribute("data-trix-serialized-attributes",i)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),r=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=r},i.prototype.attachmentDidChangePreviewURL=function(){return this.refresh(this.image),this.refresh()},i}(e.AttachmentView)}.call(this),function(){var t,n,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=e.makeElement,t=e.findInnerElement,n=e.getTextConfig,e.PieceView=function(o){function a(){var t;a.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var s;return r(a,o),a.prototype.createNodes=function(){var e,n,i,r,o,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(i=t(e),n=0,r=a.length;r>n;n++)o=a[n],i.appendChild(o);a=[e]}return a},a.prototype.createAttachmentNodes=function(){var t,n;return t=this.attachment.isPreviewable()?e.PreviewableAttachmentView:e.AttachmentView,n=this.createChildView(t,this.piece.attachment,{piece:this.piece}),n.getNodes()},a.prototype.createStringNodes=function(){var t,e,n,r,o,a,s,l,u,c;if(null!=(l=this.textConfig)?l.plaintext:void 0)return[document.createTextNode(this.string)];for(s=[],u=this.string.split("\n"),n=e=0,r=u.length;r>e;n=++e)c=u[n],n>0&&(t=i("br"),s.push(t)),(o=c.length)&&(a=document.createTextNode(this.preserveSpaces(c)),s.push(a));return s},a.prototype.createElement=function(){var t,e,r,o,a,s,l,u;for(o in this.attributes)if((t=n(o))&&(t.tagName&&(a=i(t.tagName),r?(r.appendChild(a),r=a):e=r=a),t.style))if(l){s=t.style;for(o in s)u=s[o],l[o]=u}else l=t.style;if(l){null==e&&(e=i("span"));for(o in l)u=l[o],e.style[o]=u}return e},a.prototype.createContainerElement=function(){var t,e,r,o,a;o=this.attributes;for(r in o)if(a=o[r],(e=n(r))&&e.groupTagName)return t={},t[r]=a,i(e.groupTagName,t)},s=e.NON_BREAKING_SPACE,a.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,s)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+s+" $2").replace(/\ {2}/g,s+" ").replace(/\ {2}/g," "+s),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,s)),t},a}(e.ObjectView)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.TextView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var r;return t(i,n),i.prototype.createNodes=function(){var t,n,i,o,a,s,l,u,c,d;for(s=[],u=e.ObjectGroup.groupObjects(this.getPieces()),o=u.length-1,i=n=0,a=u.length;a>n;i=++n)l=u[i],t={},0===i&&(t.isFirst=!0),i===o&&(t.isLast=!0),r(c)&&(t.followsWhitespace=!0),d=this.findOrCreateCachedChildView(e.PieceView,l,{textConfig:this.textConfig,context:t}),s.push.apply(s,d.getNodes()),c=l;return s},i.prototype.getPieces=function(){var t,e,n,i,r;for(i=this.text.getPieces(),r=[],t=0,e=i.length;e>t;t++)n=i[t],n.hasAttribute("blockBreak")||r.push(n);return r},r=function(t){return/\s$/.test(null!=t?t.toString():void 0)},i}(e.ObjectView)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e.makeElement,t=e.getBlockConfig,e.BlockView=function(r){function o(){o.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(o,r),o.prototype.createNodes=function(){var i,r,o,a,s,l,u,c,d;if(i=document.createComment("block"),l=[i],this.block.isEmpty()?l.push(n("br")):(c=null!=(u=t(this.block.getLastAttribute()))?u.text:void 0,d=this.findOrCreateCachedChildView(e.TextView,this.block.text,{textConfig:c}),l.push.apply(l,d.getNodes()),this.shouldAddExtraNewlineElement()&&l.push(n("br"))),this.attributes.length)return l;for(r=n(e.config.blockAttributes["default"].tagName),o=0,a=l.length;a>o;o++)s=l[o],r.appendChild(s);return[r]},o.prototype.createContainerElement=function(e){var i,r;return i=this.attributes[e],r=t(i),n(r.tagName)},o.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},o}(e.ObjectView)}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=e.defer,n=e.makeElement,e.DocumentView=function(r){function o(){o.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new e.ElementStore,this.setDocument(this.object)}var a,s,l;return i(o,r),o.render=function(t){var e,i;return e=n("div"),i=new this(t,{element:e}),i.render(),i.sync(),e},o.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},o.prototype.render=function(){var t,i,r,o,a,s,l;if(this.childViews=[],this.shadowElement=n("div"),!this.document.isEmpty()){for(a=e.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),s=[],t=0,i=a.length;i>t;t++)o=a[t],l=this.findOrCreateCachedChildView(e.BlockView,o),s.push(function(){var t,e,n,i;for(n=l.getNodes(),i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(this.shadowElement.appendChild(r));return i}.call(this));return s}},o.prototype.isSynced=function(){return a(this.shadowElement,this.element)},o.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},o.prototype.didSync=function(){return this.elementStore.reset(s(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},o.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,r,o,a,l,u,c;for(e=document.createDocumentFragment(),l=this.shadowElement.childNodes,n=0,r=l.length;r>n;n++)a=l[n],e.appendChild(a.cloneNode(!0));for(u=s(e),i=0,o=u.length;o>i;i++)t=u[i],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},s=function(t){return t.querySelectorAll("[data-trix-store-key]")},a=function(t,e){return l(t.innerHTML)===l(e.innerHTML)},l=function(t){return t.replace(/&nbsp;/g," ")},o}(e.ObjectView)}.call(this),function(){var t,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=e.handleEvent,r=e.innerElementIsActive,n=e.defer,t=e.AttachmentView.attachmentSelector,e.CompositionController=function(s){function l(n,r){this.element=n,this.composition=r,this.didClickAttachment=o(this.didClickAttachment,this),this.didBlur=o(this.didBlur,this),this.didFocus=o(this.didFocus,this),this.documentView=new e.DocumentView(this.composition.document,{element:this.element}),i("focus",{onElement:this.element,withCallback:this.didFocus}),i("blur",{onElement:this.element,withCallback:this.didBlur}),i("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),i("mousedown",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),i("click",{onElement:this.element,matchingSelector:"a"+t,preventDefault:!0})}return a(l,s),l.prototype.didFocus=function(){var t,e,n;return t=function(t){return function(){var e;return t.focused?void 0:(t.focused=!0,null!=(e=t.delegate)&&"function"==typeof e.compositionControllerDidFocus?e.compositionControllerDidFocus():void 0)}}(this),null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},l.prototype.didBlur=function(){return this.blurPromise=new Promise(function(t){return function(e){return n(function(){var n;return r(t.element)||(t.focused=null,null!=(n=t.delegate)&&"function"==typeof n.compositionControllerDidBlur&&n.compositionControllerDidBlur()),t.blurPromise=null,e()})}}(this))},l.prototype.didClickAttachment=function(t,e){var n,i;return n=this.findAttachmentForElement(e),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(n):void 0},l.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},l.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},l.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},l.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},l.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},l.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},l.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},l.prototype.installAttachmentEditorForAttachment=function(t){var n,i,r;return(null!=(r=this.attachmentEditor)?r.attachment:void 0)!==t&&(i=this.documentView.findElementForObject(t))?(this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new e.AttachmentEditorController(n,i,this.element),this.attachmentEditor.delegate=this):void 0},l.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},l.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},l.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},l.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},l.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},l.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},l.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},l}(e.BasicObject)}.call(this),function(){var t,n,i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e.handleEvent,i=e.triggerEvent,t=e.findClosestElementFromNode,e.ToolbarController=function(e){function a(t){this.element=t,this.didKeyDownDialogInput=r(this.didKeyDownDialogInput,this),this.didClickDialogButton=r(this.didClickDialogButton,this),this.didClickAttributeButton=r(this.didClickAttributeButton,this),this.didClickActionButton=r(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),n("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickActionButton}),n("mousedown",{onElement:this.element,matchingSelector:u,withCallback:this.didClickAttributeButton}),n("click",{onElement:this.element,matchingSelector:v,preventDefault:!0}),n("click",{onElement:this.element,matchingSelector:c,withCallback:this.didClickDialogButton}),n("keydown",{onElement:this.element,matchingSelector:d,withCallback:this.didKeyDownDialogInput})}var s,l,u,c,d,h,p,f,g,m,v;return o(a,e),s="button[data-trix-action]",u="button[data-trix-attribute]",v=[s,u].join(", "),h=".dialog[data-trix-dialog]",l=h+".active",c=h+" input[data-trix-method]",d=h+" input[type=text], "+h+" input[type=url]",a.prototype.didClickActionButton=function(t,e){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=p(e),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)?r.toolbarDidInvokeAction(n):void 0},a.prototype.didClickAttributeButton=function(t,e){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=f(e),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)&&r.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},a.prototype.didClickDialogButton=function(e,n){var i,r;return i=t(n,{matchingSelector:h}),r=n.getAttribute("data-trix-method"),this[r].call(this,i)},a.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},a.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},a.prototype.refreshActionButtons=function(){return this.eachActionButton(function(t){return function(e,n){return e.disabled=t.actions[n]===!1}}(this))},a.prototype.eachActionButton=function(t){var e,n,i,r,o;for(r=this.element.querySelectorAll(s),o=[],n=0,i=r.length;i>n;n++)e=r[n],o.push(t(e,p(e)));return o},a.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},a.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(t){return function(e,n){return e.disabled=t.attributes[n]===!1,t.attributes[n]||t.dialogIsVisible(n)?e.classList.add("active"):e.classList.remove("active")}}(this))},a.prototype.eachAttributeButton=function(t){var e,n,i,r,o;for(r=this.element.querySelectorAll(u),o=[],n=0,i=r.length;i>n;n++)e=r[n],o.push(t(e,f(e)));return o},a.prototype.applyKeyboardCommand=function(t){var e,n,r,o,a,s,l;for(a=JSON.stringify(t.sort()),l=this.element.querySelectorAll("[data-trix-key]"),o=0,s=l.length;s>o;o++)if(e=l[o],r=e.getAttribute("data-trix-key").split("+"),n=JSON.stringify(r.sort()),n===a)return i("mousedown",{onElement:e}),!0;return!1},a.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},a.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},a.prototype.showDialog=function(t){var e,n,i,r,o,a,s,l,u,c;for(this.hideDialog(),null!=(s=this.delegate)&&s.toolbarWillShowDialog(),i=this.getDialog(t),i.classList.add("active"),l=i.querySelectorAll("input[disabled]"),r=0,a=l.length;a>r;r++)n=l[r],n.removeAttribute("disabled");return(e=f(i))&&(o=m(i,t))&&(o.value=null!=(u=this.attributes[e])?u:"",o.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},a.prototype.setAttribute=function(t){var e,n,i;return e=f(t),n=m(t,e),n.willValidate&&!n.checkValidity()?(n.classList.add("validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},a.prototype.removeAttribute=function(t){var e,n;return e=f(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},a.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(l))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(g(t)):void 0):void 0},a.prototype.resetDialogInputs=function(){var t,e,n,i,r;for(i=this.element.querySelectorAll(d),r=[],t=0,n=i.length;n>t;t++)e=i[t],e.setAttribute("disabled","disabled"),r.push(e.classList.remove("validate"));return r},a.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-trix-dialog="+t+"]")},m=function(t,e){return null==e&&(e=f(t)),t.querySelector("input[name='"+e+"']")},p=function(t){return t.getAttribute("data-trix-action")},f=function(t){return t.getAttribute("data-trix-attribute")},g=function(t){return t.getAttribute("data-trix-dialog")},a}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e;return e=new Image,e.onload=function(n){return function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}}(this),e.onerror=function(){return t(!1)},e.src=this.url},n}(e.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.Attachment=function(i){function r(n){null==n&&(n={}),this.releaseFile=t(this.releaseFile,this),r.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n),this.didChangeAttributes()}return n(r,i),r.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,
r.attachmentForFile=function(t){var e,n;return n=this.attributesForFile(t),e=new this(n),e.setFile(t),e},r.attributesForFile=function(t){return new e.Hash({filename:t.name,filesize:t.size,contentType:t.type})},r.fromJSON=function(t){return new this(t)},r.prototype.getAttribute=function(t){return this.attributes.get(t)},r.prototype.hasAttribute=function(t){return this.attributes.has(t)},r.prototype.getAttributes=function(){return this.attributes.toObject()},r.prototype.setAttributes=function(t){var e,n;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangeAttributes?n.attachmentDidChangeAttributes(this):void 0)},r.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},r.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},r.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},r.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},r.prototype.getURL=function(){return this.attributes.get("url")},r.prototype.getHref=function(){return this.attributes.get("href")},r.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},r.prototype.getFilesize=function(){return this.attributes.get("filesize")},r.prototype.getFormattedFilesize=function(){var t;return t=this.attributes.get("filesize"),"number"==typeof t?e.config.fileSize.formatter(t):""},r.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},r.prototype.getContentType=function(){return this.attributes.get("contentType")},r.prototype.hasContent=function(){return this.attributes.has("content")},r.prototype.getContent=function(){return this.attributes.get("content")},r.prototype.getWidth=function(){return this.attributes.get("width")},r.prototype.getHeight=function(){return this.attributes.get("height")},r.prototype.getFile=function(){return this.file},r.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},r.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},r.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},r.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},r.prototype.toJSON=function(){return this.getAttributes()},r.prototype.getCacheKey=function(){return[r.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},r.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},r.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangePreviewURL&&e.attachmentDidChangePreviewURL(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},r.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},r.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},r.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},r.prototype.preload=function(t,n){var i;return t&&t!==this.getPreviewURL()?(this.preloadingURL=t,i=new e.ImagePreloadOperation(t),i.then(function(e){return function(i){var r,o;return o=i.width,r=i.height,e.setAttributes({width:o,height:r}),e.preloadingURL=null,e.setPreviewURL(t),"function"==typeof n?n():void 0}}(this))):void 0},r}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece=function(n){function i(t,n){null==n&&(n={}),i.__super__.constructor.apply(this,arguments),this.attributes=e.Hash.box(n)}return t(i,n),i.types={},i.registerType=function(t,e){return e.type=t,this.types[t]=e},i.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},i.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},i.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},i.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.getAttributesHash=function(){return this.attributes},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece(function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)}),t.toObject()):{}},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},i.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},i.prototype.isBlockBreak=function(){return!1},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isSerializable=function(){return!0},i.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},i.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},i.prototype.canBeGrouped=function(){return this.hasAttribute("href")},i.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},i.prototype.getLength=function(){return this.length},i.prototype.canBeConsolidatedWith=function(){return!1},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece.registerType("attachment",e.AttachmentPiece=function(n){function i(t){this.attachment=t,i.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return t(i,n),i.fromJSON=function(t){return new this(e.Attachment.fromJSON(t.attachment),t.attributes)},i.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},i.prototype.getValue=function(){return this.attachment},i.prototype.isSerializable=function(){return!this.attachment.isPending()},i.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},i.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},i.prototype.canBeGrouped=function(){return i.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},i.prototype.toString=function(){return e.OBJECT_REPLACEMENT_CHARACTER},i.prototype.toJSON=function(){var t;return t=i.__super__.toJSON.apply(this,arguments),t.attachment=this.attachment,t},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},i.prototype.toConsole=function(){return JSON.stringify(this.toString())},i}(e.Piece))}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Piece.registerType("string",e.StringPiece=function(e){function n(t){n.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return t(n,e),n.fromJSON=function(t){return new this(t.string,t.attributes)},n.prototype.getValue=function(){return this.string},n.prototype.toString=function(){return this.string.toString()},n.prototype.isBlockBreak=function(){return"\n"===this.toString()&&this.getAttribute("blockBreak")===!0},n.prototype.toJSON=function(){var t;return t=n.__super__.toJSON.apply(this,arguments),t.string=this.string,t},n.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},n.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},n.prototype.toConsole=function(){var t;return t=this.string,t.length>15&&(t=t.slice(0,14)+""),JSON.stringify(t.toString())},n}(e.Piece))}.call(this),function(){var t,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,r=[].slice;t=e.spliceArray,e.SplittableList=function(e){function i(t){null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var o,a,s;return n(i,e),i.box=function(t){return t instanceof this?t:new this(t)},i.prototype.indexOf=function(t){return this.objects.indexOf(t)},i.prototype.splice=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],new this.constructor(t.apply(null,[this.objects].concat(r.call(e))))},i.prototype.eachObject=function(t){var e,n,i,r,o,a;for(o=this.objects,a=[],n=e=0,i=o.length;i>e;n=++e)r=o[n],a.push(t(r,n));return a},i.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},i.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(r.call(t.objects)))},i.prototype.insertSplittableListAtPosition=function(t,e){var n,i,r;return r=this.splitObjectAtPosition(e),i=r[0],n=r[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},i.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},i.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},i.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},i.prototype.getObjectAtIndex=function(t){return this.objects[t]},i.prototype.getSplittableListInRange=function(t){var e,n,i,r;return i=this.splitObjectsAtRange(t),n=i[0],e=i[1],r=i[2],new this.constructor(n.slice(e,r+1))},i.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,i,r,o;for(r=this.objects,o=[],n=0,i=r.length;i>n;n++)e=r[n],t(e)&&o.push(e);return o}.call(this),new this.constructor(n)},i.prototype.removeObjectsInRange=function(t){var e,n,i,r;return i=this.splitObjectsAtRange(t),n=i[0],e=i[1],r=i[2],new this.constructor(n).splice(e,r-e+1)},i.prototype.transformObjectsInRange=function(t,e){var n,i,r,o,a,s,l;return a=this.splitObjectsAtRange(t),o=a[0],i=a[1],s=a[2],l=function(){var t,a,l;for(l=[],n=t=0,a=o.length;a>t;n=++t)r=o[n],l.push(n>=i&&s>=n?e(r):r);return l}(),new this.constructor(l)},i.prototype.splitObjectsAtRange=function(t){var e,n,i,r,a,l;return r=this.splitObjectAtPosition(s(t)),n=r[0],e=r[1],i=r[2],a=new this.constructor(n).splitObjectAtPosition(o(t)+i),n=a[0],l=a[1],[n,e,l-1]},i.prototype.getObjectAtPosition=function(t){var e,n,i;return i=this.findIndexAndOffsetAtPosition(t),e=i.index,n=i.offset,this.objects[e]},i.prototype.splitObjectAtPosition=function(t){var e,n,i,r,o,a,s,l,u,c;return a=this.findIndexAndOffsetAtPosition(t),e=a.index,o=a.offset,r=this.objects.slice(0),null!=e?0===o?(u=e,c=0):(i=this.getObjectAtIndex(e),s=i.splitAtOffset(o),n=s[0],l=s[1],r.splice(e,1,n,l),u=e+1,c=n.getLength()-o):(u=r.length,c=0),[r,u,c]},i.prototype.consolidate=function(){var t,e,n,i,r,o;for(i=[],r=this.objects[0],o=this.objects.slice(1),t=0,e=o.length;e>t;t++)n=o[t],("function"==typeof r.canBeConsolidatedWith?r.canBeConsolidatedWith(n):void 0)?r=r.consolidateWith(n):(i.push(r),r=n);return null!=r&&i.push(r),new this.constructor(i)},i.prototype.consolidateFromIndexToIndex=function(t,e){var n,i,o;return i=this.objects.slice(0),o=i.slice(t,e+1),n=new this.constructor(o).consolidate().toArray(),this.splice.apply(this,[t,o.length].concat(r.call(n)))},i.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,r,o,a,s;for(e=0,s=this.objects,i=n=0,r=s.length;r>n;i=++n){if(a=s[i],o=e+a.getLength(),t>=e&&o>t)return{index:i,offset:t-e};e=o}return{index:null,offset:null}},i.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,r,o,a,s;for(a=0,s=this.objects,n=i=0,r=s.length;r>i;n=++i)if(o=s[n],t>n)a+=o.getLength();else if(n===t){a+=e;break}return a},i.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,i,r;for(e=0,r=this.objects,n=0,i=r.length;i>n;n++)t=r[n],e+=t.getLength();return e}.call(this)},i.prototype.toString=function(){return this.objects.join("")},i.prototype.toArray=function(){return this.objects.slice(0)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||a(this.objects,null!=t?t.objects:void 0)},a=function(t,e){var n,i,r,o,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,i=n=0,r=t.length;r>n;i=++n)o=t[i],a&&!o.isEqualTo(e[i])&&(a=!1);return a},i.prototype.contentsForInspection=function(){var t;return{objects:"["+function(){var e,n,i,r;for(i=this.objects,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.inspect());return r}.call(this).join(", ")+"]"}},s=function(t){return t[0]},o=function(t){return t[1]},i}(e.Object)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.Text=function(n){function i(t){var n;null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.pieceList=new e.SplittableList(function(){var e,i,r;for(r=[],e=0,i=t.length;i>e;e++)n=t[e],n.isEmpty()||r.push(n);return r}())}return t(i,n),i.textForAttachmentWithAttributes=function(t,n){var i;return i=new e.AttachmentPiece(t,n),new this([i])},i.textForStringWithAttributes=function(t,n){var i;return i=new e.StringPiece(t,n),new this([i])},i.fromJSON=function(t){var n,i;return i=function(){var i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],o.push(e.Piece.fromJSON(n));return o}(),new this(i)},i.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},i.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},i.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,i,r,o,a;for(r=this.getPieces(),a=[],n=0,i=r.length;i>n;n++)e=r[n],a.push(null!=(o=t.find(e))?o:e);return a}.call(this),new this.constructor(n)},i.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},i.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},i.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},i.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},i.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;return t[0]<=e&&e<=t[1]?void 0:(i=this.getTextAtRange(t),n=i.getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e))},i.prototype.addAttributeAtRange=function(t,e,n){var i;return i={},i[t]=e,this.addAttributesAtRange(i,n)},i.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAdditionalAttributes(t)}))},i.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithoutAttribute(t)}))},i.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,function(e){return e.copyWithAttributes(t)}))},i.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},i.prototype.getCommonAttributes=function(){var t,n;return t=function(){var t,e,i,r;for(i=this.pieceList.toArray(),r=[],t=0,e=i.length;e>t;t++)n=i[t],r.push(n.getAttributes());return r}.call(this),e.Hash.fromCommonAttributesOfObjects(t).toObject()},i.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},i.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,r;for(n=r=e,i=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,r])[t];)n--;for(;i>r&&this.getCommonAttributesAtRange([e,r+1])[t];)r++;return[n,r]},i.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},i.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},i.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},i.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},i.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},i.prototype.getAttachmentPieces=function(){var t,e,n,i,r;for(i=this.pieceList.toArray(),r=[],t=0,e=i.length;e>t;t++)n=i[t],null!=n.attachment&&r.push(n);return r},i.prototype.getAttachments=function(){var t,e,n,i,r;for(i=this.getAttachmentPieces(),r=[],t=0,e=i.length;e>t;t++)n=i[t],r.push(n.attachment);return r},i.prototype.getAttachmentAndPositionById=function(t){var e,n,i,r,o,a;for(r=0,o=this.pieceList.toArray(),e=0,n=o.length;n>e;e++){if(i=o[e],(null!=(a=i.attachment)?a.id:void 0)===t)return{attachment:i.attachment,position:r};r+=i.length}return{attachment:null,position:null}},i.prototype.getAttachmentById=function(t){var e,n,i;return i=this.getAttachmentAndPositionById(t),e=i.attachment,n=i.position,e},i.prototype.getRangeOfAttachment=function(t){var e,n;return n=this.getAttachmentAndPositionById(t.id),t=n.attachment,e=n.position,null!=t?[e,e+1]:void 0},i.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},i.prototype.getLength=function(){return this.pieceList.getEndPosition()},i.prototype.isEmpty=function(){return 0===this.getLength()},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},i.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},i.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},i.prototype.getPieces=function(){return this.pieceList.toArray()},i.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},i.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},i.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},i.prototype.toString=function(){return this.pieceList.toString()},i.prototype.toJSON=function(){return this.pieceList.toJSON()},i.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,r;for(i=this.pieceList.toArray(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(JSON.parse(t.toConsole()));return r}.call(this))},i}(e.Object)}.call(this),function(){var t,n,i,r,o,a=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,l=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,o=e.spliceArray,i=e.getBlockConfig,n=e.getBlockAttributeNames,r=e.getListAttributeNames,e.Block=function(n){function s(t,n){null==t&&(t=new e.Text),null==n&&(n=[]),s.__super__.constructor.apply(this,arguments),this.text=d(t),this.attributes=n}var c,d,h,p,f,g,m,v,y;return a(s,n),s.fromJSON=function(t){var n;return n=e.Text.fromJSON(t.text),new this(n,t.attributes)},s.prototype.isEmpty=function(){return this.text.isBlockBreak()},s.prototype.isEqualTo=function(e){return s.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},s.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},s.prototype.copyWithoutText=function(){return this.copyWithText(null)},s.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},s.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},s.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(p(t)),this.copyWithAttributes(e)},s.prototype.removeAttribute=function(t){var e,n;return n=i(t).listAttribute,e=g(g(this.attributes,t),n),this.copyWithAttributes(e)},s.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},s.prototype.getLastAttribute=function(){return f(this.attributes)},s.prototype.getAttributes=function(){return this.attributes.slice(0)},s.prototype.getAttributeLevel=function(){return this.attributes.length},s.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},s.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},s.prototype.getLastNestableAttribute=function(){return f(this.getNestableAttributes())},s.prototype.getNestableAttributes=function(){var t,e,n,r,o;for(r=this.attributes,o=[],e=0,n=r.length;n>e;e++)t=r[e],i(t).nestable&&o.push(t);return o},s.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},s.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},s.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=o.apply(null,[this.attributes,n+1,0].concat(l.call(p(t)))),this.copyWithAttributes(e)):this},s.prototype.getListItemAttributes=function(){var t,e,n,r,o;for(r=this.attributes,o=[],e=0,n=r.length;n>e;e++)t=r[e],i(t).listAttribute&&o.push(t);return o},s.prototype.isListItem=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.listAttribute:void 0},s.prototype.isTerminalBlock=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.terminal:void 0},s.prototype.breaksOnReturn=function(){var t;return null!=(t=i(this.getLastAttribute()))?t.breakOnReturn:void 0},s.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),n=function(){switch(t){case"forward":return i.indexOf("\n",e);case"backward":return i.slice(0,e).lastIndexOf("\n")}}(),-1!==n?n:void 0},s.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},s.prototype.toString=function(){return this.text.toString()},s.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},s.prototype.getLength=function(){return this.text.getLength()},s.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},s.prototype.consolidateWith=function(t){var n,i;return n=e.Text.textForStringWithAttributes("\n"),i=this.getTextWithoutBlockBreak().appendText(n),this.copyWithText(i.appendText(t.text))},s.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},s.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},s.prototype.getTextWithoutBlockBreak=function(){return m(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},s.prototype.canBeGrouped=function(t){return this.attributes[t]},s.prototype.canBeGroupedWith=function(t,e){var n,o,a,s;return a=t.getAttributes(),o=a[e],n=this.attributes[e],n===o&&!(i(n).group===!1&&(s=a[e+1],u.call(r(),s)<0))},d=function(t){return t=y(t),t=c(t)},y=function(t){var n,i,r,o,a,s;return o=!1,s=t.getPieces(),i=2<=s.length?l.call(s,0,n=s.length-1):(n=0,[]),r=s[n++],null==r?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)a=i[t],a.isBlockBreak()?(o=!0,n.push(v(a))):n.push(a);return n}(),o?new e.Text(l.call(i).concat([r])):t)},h=e.Text.textForStringWithAttributes("\n",{blockBreak:!0}),c=function(t){return m(t)?t:t.appendText(h)},m=function(t){var e,n;return n=t.getLength(),0===n?!1:(e=t.getTextAtRange([n-1,n]),e.isBlockBreak())},v=function(t){return t.copyWithoutAttribute("blockBreak")},p=function(t){var e;return e=i(t).listAttribute,null!=e?[e,t]:[t]},f=function(t){return t.slice(-1)[0]},g=function(t,e){var n;return n=t.lastIndexOf(e),-1===n?t:o(t,n,1)},s}(e.Object)}.call(this),function(){var t,n,i,r,o,a,s,l,u,c=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty,h=[].slice,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,s=e.normalizeSpaces,o=e.makeElement,l=e.tagName,r=e.getBlockTagNames,u=e.walkTree,i=e.findClosestElementFromNode,n=e.elementContainsNode,a=e.nodeIsAttachmentElement,e.HTMLParser=function(d){function f(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A;return c(f,d),g="style href src width height class".split(" "),f.parse=function(t,e){var n;return n=new this(t,e),n.parse(),n},f.prototype.getDocument=function(){return e.Document.fromJSON(this.blocks)},f.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=D(this.html),this.containerElement.innerHTML=t,e=u(this.containerElement,{usingFilter:x});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},f.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=o({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},f.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},D=function(t){var e,n,i,r,o,a,s,l,c,d,f,m,v,y,w,_;for(t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),n=document.implementation.createHTMLDocument(""),n.documentElement.innerHTML=t,e=n.body,i=n.head,v=i.querySelectorAll("style"),r=0,s=v.length;s>r;r++)w=v[r],e.appendChild(w);for(m=[],_=u(e);_.nextNode();)switch(f=_.currentNode,f.nodeType){case Node.ELEMENT_NODE:if(b(f))m.push(f);else for(y=h.call(f.attributes),o=0,l=y.length;l>o;o++)d=y[o].name,p.call(g,d)>=0||0===d.indexOf("data-trix")||f.removeAttribute(d);break;case Node.COMMENT_NODE:m.push(f)}for(a=0,c=m.length;c>a;a++)f=m[a],f.parentNode.removeChild(f);return e.innerHTML},b=function(t){return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||a(t)?void 0:"script"===l(t)||"false"===t.getAttribute("data-trix-serialize")},x=function(t){return"style"===l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},f.prototype.appendBlockForElement=function(e){var i,r,o,a;if(o=this.isBlockElement(e),r=n(this.currentBlockElement,e),o&&!this.isBlockElement(e.firstChild)){if(!(this.isInsignificantTextNode(e.firstChild)&&this.isBlockElement(e.firstElementChild)||(i=this.getBlockAttributes(e),r&&t(i,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(i,e),this.currentBlockElement=e}else if(this.currentBlockElement&&!r&&!o)return(a=this.findParentBlockElement(e))?this.appendBlockForElement(a):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},f.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&p.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},f.prototype.processTextNode=function(t){var e,n;return this.isInsignificantTextNode(t)?void 0:(n=t.data,y(t.parentNode)||(n=T(n),E(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=k(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode)))},f.prototype.processElement=function(t){var e,n,i,r,o;if(a(t))return e=w(t),Object.keys(e).length&&(r=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,r),t.innerHTML=""),this.processedElements.push(t);switch(l(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"},i=C(t);for(n in i)o=i[n],e[n]=o;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},f.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=m(t),this.blocks.push(n),n},f.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},f.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece($(t,e))},f.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(S(t,e))},f.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},f.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return i=this.blocks[e].text,n=i[i.length-1],"string"===(null!=n?n.type:void 0)?n.string+=t:i.push($(t))},f.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return i=this.blocks[e].text,n=i[0],"string"===(null!=n?n.type:void 0)?n.string=t+n.string:i.unshift($(t))},$=function(t,e){var n;return null==e&&(e={}),n="string",t=s(t),{string:t,attributes:e,type:n}},S=function(t,e){var n;return null==e&&(e={}),n="attachment",{attachment:t,attributes:e,type:n}},m=function(t){var e;return null==t&&(t={}),e=[],{text:e,attributes:t}},f.prototype.getTextAttributes=function(t){var n,r,o,s,l,u,c,d,h,p,f,g,m;o={},p=e.config.textAttributes;for(n in p)if(l=p[n],l.tagName&&i(t,{
matchingSelector:l.tagName,untilNode:this.containerElement}))o[n]=!0;else if(l.parser&&(m=l.parser(t))){for(r=!1,f=this.findBlockElementAncestors(t),u=0,h=f.length;h>u;u++)if(s=f[u],l.parser(s)===m){r=!0;break}r||(o[n]=m)}if(a(t)&&(c=t.getAttribute("data-trix-attributes"))){g=JSON.parse(c);for(d in g)m=g[d],o[d]=m}return o},f.prototype.getBlockAttributes=function(t){var n,i,r,o;for(i=[];t&&t!==this.containerElement;){o=e.config.blockAttributes;for(n in o)r=o[n],r.parse!==!1&&l(t)===r.tagName&&(("function"==typeof r.test?r.test(t):void 0)||!r.test)&&(i.push(n),r.listAttribute&&i.push(r.listAttribute));t=t.parentNode}return i.reverse()},f.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=l(t),p.call(r(),n)>=0&&e.push(t),t=t.parentNode;return e},w=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},C=function(t){var e,n,i;return i=t.getAttribute("width"),n=t.getAttribute("height"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},f.prototype.isBlockElement=function(t){var e;return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||i(t,{matchingSelector:"td",untilNode:this.containerElement})?void 0:(e=l(t),p.call(r(),e)>=0||"block"===window.getComputedStyle(t).display)},f.prototype.isInsignificantTextNode=function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&A(t.data)&&!y(t.parentNode)?!t.previousSibling||this.isBlockElement(t.previousSibling)||!t.nextSibling||this.isBlockElement(t.nextSibling):void 0},f.prototype.isExtraBR=function(t){return"br"===l(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},y=function(t){var e;return e=window.getComputedStyle(t).whiteSpace,"pre"===e||"pre-wrap"===e||"pre-line"===e},f.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,r,o,a,s;for(e=this.getMarginOfDefaultBlockElement(),a=this.blocks,s=[],i=n=0,r=a.length;r>n;i=++n)t=a[i],(o=this.getMarginOfBlockElementAtIndex(i))&&(o.top>2*e.top&&this.prependStringToTextAtIndex("\n",i),s.push(o.bottom>2*e.bottom?this.appendStringToTextAtIndex("\n",i):void 0));return s},f.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||(n=l(e),p.call(r(),n)>=0||p.call(this.processedElements,e)>=0)?void 0:_(e)},f.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=o(e.config.blockAttributes["default"].tagName),this.containerElement.appendChild(t),_(t)},_=function(t){var e;return e=window.getComputedStyle(t),"block"===e.display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},v=RegExp("[^\\S"+e.NON_BREAKING_SPACE+"]"),T=function(t){return t.replace(RegExp(""+v.source,"g")," ").replace(/\ {2,}/g," ")},k=function(t){return t.replace(RegExp("^"+v.source+"+"),"")},A=function(t){return RegExp("^"+v.source+"*$").test(t)},E=function(t){return/\s$/.test(t)},f}(e.BasicObject)}.call(this),function(){var t,n,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.arraysAreEqual,i=e.normalizeRange,r=e.rangeIsCollapsed,n=e.getBlockConfig,e.Document=function(a){function u(t){null==t&&(t=[]),u.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new e.Block]),this.blockList=e.SplittableList.box(t)}var c;return o(u,a),u.fromJSON=function(t){var n,i;return i=function(){var i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],o.push(e.Block.fromJSON(n));return o}(),new this(i)},u.fromHTML=function(t,n){return e.HTMLParser.parse(t,n).getDocument()},u.fromString=function(t,n){var i;return i=e.Text.textForStringWithAttributes(t,n),new this([new e.Block(i)])},u.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&(t=this.getBlockAtIndex(0),t.isEmpty()&&!t.hasAttributes())},u.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},u.prototype.copyUsingObjectsFromDocument=function(t){var n;return n=new e.ObjectMap(t.getObjects()),this.copyUsingObjectMap(n)},u.prototype.copyUsingObjectMap=function(t){var e,n,i;return n=function(){var n,r,o,a;for(o=this.getBlocks(),a=[],n=0,r=o.length;r>n;n++)e=o[n],a.push((i=t.find(e))?i:e.copyUsingObjectMap(t));return a}.call(this),new this.constructor(n)},u.prototype.copyWithBaseBlockAttributes=function(t){var e,n,i;return null==t&&(t=[]),i=function(){var i,r,o,a;for(o=this.getBlocks(),a=[],i=0,r=o.length;r>i;i++)n=o[i],e=t.concat(n.getAttributes()),a.push(n.copyWithAttributes(e));return a}.call(this),new this.constructor(i)},u.prototype.replaceBlock=function(t,e){var n;return n=this.blockList.indexOf(t),-1===n?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},u.prototype.insertDocumentAtRange=function(t,e){var n,o,a,s,l,u,c;return o=t.blockList,l=(e=i(e))[0],u=this.locationFromPosition(l),a=u.index,s=u.offset,c=this,n=this.getBlockAtPosition(l),r(e)&&n.isEmpty()&&!n.hasAttributes()?c=new this.constructor(c.blockList.removeObjectAtIndex(a)):n.getBlockBreakPosition()===s&&l++,c=c.removeTextAtRange(e),new this.constructor(c.blockList.insertSplittableListAtPosition(o,l))},u.prototype.mergeDocumentAtRange=function(e,n){var r,o,a,s,l,u,c,d,h,p,f,g;return f=(n=i(n))[0],p=this.locationFromPosition(f),o=this.getBlockAtIndex(p.index).getAttributes(),r=e.getBaseBlockAttributes(),g=o.slice(-r.length),t(r,g)?(c=o.slice(0,-r.length),u=e.copyWithBaseBlockAttributes(c)):u=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),a=u.getBlockCount(),s=u.getBlockAtIndex(0),t(o,s.getAttributes())?(l=s.getTextWithoutBlockBreak(),h=this.insertTextAtRange(l,n),a>1&&(u=new this.constructor(u.getBlocks().slice(1)),d=f+l.getLength(),h=h.insertDocumentAtRange(u,d))):h=this.insertDocumentAtRange(u,n),h},u.prototype.insertTextAtRange=function(t,e){var n,r,o,a,s;return s=(e=i(e))[0],a=this.locationFromPosition(s),r=a.index,o=a.offset,n=this.removeTextAtRange(e),new this.constructor(n.blockList.editObjectAtIndex(r,function(e){return e.copyWithText(e.text.insertTextAtPosition(t,o))}))},u.prototype.removeTextAtRange=function(t){var e,n,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k;return h=t=i(t),c=h[0],w=h[1],r(t)?this:(p=this.locationRangeFromRange(t),l=p[0],y=p[1],s=l.index,u=l.offset,a=this.getBlockAtIndex(s),v=y.index,b=y.offset,m=this.getBlockAtIndex(v),f=w-c===1&&a.getBlockBreakPosition()===u&&m.getBlockBreakPosition()!==b&&"\n"===m.text.getStringAtPosition(b),f?o=this.blockList.editObjectAtIndex(v,function(t){return t.copyWithText(t.text.removeTextAtRange([b,b+1]))}):(d=a.text.getTextAtRange([0,u]),_=m.text.getTextAtRange([b,m.getLength()]),C=d.appendText(_),g=s!==v&&0===u,k=g&&a.getAttributeLevel()>=m.getAttributeLevel(),n=k?m.copyWithText(C):a.copyWithText(C),e=v+1-s,o=this.blockList.splice(s,e,n)),new this.constructor(o))},u.prototype.moveTextFromRangeToPosition=function(t,e){var n,r,o,a,l,u,c,d,h,p;if(u=t=i(t),h=u[0],o=u[1],e>=h&&o>=e)return this;if(r=this.getDocumentAtRange(t),d=this.removeTextAtRange(t),l=e>h,l&&(e-=r.getLength()),!d.firstBlockInRangeIsEntirelySelected(t)){if(c=r.getBlocks(),a=c[0],n=2<=c.length?s.call(c,1):[],0===n.length?(p=a.getTextWithoutBlockBreak(),l&&(e+=1)):p=a.text,d=d.insertTextAtRange(p,e),0===n.length)return d;r=new this.constructor(n),e+=p.getLength()}return d.insertDocumentAtRange(r,e)},u.prototype.addAttributeAtRange=function(t,e,i){var r;return r=this.blockList,this.eachBlockAtRange(i,function(i,o,a){return r=r.editObjectAtIndex(a,function(){return n(t)?i.addAttribute(t,e):o[0]===o[1]?i:i.copyWithText(i.text.addAttributeAtRange(t,e,o))})}),new this.constructor(r)},u.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock(function(i,r){return n=n.editObjectAtIndex(r,function(){return i.addAttribute(t,e)})}),new this.constructor(n)},u.prototype.removeAttributeAtRange=function(t,e){var i;return i=this.blockList,this.eachBlockAtRange(e,function(e,r,o){return n(t)?i=i.editObjectAtIndex(o,function(){return e.removeAttribute(t)}):r[0]!==r[1]?i=i.editObjectAtIndex(o,function(){return e.copyWithText(e.text.removeAttributeAtRange(t,r))}):void 0}),new this.constructor(i)},u.prototype.updateAttributesForAttachment=function(t,e){var n,i,r,o;return r=(i=this.getRangeOfAttachment(e))[0],n=this.locationFromPosition(r).index,o=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,function(n){return n.copyWithText(o.updateAttributesForAttachment(t,e))}))},u.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},u.prototype.insertBlockBreakAtRange=function(t){var n,r,o,a;return a=(t=i(t))[0],o=this.locationFromPosition(a).offset,r=this.removeTextAtRange(t),0===o&&(n=[new e.Block]),new this.constructor(r.blockList.insertSplittableListAtPosition(new e.SplittableList(n),a))},u.prototype.applyBlockAttributeAtRange=function(t,e,i){var r,o,a,s;return a=this.expandRangeToLineBreaksAndSplitBlocks(i),o=a.document,i=a.range,r=n(t),r.listAttribute?(o=o.removeLastListAttributeAtRange(i,{exceptAttributeName:t}),s=o.convertLineBreaksToBlockBreaksInRange(i),o=s.document,i=s.range):o=r.terminal?o.removeLastTerminalAttributeAtRange(i):o.consolidateBlocksAtRange(i),o.addAttributeAtRange(t,e,i)},u.prototype.removeLastListAttributeAtRange=function(t,e){var i;return null==e&&(e={}),i=this.blockList,this.eachBlockAtRange(t,function(t,r,o){var a;return(a=t.getLastAttribute())&&n(a).listAttribute&&a!==e.exceptAttributeName?i=i.editObjectAtIndex(o,function(){return t.removeAttribute(a)}):void 0}),new this.constructor(i)},u.prototype.removeLastTerminalAttributeAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,function(t,i,r){var o;return(o=t.getLastAttribute())&&n(o).terminal?e=e.editObjectAtIndex(r,function(){return t.removeAttribute(o)}):void 0}),new this.constructor(e)},u.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,n,r,o,a,s;return o=t=i(t),s=o[0],e=o[1],n=this.locationFromPosition(s),a=this.locationFromPosition(e),0===n.offset&&n.index<a.index?!0:n.index===a.index?(r=this.getBlockAtIndex(n.index).getLength(),0===n.offset&&a.offset===r):!1},u.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,r,o,a,s,l,u,c;return s=t=i(t),c=s[0],o=s[1],u=this.locationFromPosition(c),r=this.locationFromPosition(o),e=this,l=e.getBlockAtIndex(u.index),null!=(u.offset=l.findLineBreakInDirectionFromPosition("backward",u.offset))&&(a=e.positionFromLocation(u),e=e.insertBlockBreakAtRange([a,a+1]),r.index+=1,r.offset-=e.getBlockAtIndex(u.index).getLength(),u.index+=1),u.offset=0,0===r.offset&&r.index>u.index?(r.index-=1,r.offset=e.getBlockAtIndex(r.index).getBlockBreakPosition()):(n=e.getBlockAtIndex(r.index),"\n"===n.text.getStringAtRange([r.offset-1,r.offset])?r.offset-=1:r.offset=n.findLineBreakInDirectionFromPosition("forward",r.offset),r.offset!==n.getBlockBreakPosition()&&(a=e.positionFromLocation(r),e=e.insertBlockBreakAtRange([a,a+1]))),c=e.positionFromLocation(u),o=e.positionFromLocation(r),t=i([c,o]),{document:e,range:t}},u.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,r;return n=(t=i(t))[0],r=this.getStringAtRange(t).slice(0,-1),e=this,r.replace(/.*?\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},u.prototype.consolidateBlocksAtRange=function(t){var e,n,r,o,a;return r=t=i(t),a=r[0],n=r[1],o=this.locationFromPosition(a).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,e))},u.prototype.getDocumentAtRange=function(t){var e;return t=i(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},u.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},u.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},u.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},u.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},u.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},u.prototype.getPieceAtPosition=function(t){var e,n,i;return i=this.locationFromPosition(t),e=i.index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},u.prototype.getCharacterAtPosition=function(t){var e,n,i;return i=this.locationFromPosition(t),e=i.index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},u.prototype.getLength=function(){return this.blockList.getEndPosition()},u.prototype.getBlocks=function(){return this.blockList.toArray()},u.prototype.getBlockCount=function(){return this.blockList.length},u.prototype.getEditCount=function(){return this.editCount},u.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},u.prototype.eachBlockAtRange=function(t,e){var n,r,o,a,s,l,u,c,d,h,p,f;if(l=t=i(t),p=l[0],o=l[1],h=this.locationFromPosition(p),r=this.locationFromPosition(o),h.index===r.index)return n=this.getBlockAtIndex(h.index),f=[h.offset,r.offset],e(n,f,h.index);for(d=[],s=a=u=h.index,c=r.index;c>=u?c>=a:a>=c;s=c>=u?++a:--a)(n=this.getBlockAtIndex(s))?(f=function(){switch(s){case h.index:return[h.offset,n.text.getLength()];case r.index:return[0,r.offset];default:return[0,n.text.getLength()]}}(),d.push(e(n,f,s))):d.push(void 0);return d},u.prototype.getCommonAttributesAtRange=function(t){var n,o,a;return o=(t=i(t))[0],r(t)?this.getCommonAttributesAtPosition(o):(a=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(a.push(t.text.getCommonAttributesAtRange(e)),n.push(c(t))):void 0}),e.Hash.fromCommonAttributesOfObjects(a).merge(e.Hash.fromCommonAttributesOfObjects(n)).toObject())},u.prototype.getCommonAttributesAtPosition=function(t){var n,i,r,o,a,s,u,d,h,p;if(h=this.locationFromPosition(t),a=h.index,d=h.offset,r=this.getBlockAtIndex(a),!r)return{};o=c(r),n=r.text.getAttributesAtPosition(d),i=r.text.getAttributesAtPosition(d-1),s=function(){var t,n;t=e.config.textAttributes,n=[];for(u in t)p=t[u],p.inheritable&&n.push(u);return n}();for(u in i)p=i[u],(p===n[u]||l.call(s,u)>=0)&&(o[u]=p);return o},u.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,r,o,a,s,l,u,c,d;return s=this.locationFromPosition(e),o=s.index,a=s.offset,d=this.getTextAtIndex(o),l=d.getExpandedRangeForAttributeAtOffset(t,a),c=l[0],r=l[1],u=this.positionFromLocation({index:o,offset:c}),n=this.positionFromLocation({index:o,offset:r}),i([u,n])},u.prototype.getBaseBlockAttributes=function(){var t,e,n,i,r,o,a;for(t=this.getBlockAtIndex(0).getAttributes(),n=i=1,a=this.getBlockCount();a>=1?a>i:i>a;n=a>=1?++i:--i)e=this.getBlockAtIndex(n).getAttributes(),o=Math.min(t.length,e.length),t=function(){var n,i,a;for(a=[],r=n=0,i=o;(i>=0?i>n:n>i)&&e[r]===t[r];r=i>=0?++n:--n)a.push(e[r]);return a}();return t},c=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},u.prototype.getAttachmentById=function(t){var e,n,i,r;for(r=this.getAttachments(),n=0,i=r.length;i>n;n++)if(e=r[n],e.id===t)return e},u.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject(function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())}),t},u.prototype.getAttachments=function(){var t,e,n,i,r;for(i=this.getAttachmentPieces(),r=[],t=0,e=i.length;e>t;t++)n=i[t],r.push(n.attachment);return r},u.prototype.getRangeOfAttachment=function(t){var e,n,r,o,a,s,l;for(o=0,a=this.blockList.toArray(),n=e=0,r=a.length;r>e;n=++e){if(s=a[n].text,l=s.getRangeOfAttachment(t))return i([o+l[0],o+l[1]]);o+=s.getLength()}},u.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},u.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,r;for(r=this.getAttachmentPieces(),e=0,n=r.length;n>e;e++)if(i=r[e],i.attachment===t)return i},u.prototype.locationFromPosition=function(t){var e,n;return n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t)),null!=n.index?n:(e=this.getBlocks(),{index:e.length-1,offset:e[e.length-1].getLength()})},u.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},u.prototype.locationRangeFromPosition=function(t){return i(this.locationFromPosition(t))},u.prototype.locationRangeFromRange=function(t){var e,n,r,o;return(t=i(t))?(o=t[0],n=t[1],r=this.locationFromPosition(o),e=this.locationFromPosition(n),i([r,e])):void 0},u.prototype.rangeFromLocationRange=function(t){var e,n;return t=i(t),e=this.positionFromLocation(t[0]),r(t)||(n=this.positionFromLocation(t[1])),i([e,n])},u.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},u.prototype.getTexts=function(){var t,e,n,i,r;for(i=this.getBlocks(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.text);return r},u.prototype.getPieces=function(){var t,e,n,i,r;for(n=[],i=this.getTexts(),t=0,e=i.length;e>t;t++)r=i[t],n.push.apply(n,r.getPieces());return n},u.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},u.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject(function(e){return t.push(e.copyWithText(e.text.toSerializableText()))}),new this.constructor(t)},u.prototype.toString=function(){return this.blockList.toString()},u.prototype.toJSON=function(){return this.blockList.toJSON()},u.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,i,r;for(i=this.blockList.toArray(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(JSON.parse(t.text.toConsole()));return r}.call(this))},u}(e.Object)}.call(this),function(){e.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var t,n,i,r,o,a,s,l,u,c,d=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=e.normalizeRange,u=e.rangesAreEqual,l=e.rangeIsCollapsed,s=e.objectsAreEqual,t=e.arrayStartsWith,c=e.summarizeArrayChange,i=e.getAllAttributeNames,r=e.getBlockConfig,o=e.getTextConfig,n=e.extend,e.Composition=function(h){function p(){this.document=new e.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var f;return d(p,h),p.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},p.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},p.prototype.loadSnapshot=function(t){var n,i,r,o;return n=t.document,o=t.selectedRange,null!=(i=this.delegate)&&"function"==typeof i.compositionWillLoadSnapshot&&i.compositionWillLoadSnapshot(),this.setDocument(null!=n?n:new e.Document),this.setSelection(null!=o?o:[0,0]),null!=(r=this.delegate)&&"function"==typeof r.compositionDidLoadSnapshot?r.compositionDidLoadSnapshot():void 0},p.prototype.insertText=function(t,e){var n,i,r,o;return o=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),r=i[0],n=r+t.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.insertBlock=function(t){var n;return null==t&&(t=new e.Block),n=new e.Document([t]),this.insertDocument(n)},p.prototype.insertDocument=function(t){var n,i,r;return null==t&&(t=new e.Document),i=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,i)),r=i[0],n=r+t.getLength(),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.insertString=function(t,n){var i,r;return i=this.getCurrentTextAttributes(),r=e.Text.textForStringWithAttributes(t,i),this.insertText(r,n)},p.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),n=e[0],t=n+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},p.prototype.insertLineBreak=function(){var t,n;return n=new e.LineBreakInsertion(this),n.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(n.startPosition)):n.shouldPrependListItem()?(t=new e.Document([n.block.copyWithoutText()]),this.insertDocument(t)):n.shouldInsertBlockBreak()?this.insertBlockBreak():n.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():n.shouldBreakFormattedBlock()?this.breakFormattedBlock(n):this.insertString("\n")},p.prototype.insertHTML=function(t){var n,i,r,o,a;return a=this.getPosition(),o=this.document.getLength(),n=e.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(n,this.getSelectedRange())),i=this.document.getLength(),r=a+(i-o),this.setSelection(r),this.notifyDelegateOfInsertionAtRange([r,r])},p.prototype.replaceHTML=function(t){var n,i,r;return n=e.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i),this.setDocument(n),this.setSelection(r)},p.prototype.insertFile=function(t){var n,i;return(null!=(i=this.delegate)?i.compositionShouldAcceptFile(t):void 0)?(n=e.Attachment.attachmentForFile(t),this.insertAttachment(n)):void 0},p.prototype.insertFiles=function(t){var n,i,r,o,a,s,l;for(l=new e.Text,o=0,a=t.length;a>o;o++)r=t[o],(null!=(s=this.delegate)?s.compositionShouldAcceptFile(r):void 0)&&(n=e.Attachment.attachmentForFile(r),i=e.Text.textForAttachmentWithAttributes(n,this.currentAttributes),l=l.appendText(i));return this.insertText(l)},p.prototype.insertAttachment=function(t){var n;return n=e.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(n)},p.prototype.deleteInDirection=function(t){var e,n,i,r,o,a,s;return r=this.getLocationRange(),o=this.getSelectedRange(),a=l(o),a?i="backward"===t&&0===r[0].offset:s=r[0].index!==r[1].index,i&&this.canDecreaseBlockAttributeLevel()&&(n=this.getBlock(),n.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(o[0]),n.isEmpty())?!1:(a&&(o=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(o))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(o)),this.setSelection(o[0]),i||s?!1:void 0))},p.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},p.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},p.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return n=this.getSelectedRange(),i=n[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)},f=" ",p.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(f)},p.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+f.length]),this.getSelectedRange()):void 0},p.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},p.prototype.hasCurrentAttribute=function(t){var e;return e=this.currentAttributes[t],null!=e&&e!==!1},p.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},p.prototype.canSetCurrentAttribute=function(t){return r(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},p.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},p.prototype.canSetCurrentBlockAttribute=function(){var t;return(t=this.getBlock())?!t.isTerminalBlock():void 0},p.prototype.setCurrentAttribute=function(t,e){return r(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},p.prototype.setTextAttribute=function(t,n){var i,r,o,a;return(r=this.getSelectedRange())?(o=r[0],i=r[1],o!==i?this.setDocument(this.document.addAttributeAtRange(t,n,r)):"href"===t?(a=e.Text.textForStringWithAttributes(n,{href:n}),this.insertText(a)):void 0):void 0},p.prototype.setBlockAttribute=function(t,e){var n,i;return(i=this.getSelectedRange())&&this.canSetCurrentAttribute(t)?(n=this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)):void 0},p.prototype.removeCurrentAttribute=function(t){return r(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},p.prototype.removeTextAttribute=function(t){var e;return(e=this.getSelectedRange())?this.setDocument(this.document.removeAttributeAtRange(t,e)):void 0},p.prototype.removeBlockAttribute=function(t){var e;return(e=this.getSelectedRange())?this.setDocument(this.document.removeAttributeAtRange(t,e)):void 0},p.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},p.prototype.canIncreaseNestingLevel=function(){var e,n,i;return(e=this.getBlock())?(null!=(i=r(e.getLastNestableAttribute()))?i.listAttribute:0)?(n=this.getPreviousBlock())?t(n.getListItemAttributes(),e.getListItemAttributes()):void 0:e.getNestingLevel()>0:void 0},p.prototype.decreaseNestingLevel=function(){var t;return(t=this.getBlock())?this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel())):void 0},p.prototype.increaseNestingLevel=function(){var t;return(t=this.getBlock())?this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel())):void 0},p.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},p.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},p.prototype.decreaseListLevel=function(){var t,e,n,i,r,o;for(o=this.getSelectedRange()[0],r=this.document.locationFromPosition(o).index,n=r,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return o=this.document.positionFromLocation({index:r,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,i]))},p.prototype.updateCurrentAttributes=function(){var t,e,n,r,o,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),o=i(),n=0,r=o.length;r>n;n++)t=o[n],e[t]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!s(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},p.prototype.getCurrentAttributes=function(){return n.call({},this.currentAttributes)},p.prototype.getCurrentTextAttributes=function(){var t,e,n,i;t={},n=this.currentAttributes;for(e in n)i=n[e],o(e)&&(t[e]=i);return t},p.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},p.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},p.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},p.proxyMethod("getSelectionManager().getPointRange"),p.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),p.proxyMethod("getSelectionManager().locationIsCursorTarget"),p.proxyMethod("getSelectionManager().selectionIsExpanded"),p.proxyMethod("delegate?.getSelectionManager"),p.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},p.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},p.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},p.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},p.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:a({index:0,offset:0})},p.prototype.getExpandedRangeInDirection=function(t){var e,n,i;return n=this.getSelectedRange(),i=n[0],e=n[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):e=this.translateUTF16PositionFromOffset(e,1),a([i,e])},p.prototype.moveCursorInDirection=function(t){var e,n,i,r;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(r=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!u(r,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},p.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},p.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},p.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},p.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,i,r,o;if(o=this.getSelectedRange()){for(r=this.document.getDocumentAtRange(o).getAttachments(),n=0,i=r.length;i>n;n++)if(e=r[n],e.hasAttribute(t))return!0;return!1}},p.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},p.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},p.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},p.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},p.prototype.getAttachments=function(){return this.attachments.slice(0)},p.prototype.refreshAttachments=function(){var t,e,n,i,r,o,a,s,l,u,d,h;for(n=this.document.getAttachments(),s=c(this.attachments,n),
t=s.added,d=s.removed,this.attachments=n,i=0,o=d.length;o>i;i++)e=d[i],e.delegate=null,null!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(e);for(h=[],r=0,a=t.length;a>r;r++)e=t[r],e.delegate=this,h.push(null!=(u=this.delegate)&&"function"==typeof u.compositionDidAddAttachment?u.compositionDidAddAttachment(e):void 0);return h},p.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},p.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},p.prototype.editAttachment=function(t){var e;return t!==this.editingAttachment?(this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0):void 0},p.prototype.stopEditingAttachment=function(){var t;return this.editingAttachment?(null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null):void 0},p.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},p.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},p.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},p.prototype.breakFormattedBlock=function(t){var n,i,r,o,a;return i=t.document,n=t.block,o=t.startPosition,a=[o-1,o],n.getBlockBreakPosition()===t.startLocation.offset?(n.breaksOnReturn()&&"\n"===t.nextCharacter?o+=1:i=i.removeTextAtRange(a),a=[o,o]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?a=[o-1,o+1]:(a=[o,o+1],o+=1):t.startLocation.offset-1!==0&&(o+=1),r=new e.Document([n.removeLastAttribute().copyWithoutText()]),this.setDocument(i.insertDocumentAtRange(r,a)),this.setSelection(o)},p.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index,t>0)?this.document.getBlockAtIndex(t-1):void 0},p.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},p.prototype.getAttachmentAtRange=function(t){var n;return n=this.document.getDocumentAtRange(t),n.toString()===e.OBJECT_REPLACEMENT_CHARACTER+"\n"?n.getAttachments()[0]:void 0},p.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},p.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},p.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return i=this.document.toUTF16String(),n=i.offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},p}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var i;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,r,o,a,s;return a=null!=e?e:{},r=a.context,n=a.consolidatable,o=this.undoEntries.slice(-1)[0],n&&i(o,t,r)?void 0:(s=this.createEntry({description:t,context:r}),this.undoEntries.push(s),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,i;return i=null!=t?t:{},n=i.description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},i=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(e.BasicObject)}.call(this),function(){e.Editor=function(){function t(t,n,i){this.composition=t,this.selectionManager=n,this.element=i,this.undoManager=new e.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(e.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var n,i;return n=t.document,i=t.selectedRange,n=e.Document.fromJSON(n),this.loadSnapshot({document:n,selectedRange:i})},t.prototype.loadSnapshot=function(t){return this.undoManager=new e.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,i,r;return r=null!=e?e:{},i=r.context,n=r.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(e.BasicObject)}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.AttachmentManager=function(n){function i(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;i>n;n++)e=t[n],this.manageAttachment(e)}return t(i,n),i.prototype.getAttachments=function(){var t,e,n,i;n=this.managedAttachments,i=[];for(e in n)t=n[e],i.push(t);return i},i.prototype.manageAttachment=function(t){var n,i;return null!=(n=this.managedAttachments)[i=t.id]?n[i]:n[i]=new e.ManagedAttachment(this,t)},i.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},i.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},i.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},i}(e.BasicObject)}.call(this),function(){var t,n,i,r,o,a,s,l,u,c,d;t=e.elementContainsNode,n=e.findChildIndexOfNode,o=e.nodeIsBlockStart,a=e.nodeIsBlockStartComment,r=e.nodeIsBlockContainer,s=e.nodeIsCursorTarget,l=e.nodeIsEmptyTextNode,u=e.nodeIsTextNode,i=e.nodeIsAttachmentElement,c=e.tagName,d=e.walkTree,e.LocationMapper=function(){function e(t){this.element=t}var h,p,f,g;return e.prototype.findLocationFromContainerAndOffset=function(e,i,r){var a,l,c,h,g,m,v;for(m=(null!=r?r:{strict:!0}).strict,l=0,c=!1,h={index:0,offset:0},(a=this.findAttachmentElementParentForNode(e))&&(e=a.parentNode,i=n(a)),v=d(this.element,{usingFilter:f});v.nextNode();){if(g=v.currentNode,g===e&&u(e)){s(g)||(h.offset+=i);break}if(g.parentNode===e){if(l++===i)break}else if(!t(e,g)&&l>0)break;o(g,{strict:m})?(c&&h.index++,h.offset=0,c=!0):h.offset+=p(g)}return h},e.prototype.findContainerAndOffsetFromLocation=function(t){var e,i,a,s,l,c;if(0===t.index&&0===t.offset){for(e=this.element,s=0;e.firstChild;)if(e=e.firstChild,r(e)){s=1;break}return[e,s]}if(l=this.findNodeAndOffsetFromLocation(t),i=l[0],a=l[1],i){if(u(i))e=i,c=i.textContent,s=t.offset-a;else{if(e=i.parentNode,!o(i.previousSibling)&&!r(e))for(;i===e.lastChild&&(i=e,e=e.parentNode,!r(e)););s=n(i),0!==t.offset&&s++}return[e,s]}},e.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,r,o,a,l,c;for(l=0,c=this.getSignificantNodesForIndex(t.index),n=0,i=c.length;i>n;n++){if(e=c[n],r=p(e),t.offset<=l+r)if(u(e)){if(o=e,a=l,t.offset===a&&s(o))break}else o||(o=e,a=l);if(l+=r,l>t.offset)break}return[o,a]},e.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(i(t))return t;t=t.parentNode}},e.prototype.getSignificantNodesForIndex=function(t){var e,n,i,r,o;for(i=[],o=d(this.element,{usingFilter:h}),r=!1;o.nextNode();)if(n=o.currentNode,a(n)){if("undefined"!=typeof e&&null!==e?e++:e=0,e===t)r=!0;else if(r)break}else r&&i.push(n);return i},p=function(t){var e;return t.nodeType===Node.TEXT_NODE?s(t)?0:(e=t.textContent,e.length):"br"===c(t)||i(t)?1:0},h=function(t){return g(t)===NodeFilter.FILTER_ACCEPT?f(t):NodeFilter.FILTER_REJECT},g=function(t){return l(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f=function(t){return i(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e}()}.call(this),function(){var t,n,i=[].slice;t=e.getDOMRange,n=e.setDOMRange,e.PointMapper=function(){function e(){}return e.prototype.createDOMRangeFromPoint=function(e){var i,r,o,a,s,l,u,c;if(u=e.x,c=e.y,document.caretPositionFromPoint)return s=document.caretPositionFromPoint(u,c),o=s.offsetNode,r=s.offset,i=document.createRange(),i.setStart(o,r),i;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(u,c);if(document.body.createTextRange){a=t();try{l=document.body.createTextRange(),l.moveToPoint(u,c),l.select()}catch(d){}return i=t(),n(a),i}},e.prototype.getClientRectsForDOMRange=function(t){var e,n,r;return n=i.call(t.getClientRects()),r=n[0],e=n[n.length-1],[r,e]},e}()}.call(this),function(){var t,n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=e.getDOMRange,e.SelectionChangeObserver=function(e){function r(){this.run=n(this.run,this),this.update=n(this.update,this),this.selectionManagers=[]}var a;return i(r,e),r.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},r.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},r.prototype.registerSelectionManager=function(t){return o.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},r.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,i,r,o;for(r=this.selectionManagers,o=[],n=0,i=r.length;i>n;n++)e=r[n],e!==t&&o.push(e);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},r.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,r;for(n=this.selectionManagers,i=[],t=0,e=n.length;e>t;t++)r=n[t],i.push(r.selectionDidChange());return i},r.prototype.update=function(){var e;return e=t(),a(e,this.domRange)?void 0:(this.domRange=e,this.notifySelectionManagersOfSelectionChange())},r.prototype.reset=function(){return this.domRange=null,this.update()},r.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},a=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},r}(e.BasicObject),null==e.selectionChangeObserver&&(e.selectionChangeObserver=new e.SelectionChangeObserver)}.call(this),function(){var t,n,i,r,o,a,s,l,u,c,d=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;i=e.getDOMSelection,n=e.getDOMRange,c=e.setDOMRange,t=e.elementContainsNode,a=e.nodeIsCursorTarget,o=e.innerElementIsActive,r=e.handleEvent,s=e.normalizeRange,l=e.rangeIsCollapsed,u=e.rangesAreEqual,e.SelectionManager=function(p){function f(t){this.element=t,this.selectionDidChange=d(this.selectionDidChange,this),this.didMouseDown=d(this.didMouseDown,this),this.locationMapper=new e.LocationMapper(this.element),this.pointMapper=new e.PointMapper,this.lockCount=0,r("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return h(f,p),f.prototype.getLocationRange=function(t){var e,i;return null==t&&(t={}),e=t.strict===!1?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(i=this.lockedLocationRange)?i:this.currentLocationRange},f.prototype.setLocationRange=function(t){var e;return this.lockedLocationRange?void 0:(t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(c(e),this.updateCurrentLocationRange(t)):void 0)},f.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=s(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},f.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},f.prototype.locationIsCursorTarget=function(t){var e,n,i;return i=this.findNodeAndOffsetFromLocation(t),e=i[0],n=i[1],a(e)},f.prototype.lock=function(){return 0===this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var t;return 0===--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},f.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var t;return(null!=(t=n())?t.collapsed:void 0)===!0},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),f.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),f.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),f.proxyMethod("pointMapper.createDOMRangeFromPoint"),f.proxyMethod("pointMapper.getClientRectsForDOMRange"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var e,n,i,o;return this.paused=!0,n=function(e){return function(){var n,r,a;for(e.paused=!1,clearTimeout(o),r=0,a=i.length;a>r;r++)n=i[r],n.destroy();return t(document,e.element)?e.selectionDidChange():void 0}}(this),o=setTimeout(n,200),i=function(){var t,i,o,a;for(o=["mousemove","keydown"],a=[],t=0,i=o.length;i>t;t++)e=o[t],a.push(r(e,{onElement:document,withCallback:n}));return a}()},f.prototype.selectionDidChange=function(){return this.paused||o(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!u(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,r;return i=this.findContainerAndOffsetFromLocation(t[0]),n=l(t)?i:null!=(r=this.findContainerAndOffsetFromLocation(t[1]))?r:i,null!=i&&null!=n?(e=document.createRange(),e.setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},f.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;return null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e))?(t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),s([i,n])):void 0},f.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},f.prototype.domRangeWithinElement=function(e){return e.collapsed?t(this.element,e.startContainer):t(this.element,e.startContainer)&&t(this.element,e.endContainer)},f}(e.BasicObject)}.call(this),function(){var t,n,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,a=[].slice;n=e.rangeIsCollapsed,i=e.rangesAreEqual,t=e.objectsAreEqual,e.EditorController=function(o){function s(t){var n,i;this.editorElement=t.editorElement,n=t.document,i=t.html,this.selectionManager=new e.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new e.Composition,this.composition.delegate=this,this.attachmentManager=new e.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new e.InputController(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new e.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new e.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new e.Editor(this.composition,this.selectionManager,this.editorElement),null!=n?this.editor.loadDocument(n):this.editor.loadHTML(i)}return r(s,o),s.prototype.registerSelectionManager=function(){return e.selectionChangeObserver.registerSelectionManager(this.selectionManager)},s.prototype.unregisterSelectionManager=function(){return e.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},s.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},s.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},s.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},s.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},s.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},s.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e}),this.editorElement.notify("change")},s.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.editorElement.notify("change")},s.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},s.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},s.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},s.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},s.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},s.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},s.prototype.getSelectionManager=function(){return this.selectionManager},s.proxyMethod("getSelectionManager().setLocationRange"),s.proxyMethod("getSelectionManager().getLocationRange"),s.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},s.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},s.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.editorElement.notify("render")),this.renderedCompositionRevision=this.composition.revision},s.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},s.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},s.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},s.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},s.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},s.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},s.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},s.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},s.prototype.inputControllerDidAllowUnhandledInput=function(){return this.editorElement.notify("change")},s.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},s.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},s.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},s.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},s.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e})},s.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},s.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},s.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},s.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},s.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},s.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},s.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},s.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},s.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},s.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},s.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},s.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},s.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},s.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},s.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},s.prototype.canInvokeAction=function(t){var e,n;return this.actionIsExternal(t)?!0:!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},s.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},s.prototype.actionIsExternal=function(t){return/^x-./.test(t)},s.prototype.getCurrentActions=function(){var t,e;e={};for(t in this.actions)e[t]=this.canInvokeAction(t);return e},s.prototype.updateCurrentActions=function(){var e;return e=this.getCurrentActions(),t(e,this.currentActions)?void 0:(this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},s.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},
s.prototype.render=function(){return this.compositionController.render()},s.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},s.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},s.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},s.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},s.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?t[0].index:t},s.prototype.getTimeContext=function(){return e.config.undoInterval>0?Math.floor((new Date).getTime()/e.config.undoInterval):0},s.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},s}(e.Controller)}.call(this),function(){var t,n,i,r,o,a;r=e.makeElement,o=e.selectionElements,a=e.triggerEvent,n=e.handleEvent,i=e.handleEventOnce,t=e.AttachmentView.attachmentSelector,e.registerElement("trix-editor",function(){var s,l,u,c,d,h;return c=0,s=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},d=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),i("focus",{onElement:t,withCallback:function(){return l(t)}}))},l=function(t){return u(t),h(t)},u=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),n("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},h=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&(t=e.config.blockAttributes["default"].tagName,"div"===t||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+e.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+o.selector+" { "+o.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++c),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=r("trix-toolbar",{id:n}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=r("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,n){var i;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(i=this.inputElement)&&(i.value=e.serializeToContentType(this,"text/html"))}return this.editorController?a("trix-"+t,{onElement:this,attributes:n}):void 0},createdCallback:function(){return d(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new e.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),s(this),requestAnimationFrame(function(t){return function(){return t.notify("initialize")}}(this)))},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),/*! angular-trix - v1.0.0 - 2015-12-09
* https://github.com/sachinchoolur/angular-trix
* Copyright (c) 2015 Sachin; Licensed MIT */
function(){"use strict";angular.module("angularTrix",[]).directive("angularTrix",function(){return{restrict:"A",require:"ngModel",scope:{trixInitialize:"&",trixChange:"&",trixSelectionChange:"&",trixFocus:"&",trixBlur:"&",trixFileAccept:"&",trixAttachmentAdd:"&",trixAttachmentRemove:"&"},link:function(t,e,n,i){e.on("trix-initialize",function(){i.$modelValue&&e[0].editor.loadHTML(i.$modelValue)}),i.$render=function(){e[0].editor&&e[0].editor.loadHTML(i.$modelValue),e.on("trix-change",function(){i.$setViewValue(e.html())})};var r=function(i,r){e[0].addEventListener(i,function(o){"trix-file-accept"===i&&"true"===n.preventTrixFileAccept&&o.preventDefault(),t[r]({e:o,editor:e[0].editor})})};r("trix-initialize","trixInitialize"),r("trix-change","trixChange"),r("trix-selection-change","trixSelectionChange"),r("trix-focus","trixFocus"),r("trix-blur","trixBlur"),r("trix-file-accept","trixFileAccept"),r("trix-attachment-add","trixAttachmentAdd"),r("trix-attachment-remove","trixAttachmentRemove")}}})}(),/*! angularjs-slider - v6.1.1 - 
 (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - 
 https://github.com/angular-slider/angularjs-slider - 
 2017-03-29 */
function(t,e){"use strict";if("function"==typeof define&&define.amd)define(["angular"],e);else if("object"==typeof module&&module.exports){var n=angular||require("angular");n&&n.module||"undefined"==typeof angular||(n=angular),module.exports=e(n)}else e(t.angular)}(this,function(t){"use strict";var e=t.module("rzModule",[]).factory("RzSliderOptions",function(){var e={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},n={},i={};return i.options=function(e){t.extend(n,e)},i.getOptions=function(i){return t.extend({},e,n,i)},i}).factory("rzThrottle",["$timeout",function(t){return function(e,n,i){var r,o,a,s=Date.now||function(){return(new Date).getTime()},l=null,u=0;i=i||{};var c=function(){u=s(),l=null,a=e.apply(r,o),r=o=null};return function(){var d=s(),h=n-(d-u);return r=this,o=arguments,0>=h?(t.cancel(l),l=null,u=d,a=e.apply(r,o),r=o=null):l||i.trailing===!1||(l=t(c,h)),a}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(e,n,i,r,o,a){var s=function(t,e){this.scope=t,this.lowValue=0,this.highValue=0,this.sliderElem=e,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return s.prototype={init:function(){var e,n,r=this,o=function(){r.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",o),t.element(i).on("resize",o),this.initHasRun=!0,e=a(function(){r.onLowHandleChange()},r.options.interval),n=a(function(){r.onHighHandleChange()},r.options.interval),this.scope.$on("rzSliderForceRender",function(){r.resetLabelsValue(),e(),r.range&&n(),r.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(t,e){t!==e&&(r.applyOptions(),r.syncLowValue(),r.range&&r.syncHighValue(),r.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(t,n){r.internalChange||t!==n&&e()}),this.scope.$watch("rzSliderHigh",function(t,e){r.internalChange||t!==e&&(null!=t&&n(),(r.range&&null==t||!r.range&&null!=t)&&(r.applyOptions(),r.resetSlider()))}),this.scope.$on("$destroy",function(){r.unbindEvents(),t.element(i).off("resize",o),r.currentFocusElement=null})},findStepIndex:function(e){for(var n=0,i=0;i<this.options.stepsArray.length;i++){var r=this.options.stepsArray[i];if(r===e){n=i;break}if(t.isDate(r)){if(r.getTime()===e.getTime()){n=i;break}}else if(t.isObject(r)&&(t.isDate(r.value)&&r.value.getTime()===e.getTime()||r.value===e)){n=i;break}}return n},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(e){var n=this.options.stepsArray[e];return t.isDate(n)?n:t.isObject(n)?n.value:n},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var e;e=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=o.getOptions(e),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(t.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return String(t)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return this.options.bindIndexForStepsArray?this.getStepValue(t):t},this.getLegend=function(e){var n=this.options.stepsArray[e];return t.isObject(n)?n.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){t.forEach(this.sliderElem.children(),function(e,n){var i=t.element(e);switch(n){case 0:this.fullBar=i;break;case 1:this.selBar=i;break;case 2:this.minH=i;break;case 3:this.maxH=i;break;case 4:this.flrLab=i;break;case 5:this.ceilLab=i;break;case 6:this.minLab=i;break;case 7:this.maxLab=i;break;case 8:this.cmbLab=i;break;case 9:this.ticks=i}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var t=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,t||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(t,e){t.rzAlwaysHide=e,e?this.hideEl(t):this.showEl(t)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(t,e,n,i){i=void 0===i?!0:i;var r="",o=!1,a=e.hasClass("no-label-injection");i?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),r=String(this.customTrFn(t,this.options.id,n))):r=String(t),(void 0===e.rzsv||e.rzsv.length!==r.length||e.rzsv.length>0&&0===e.rzsd)&&(o=!0,e.rzsv=r),a||e.html(r),this.scope[n+"Label"]=r,o&&this.getDimension(e)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var t=this.getDimension(this.minH);if(this.handleHalfDim=t/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-t,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var n=this;e(function(){n.updateTicksScale()})}},updateTicksScale:function(){if(this.options.showTicks){var t=this.options.ticksArray||this.getTicksArray(),e=this.options.vertical?"translateY":"translateX",n=this;this.options.rightToLeft&&t.reverse(),this.scope.ticks=t.map(function(t){var i=n.valueToPosition(t);n.options.vertical&&(i=n.maxPos-i);var r=e+"("+Math.round(i)+"px)",o={selected:n.isTickSelected(t),style:{"-webkit-transform":r,"-moz-transform":r,"-o-transform":r,"-ms-transform":r,transform:r}};if(o.selected&&n.options.getSelectionBarColor&&(o.style["background-color"]=n.getSelectionBarColor()),!o.selected&&n.options.getTickColor&&(o.style["background-color"]=n.getTickColor(t)),n.options.ticksTooltip&&(o.tooltip=n.options.ticksTooltip(t),o.tooltipPlacement=n.options.vertical?"right":"top"),n.options.showTicksValues&&(o.value=n.getDisplayValue(t,"tick-value"),n.options.ticksValuesTooltip&&(o.valueTooltip=n.options.ticksValuesTooltip(t),o.valueTooltipPlacement=n.options.vertical?"right":"top")),n.getLegend){var a=n.getLegend(t,n.options.id);a&&(o.legend=a)}return o})}},getTicksArray:function(){var t=this.step,e=[];this.intermediateTicks&&(t=this.options.showTicks);for(var n=this.minValue;n<=this.maxValue;n+=t)e.push(n);return e},isTickSelected:function(t){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue;if(this.lowValue>e&&t>=e&&t<=this.lowValue)return!0;if(this.lowValue<e&&e>=t&&t>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(t>=this.lowValue)return!0}else if(this.options.showSelectionBar&&t<=this.lowValue)return!0;return this.range&&t>=this.lowValue&&t<=this.highValue?!0:!1},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var t=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,t)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var t=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,t)},updateHandles:function(t,e){"lowValue"===t?this.updateLowHandle(e):this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(t,e){var n=this[t].rzsd,i=e-n/2+this.handleHalfDim,r=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===t||!this.options.rightToLeft&&"maxLab"===t?Math.min(i,r):Math.min(Math.max(i,0),r):i},updateLowHandle:function(t){if(this.setPosition(this.minH,t),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",t)),this.options.getPointerColor){var e=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:e}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(t){if(this.setPosition(this.maxH,t),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",t)),this.options.getPointerColor){var e=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:e}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var t=!1,e=!1,n=this.isLabelBelowFloorLab(this.minLab),i=this.isLabelAboveCeilLab(this.minLab),r=this.isLabelAboveCeilLab(this.maxLab),o=this.isLabelBelowFloorLab(this.cmbLab),a=this.isLabelAboveCeilLab(this.cmbLab);if(n?(t=!0,this.hideEl(this.flrLab)):(t=!1,this.showEl(this.flrLab)),i?(e=!0,this.hideEl(this.ceilLab)):(e=!1,this.showEl(this.ceilLab)),this.range){var s=this.cmbLabelShown?a:r,l=this.cmbLabelShown?o:n;s?this.hideEl(this.ceilLab):e||this.showEl(this.ceilLab),l?this.hideEl(this.flrLab):t||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(t){var e=this.options.rightToLeft,n=t.rzsp,i=t.rzsd,r=this.flrLab.rzsp,o=this.flrLab.rzsd;return e?n+i>=r-2:r+o+2>=n},isLabelAboveCeilLab:function(t){var e=this.options.rightToLeft,n=t.rzsp,i=t.rzsd,r=this.ceilLab.rzsp,o=this.ceilLab.rzsd;return e?r+o+2>=n:n+i>=r-2},updateSelectionBar:function(){var t=0,e=0,n=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,i=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)e=Math.abs(this.maxH.rzsp-this.minH.rzsp),t=i;else if(null!==this.options.showSelectionBarFromValue){var r=this.options.showSelectionBarFromValue,o=this.valueToPosition(r),a=this.options.rightToLeft?this.lowValue<=r:this.lowValue>r;a?(e=this.minH.rzsp-o,t=o+this.handleHalfDim):(e=o-this.minH.rzsp,t=this.minH.rzsp+this.handleHalfDim)}else n?(e=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,t=this.minH.rzsp+this.handleHalfDim):(e=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,t=0);if(this.setDimension(this.selBar,e),this.setPosition(this.selBar,t),this.options.getSelectionBarColor){var s=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:s}}else if(this.options.selectionBarGradient){var l=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,u=l-t>0^n,c=this.options.vertical?u?"bottom":"top":u?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+c+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(l+e+t+(u?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=l-t+(u?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(t){return"max"===t?this.options.getPointerColor(this.scope.rzSliderHigh,t):this.options.getPointerColor(this.scope.rzSliderModel,t)},getTickColor:function(t){return this.options.getTickColor(t)},updateCmbLabel:function(){var t=null;if(t=this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var e=this.getDisplayValue(this.lowValue,"model"),n=this.getDisplayValue(this.highValue,"high"),i="";i=this.options.mergeRangeLabelsIfSame&&e===n?e:this.options.rightToLeft?n+" - "+e:e+" - "+n,this.translateFn(i,this.cmbLab,"cmb",!1);var r=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,r),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(t,e){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.customTrFn(t,this.options.id,e)},roundStep:function(t,e){var n=e?e:this.step,i=parseFloat((t-this.minValue)/n).toPrecision(12);i=Math.round(+i)*n;var r=(this.minValue+i).toFixed(this.precision);return+r},hideEl:function(t){return t.css({visibility:"hidden"})},showEl:function(t){return t.rzAlwaysHide?t:t.css({visibility:"visible"})},setPosition:function(t,e){t.rzsp=e;var n={};return n[this.positionProperty]=Math.round(e)+"px",t.css(n),e},getDimension:function(t){var e=t[0].getBoundingClientRect();return this.options.vertical?t.rzsd=(e.bottom-e.top)*this.options.scale:t.rzsd=(e.right-e.left)*this.options.scale,t.rzsd},setDimension:function(t,e){t.rzsd=e;var n={};return n[this.dimensionProperty]=Math.round(e)+"px",t.css(n),e},sanitizeValue:function(t){return Math.min(Math.max(t,this.minValue),this.maxValue)},valueToPosition:function(t){var e=this.linearValueToPosition;this.options.customValueToPosition?e=this.options.customValueToPosition:this.options.logScale&&(e=this.logValueToPosition),t=this.sanitizeValue(t);var n=e(t,this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(n=1-n),n*this.maxPos},linearValueToPosition:function(t,e,n){var i=n-e;return(t-e)/i},logValueToPosition:function(t,e,n){t=Math.log(t),e=Math.log(e),n=Math.log(n);var i=n-e;return(t-e)/i},positionToValue:function(t){var e=t/this.maxPos;this.options.rightToLeft&&(e=1-e);var n=this.linearPositionToValue;return this.options.customPositionToValue?n=this.options.customPositionToValue:this.options.logScale&&(n=this.logPositionToValue),n(e,this.minValue,this.maxValue)||0},linearPositionToValue:function(t,e,n){return t*(n-e)+e},logPositionToValue:function(t,e,n){e=Math.log(e),n=Math.log(n);var i=t*(n-e)+e;return Math.exp(i)},getEventXY:function(t){var e=this.options.vertical?"clientY":"clientX";return void 0!==t[e]?t[e]:void 0===t.originalEvent?t.touches[0][e]:t.originalEvent.touches[0][e]},getEventPosition:function(t){var e=this.sliderElem.rzsp,n=0;return n=this.options.vertical?-this.getEventXY(t)+e:this.getEventXY(t)-e,n*this.options.scale-this.handleHalfDim},getEventNames:function(t){var e={moveEvent:"",endEvent:""};return t.touches||void 0!==t.originalEvent&&t.originalEvent.touches?(e.moveEvent="touchmove",e.endEvent="touchend"):(e.moveEvent="mousemove",e.endEvent="mouseup"),e},getNearestHandle:function(t){if(!this.range)return this.minH;var e=this.getEventPosition(t),n=Math.abs(e-this.minH.rzsp),i=Math.abs(e-this.maxH.rzsp);return i>n?this.minH:n>i?this.maxH:this.options.rightToLeft?e>this.minH.rzsp?this.minH:this.maxH:e<this.minH.rzsp?this.minH:this.maxH},focusElement:function(t){var e=0;t[e].focus()},bindEvents:function(){var e,n,i;this.options.draggableRange?(e="rzSliderDrag",n=this.onDragStart,i=this.onDragMove):(e="lowValue",n=this.onStart,i=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",t.bind(this,n,null,e)),this.selBar.on("mousedown",t.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",t.bind(this,n,null,e)),this.maxH.on("mousedown",t.bind(this,n,null,e))):(this.minH.on("mousedown",t.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",t.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",t.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",t.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",t.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",t.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",t.bind(this,n,null,e)),this.selBar.on("touchstart",t.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",t.bind(this,n,null,e)),this.maxH.on("touchstart",t.bind(this,n,null,e))):(this.minH.on("touchstart",t.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",t.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",t.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",t.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",t.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",t.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",t.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",t.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(e,i,r){var o,a,s=this.getEventNames(r);r.stopPropagation(),r.preventDefault(),this.calcViewDimensions(),e?this.tracking=i:(e=this.getNearestHandle(r),this.tracking=e===this.minH?"lowValue":"highValue"),e.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(e),o=t.bind(this,this.dragging.active?this.onDragMove:this.onMove,e),a=t.bind(this,this.onEnd,o),n.on(s.moveEvent,o),n.one(s.endEvent,a),this.callOnStart()},onMove:function(e,n,i){var r,o=this.getEventPosition(n),a=this.options.rightToLeft?this.minValue:this.maxValue,s=this.options.rightToLeft?this.maxValue:this.minValue;0>=o?r=s:o>=this.maxPos?r=a:(r=this.positionToValue(o),r=i&&t.isNumber(this.options.showTicks)?this.roundStep(r,this.options.showTicks):this.roundStep(r)),this.positionTrackingHandle(r)},onEnd:function(t,e){var i=this.getEventNames(e).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,n.off(i,t),this.callOnEnd()},onTickClick:function(t,e){this.onMove(t,e,!0)},onPointerFocus:function(e,n){this.tracking=n,e.one("blur",t.bind(this,this.onPointerBlur,e)),e.on("keydown",t.bind(this,this.onKeyboardEvent)),e.on("keyup",t.bind(this,this.onKeyUp)),this.firstKeyDown=!0,e.addClass("rz-active"),this.currentFocusElement={pointer:e,ref:n}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(t){t.off("keydown"),t.off("keyup"),this.tracking="",t.removeClass("rz-active"),this.currentFocusElement=null},getKeyActions:function(t){var e=t+this.step,n=t-this.step,i=t+this.valueRange/10,r=t-this.valueRange/10,o={UP:e,DOWN:n,LEFT:n,RIGHT:e,PAGEUP:i,PAGEDOWN:r,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(o.LEFT=e,o.RIGHT=n,this.options.vertical&&(o.UP=n,o.DOWN=e)),o},onKeyboardEvent:function(t){var n=this[this.tracking],i=t.keyCode||t.which,r={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},o=this.getKeyActions(n),a=r[i],s=o[a];if(null!=s&&""!==this.tracking){t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var l=this;e(function(){var t=l.roundStep(l.sanitizeValue(s));if(l.options.draggableRangeOnly){var e,n,i=l.highValue-l.lowValue;"lowValue"===l.tracking?(e=t,n=t+i,n>l.maxValue&&(n=l.maxValue,e=n-i)):(n=t,e=t-i,e<l.minValue&&(e=l.minValue,n=e+i)),l.positionTrackingBar(e,n)}else l.positionTrackingHandle(t)})}},onDragStart:function(t,e,n){var i=this.getEventPosition(n);this.dragging={active:!0,value:this.positionToValue(i),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-i:i-this.minH.rzsp,highLimit:this.options.rightToLeft?i-this.maxH.rzsp:this.maxH.rzsp-i},this.onStart(t,e,n)},getValue:function(t,e,n,i){var r=this.options.rightToLeft,o=null;return o="min"===t?n?i?r?this.minValue:this.maxValue-this.dragging.difference:r?this.maxValue-this.dragging.difference:this.minValue:r?this.positionToValue(e+this.dragging.lowLimit):this.positionToValue(e-this.dragging.lowLimit):n?i?r?this.minValue+this.dragging.difference:this.maxValue:r?this.maxValue:this.minValue+this.dragging.difference:r?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)},onDragMove:function(t,e){var n,i,r,o,a,s,l,u,c=this.getEventPosition(e);if(this.options.rightToLeft?(r=this.dragging.lowLimit,o=this.dragging.highLimit,l=this.maxH,u=this.minH):(r=this.dragging.highLimit,o=this.dragging.lowLimit,l=this.minH,u=this.maxH),a=o>=c,s=c>=this.maxPos-r,a){if(0===l.rzsp)return;n=this.getValue("min",c,!0,!1),i=this.getValue("max",c,!0,!1)}else if(s){if(u.rzsp===this.maxPos)return;i=this.getValue("max",c,!0,!0),n=this.getValue("min",c,!0,!0)}else n=this.getValue("min",c,!1),i=this.getValue("max",c,!1);this.positionTrackingBar(n,i)},positionTrackingBar:function(t,e){null!=this.options.minLimit&&t<this.options.minLimit&&(t=this.options.minLimit,e=t+this.dragging.difference),null!=this.options.maxLimit&&e>this.options.maxLimit&&(e=this.options.maxLimit,t=e-this.dragging.difference),this.lowValue=t,this.highValue=e,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(t)),this.updateHandles("highValue",this.valueToPosition(e))},positionTrackingHandle:function(t){var e=!1;t=this.applyMinMaxLimit(t),this.range&&(this.options.pushRange?(t=this.applyPushRange(t),e=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&t>this.highValue?t=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&t<this.lowValue&&(t=this.applyMinMaxRange(this.lowValue))),t=this.applyMinMaxRange(t),"lowValue"===this.tracking&&t>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),e=!0):"highValue"===this.tracking&&t<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),e=!0))),this[this.tracking]!==t&&(this[this.tracking]=t,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(t)),this.updateAriaAttributes(),e=!0),e&&this.applyModel(!0)},applyMinMaxLimit:function(t){return null!=this.options.minLimit&&t<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&t>this.options.maxLimit?this.options.maxLimit:t},applyMinMaxRange:function(t){var e="lowValue"===this.tracking?this.highValue:this.lowValue,n=Math.abs(t-e);return null!=this.options.minRange&&n<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&n>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:t},applyPushRange:function(t){var e="lowValue"===this.tracking?this.highValue-t:t-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step,i=this.options.maxRange;return n>e?("lowValue"===this.tracking?(this.highValue=Math.min(t+n,this.maxValue),t=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(t-n,this.minValue),t=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==i&&e>i&&("lowValue"===this.tracking?(this.highValue=t+i,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=t-i,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),t},applyModel:function(t){this.internalChange=!0,this.scope.$apply(),t&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){t.options.onStart(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e);
})}},callOnChange:function(){if(this.options.onChange){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){t.options.onChange(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)})}},callOnEnd:function(){if(this.options.onEnd){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){t.options.onEnd(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)})}this.scope.$emit("slideEnded")}},s}]).directive("rzslider",["RzSlider",function(t){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(t,e){return e.rzSliderTplUrl||"rzSliderTpl.html"},link:function(e,n){e.slider=new t(e,n)}}}]);return e.run(["$templateCache",function(t){t.put("rzSliderTpl.html",'<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),e.name}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function i(i){function r(t){u.notify&&u.notify(t),c.progressFunc&&n(function(){c.progressFunc(t)})}function s(t){return null!=i._start&&a?{loaded:t.loaded+i._start,total:i._file&&i._file.size||t.total,type:t.type,config:i,lengthComputable:!0,target:t.target}:t}function l(){t(i).then(function(t){if(a&&i._chunkSize&&!i._finished&&i._file){var e=i._file&&i._file.size||0;r({loaded:Math.min(i._end,e),total:e,config:i,type:"progress"}),o.upload(i,!0)}else i._finished&&delete i._finished,u.resolve(t)},function(t){u.reject(t)},function(t){u.notify(t)})}i.method=i.method||"POST",i.headers=i.headers||{};var u=i._deferred=i._deferred||e.defer(),c=u.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r(s(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r(s(t)))},!1))}}),a?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?t.get(i.resumeSizeUrl).then(function(t){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(t.data):i._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):i.resumeSize?i.resumeSize().then(function(t){i._start=t,i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,i)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,i)}),c},c.progress=function(t){return c.progressFunc=t,c.then(null,null,function(e){t(e)}),c},c.abort=c.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),c},c.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(c,arguments),t.apply(c,arguments)}}(i.xhrFn),c},o.promisesCount++,c["finally"]&&c["finally"]instanceof Function&&c["finally"](function(){o.promisesCount--}),c}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&a){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var i=e.slice(t._start,t._end||e.size);return i.name=e.name,i.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),i}return e}function s(e,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))e.append(r,i);else if(o.isFile(i)){var a=n(i,e),l=r.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),r=l[0]),t._fileKey=t._fileKey||r,e.append(r,a,a.ngfName||a.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+r;i.$$ngfCircularDetection=!0;try{for(var u in i)if(i.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==t.objectKey?"[i]":t.objectKey;i.length&&parseInt(u)>-1&&(c=null==t.arrayKey?c:t.arrayKey),s(e,i[u],r+c.replace(/[ik]/g,u))}}finally{delete i.$$ngfCircularDetection}}else e.append(r,i)}function l(){t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n,i=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(n in e)if(e.hasOwnProperty(n)){var r=e[n];t.formDataAppender?t.formDataAppender(i,n,r):s(i,r,n)}return i})}return e||(t=r(t)),t._isDigested||(t._isDigested=!0,l()),i(t)},this.http=function(e){return e=r(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,i(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var i=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),r=t.headers("content-type")||"image/WebP",o=new window.Blob([e],{type:r}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),i.resolve(o)},function(t){i.reject(t)}),i.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,i,r){function o(t,e,n){var r=[l.emptyPromise()];return angular.forEach(t,function(i,o){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",e,n,{$file:i})&&r.push(l.happyPromise(l.applyExifRotation(i),i).then(function(e){t.splice(o,1,e)}))}),i.all(r)}function a(t,e,n,r){var o=l.attrGetter("ngfResize",e,n);if(!o||!l.isResizeSupported()||!t.length)return l.emptyPromise();if(o instanceof Function){var a=i.defer();return o(t).then(function(i){s(i,t,e,n,r).then(function(t){a.resolve(t)},function(t){a.reject(t)})},function(t){a.reject(t)})}return s(o,t,e,n,r)}function s(t,e,n,r,o){function a(i,a){if(0===i.type.indexOf("image")){if(t.pattern&&!l.validatePattern(i,t.pattern))return;t.resizeIf=function(t,e){return l.attrGetter("ngfResizeIf",n,r,{$width:t,$height:e,$file:i})};var u=l.resize(i,t);s.push(u),u.then(function(t){e.splice(a,1,t)},function(t){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(t?(t.message?t.message:t)+": ":"")+(i&&i.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,e)})}}for(var s=[l.emptyPromise()],u=0;u<e.length;u++)a(e[u],u);return i.all(s)}var l=r;return l.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=l.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(e,n,i,r){var o=this.getAttrWithDefaults(n,e);if(!i)return o;try{return r?t(o)(i,r):t(o)(i)}catch(a){if(e.search(/min|max|pattern/i))return o;throw a}},l.shouldUpdateOn=function(t,e,n){var i=l.attrGetter("ngfModelOptions",e,n);return i&&i.updateOn?i.updateOn.split(" ").indexOf(t)>-1:!0},l.emptyPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},l.rejectPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},l.happyPromise=function(t,n){var r=i.defer();return t.then(function(t){r.resolve(t)},function(t){e(function(){throw t}),r.resolve(n)}),r.promise},l.updateModel=function(n,i,r,s,u,c,d){function h(o,a,u,d,h){i.$$ngfPrevValidFiles=o,i.$$ngfPrevInvalidFiles=a;var p=o&&o.length?o[0]:null,f=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(h?p:o)),s&&t(s)(r,{$files:o,$file:p,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:f,$event:c});var g=l.attrGetter("ngfModelInvalid",i);g&&e(function(){t(g).assign(r,h?f:a)}),e(function(){})}function p(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}function e(e){var n;for(n=0;n<v.length;n++)if(t(e,v[n]))return!0;for(n=0;n<y.length;n++)if(t(e,y[n]))return!0;return!1}if(u){m=[],b=[];for(var n=0;n<u.length;n++)e(u[n])?b.push(u[n]):m.push(u[n])}}function f(t){return angular.isArray(t)?t:[t]}function g(){function t(){e(function(){h(C?v.concat(_):_,C?y.concat(w):w,u,b,k)},S&&S.debounce?S.debounce.change||S.debounce:0)}var o=x?m:_;a(o,i,r,n).then(function(){x?l.validate(m,C?v.length:0,n,i,r).then(function(e){_=e.validsFiles,w=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<o.length;e++){var n=o[e];if("resize"===n.$error){var i=_.indexOf(n);i>-1&&(_.splice(i,1),w.push(n)),t()}}})}var m,v,y,b=[],w=[],_=[];v=i.$$ngfPrevValidFiles||[],y=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(v=f(n.$modelValue));var C=l.attrGetter("ngfKeep",i,r);m=(u||[]).slice(0),("distinct"===C||l.attrGetter("ngfKeepDistinct",i,r)===!0)&&p(i,r);var k=!C&&!l.attrGetter("ngfMultiple",i,r)&&!l.attrGetter("multiple",i);if(!C||m.length){l.attrGetter("ngfBeforeModelChange",i,r,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:m,$duplicateFiles:b,$event:c});var x=l.attrGetter("ngfValidateAfterResize",i,r),S=l.attrGetter("ngfModelOptions",i,r);l.validate(m,C?v.length:0,n,i,r).then(function(t){d?h(m,[],u,b,k):(S&&S.allowInvalid||x?_=m:(_=t.validFiles,w=t.invalidFiles),l.attrGetter("ngfFixOrientation",i,r)&&l.isExifSupported()?o(_,i,r).then(function(){g()}):g())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,i){function r(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}function o(t,e,n,i,o,s,l,u){function c(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return b("ngfChange")||b("ngfSelect")}function h(e){if(u.shouldUpdateOn("change",n,t)){var r=e.__files_||e.target&&e.target.files,o=[];if(!r)return;for(var a=0;a<r.length;a++)o.push(r[a]);u.updateModel(i,n,t,d(),o.length?o:null,e)}}function p(t,i){function r(e){t.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var o=0;o<e[0].attributes.length;o++){var a=e[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),w.push(n.$observe("id",r))):t.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function f(){if(c())return e;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(t,n),a.push({el:e,ref:n}),document.body.appendChild(n.append(t)[0]),t}function g(n){if(e.attr("disabled"))return!1;if(!b("ngfSelectDisabled",t)){var i=m(n);if(null!=i)return i;v(n);try{c()||document.body.contains(k[0])||(a.push({el:e,ref:k.parent()}),document.body.appendChild(k.parent()[0]),k.bind("change",h))}catch(o){}return r(navigator.userAgent)?setTimeout(function(){k[0].click()},0):k[0].click(),!1}}function m(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return C=e[0].clientX,_=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,i=e[0].clientY;if(Math.abs(n-C)>20||Math.abs(i-_)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}function v(e){u.shouldUpdateOn("click",n,t)&&k.val()&&(k.val(null),u.updateModel(i,n,t,d(),null,e,!0))}function y(t){if(k&&!k.attr("__ngf_ie10_Fix_")){if(!k[0].parentNode)return void(k=null);t.preventDefault(),t.stopPropagation(),k.unbind("click");var e=k.clone();return k.replaceWith(e),k=e,k.attr("__ngf_ie10_Fix_","true"),k.bind("change",h),k.bind("click",y),k[0].click(),!1}k.removeAttr("__ngf_ie10_Fix_")}var b=function(t,e){return u.attrGetter(t,n,e)};u.registerModelChangeValidator(i,n,t);var w=[];b("ngfMultiple")&&w.push(t.$watch(b("ngfMultiple"),function(){k.attr("multiple",b("ngfMultiple",t))})),b("ngfCapture")&&w.push(t.$watch(b("ngfCapture"),function(){k.attr("capture",b("ngfCapture",t))})),b("ngfAccept")&&w.push(t.$watch(b("ngfAccept"),function(){k.attr("accept",b("ngfAccept",t))})),w.push(n.$observe("accept",function(){k.attr("accept",b("accept"))}));var _=0,C=0,k=e;c()||(k=f()),k.bind("change",h),c()?e.bind("click",v):e.bind("click touchstart touchend",g),-1!==navigator.appVersion.indexOf("MSIE 10")&&k.bind("click",y),i&&i.$formatters.push(function(t){return(null==t||0===t.length)&&k.val()&&k.val(null),t}),t.$on("$destroy",function(){c()||k.parent().remove(),angular.forEach(w,function(t){t()})}),s(function(){for(var t=0;t<a.length;t++){var e=a[t];document.body.contains(e.el[0])||(a.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,k,h)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(r,a,s,l){o(r,a,s,l,t,e,n,i)}}}]),function(){function t(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}function e(e,n,i,r,o,a,s,l){function u(t){var a=e.attrGetter("ngfNoObjectUrl",o,i);e.dataUrl(t,a)["finally"](function(){n(function(){var e=(a?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;l?r.css("background-image","url('"+(e||"")+"')"):r.attr("src",e),e?r.removeClass("ng-hide"):r.addClass("ng-hide")})})}n(function(){var n=i.$watch(o[a],function(n){var c=s;if("ngfThumbnail"===a&&(c||(c={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===c.width&&window.getComputedStyle)){var d=getComputedStyle(r[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(c={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}return angular.isString(n)?(r.removeClass("ng-hide"),l?r.css("background-image","url('"+n+"')"):r.attr("src",n)):void(!n||!n.type||0!==n.type.search(t(r[0]))||l&&0!==n.type.indexOf("image")?r.addClass("ng-hide"):c&&e.isResizeSupported()?(c.resizeIf=function(t,r){return e.attrGetter("ngfResizeIf",o,i,{$width:t,$height:r,$file:n})},e.resize(n,c).then(function(t){u(t)},function(t){throw t})):u(n))});i.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var i=t;return i.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),r=0;return angular.forEach(t,function(n){i.dataUrl(n,!0)["finally"](function(){if(r++,r===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return i.dataUrl(t,!0)},i.dataUrl=function(t,r){if(!t)return i.emptyPromise(t,t);if(r&&null!=t.$ngfDataUrl||!r&&null!=t.$ngfBlobUrl)return i.emptyPromise(r?t.$ngfDataUrl:t.$ngfBlobUrl,t);var o=r?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(t)}catch(s){return void e(function(){t.$ngfBlobUrl="",a.reject()})}e(function(){if(t.$ngfBlobUrl=o,o){a.resolve(o,t),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:t.size}),i.blobUrlsTotalSize+=t.size||0;for(var e=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>e||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var l=new FileReader;l.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,a.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},l.onerror=function(){e(function(){t.$ngfDataUrl="",a.reject()})},l.readAsDataURL(t)}}else e(function(){t[r?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=r?t.$$ngfDataUrlPromise=a.promise:t.$$ngfBlobUrlPromise=a.promise,o["finally"](function(){delete t[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfSrc",t.attrGetter("ngfResize",o,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfBackground",t.attrGetter("ngfResize",o,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){var a=t.attrGetter("ngfSize",o,i);e(t,n,i,r,o,"ngfThumbnail",a,t.attrGetter("ngfAsBackground",o,i))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,i,r){if(angular.isString(n))return e.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?e.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){function i(t){var e="",n=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var r=t.split(",");if(r.length>1)for(var o=0;o<r.length;o++){var a=i(r[o]);a.regexp?(e+="("+a.regexp+")",o<r.length-1&&(e+="|")):n=n.concat(a.excludes)}else 0===t.indexOf("!")?n.push("^((?!"+i(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",e=e.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:n}}function r(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}var o=t;return o.validatePattern=function(t,e){if(!e)return!0;var n=i(e),r=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");r=null!=t.type&&o.test(t.type)||null!=t.name&&o.test(t.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");r=r&&(null==t.type||s.test(t.type))&&(null==t.name||s.test(t.name))}return r},o.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return e=n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},o.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(i){if(t.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),o.validate(r,0,t,e,n).then(function(){o.applyModelValidation(t,r)})}return i})},o.applyModelValidation=function(t,e){r(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},o.getValidationAttr=function(t,e,n,i,r){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,t,e,{$file:r});if(null==s&&(s=o.attrGetter("ngfValidate",t,e,{$file:r}))){var l=(i||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(t,n,i,r,a){function s(e,n,s){if(t){for(var l=t.length,u=null;l--;){var p=t[l];if(p){var f=o.getValidationAttr(r,a,e,n,p);null!=f&&(s(p,f,l)||(-1===c.indexOf(e)?(p.$error=e,(p.$errorMessages=p.$errorMessages||{})[e]=!0,p.$errorParam=f,-1===h.indexOf(p)&&h.push(p),d||t.splice(l,1),u=!1):t.splice(l,1)))}}null!==u&&i.$ngfValidations.push({name:e,valid:u})}}function l(n,s,l,p,f){function g(e,i,r){function o(o){if(o())if(-1===c.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===h.indexOf(i)&&h.push(i),!d){var a=t.indexOf(i);a>-1&&t.splice(a,1)}e.resolve(!1)}else{var s=t.indexOf(i);s>-1&&t.splice(s,1),e.resolve(!0)}else e.resolve(!0)}null!=r?p(i,r).then(function(t){o(function(){return!f(t,r)})},function(){o(function(){return u("ngfValidateForce",{$file:i})})}):e.resolve(!0)}var m=[o.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var i=e.defer();return m.push(i.promise),!l||null!=t.type&&0===t.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(t).then(function(e){g(i,t,u("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(t).then(function(e){g(i,t,u("ngfDuration",{$file:t,$duration:e}))},function(){i.resolve(!1)}):g(i,t,o.getValidationAttr(r,a,n,s,t))):void i.resolve(!0)}));var v=e.defer();return e.all(m).then(function(t){for(var e=!0,r=0;r<t.length;r++)if(!t[r]){e=!1;break}i.$ngfValidations.push({name:n,valid:e}),v.resolve(e)}),v.promise}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(t){t.valid=!0});var u=function(t,e){return o.attrGetter(t,r,a,e)},c=(o.attrGetter("ngfIgnoreInvalid",r,a)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",r,a);if(null==t||0===t.length)return o.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var h=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(t,e){return t.size+.1>=o.translateScalars(e)}),s("maxSize","size.max",function(t,e){return t.size-.1<=o.translateScalars(e)});var p=0;if(s("maxTotalSize",null,function(e,n){return p+=e.size,p>o.translateScalars(n)?(t.splice(0,t.length),!1):!0}),s("validateFn",null,function(t,e){return e===!0||null===e||""===e}),!t.length)return o.emptyPromise({validFiles:[],invalidFiles:h});var f=e.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(l("dimensions",null,/image/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(t.width/t.height-o.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=o.translateScalars(e)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=o.translateScalars(e)})),g.push(l("duration",null,/audio|video/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("validateAsyncFn",null,null,function(t,e){return e},function(t){return t===!0||null===t||""===t})),e.all(g).then(function(){if(d)for(var e=0;e<t.length;e++){var i=t[e];i.$error&&t.splice(e--,1)}d=!1,s("maxFiles",null,function(t,e,i){return e>n+i}),f.resolve({validFiles:t,invalidFiles:h})}),f.promise},o.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var i=e.defer();return n(function(){i.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),i.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var r=e.defer();return n(function(){return 0!==t.type.indexOf("image")?void r.reject("not image"):void o.dataUrl(t).then(function(e){function i(){var e=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),t.$ngfWidth=e,t.$ngfHeight=n,r.resolve({width:e,height:n})}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():l++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){r.reject("load error")})}),t.$ngfDimensionPromise=r.promise,t.$ngfDimensionPromise["finally"](function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},o.mediaDuration=function(t){if(t.$ngfDuration){var i=e.defer();return n(function(){i.resolve(t.$ngfDuration)}),i.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var r=e.defer();return n(function(){return 0!==t.type.indexOf("audio")&&0!==t.type.indexOf("video")?void r.reject("not media"):void o.dataUrl(t).then(function(e){function i(){var e=s[0].duration;t.$ngfDuration=e,s.remove(),r.resolve(e)}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?i():l>10?o():a())},1e3)}var s=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){r.reject("load error")})}),t.$ngfDurationPromise=r.promise,t.$ngfDurationPromise["finally"](function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t,i=function(t,e,n,i,r){var o=r?Math.max(n/t,i/e):Math.min(n/t,i/e);return{width:t*o,height:e*o,marginX:t*o-n,marginY:e*o-i}},r=function(t,r,o,a,s,l,u,c){var d=e.defer(),h=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var t=p.width,e=p.height;if(p.parentNode.removeChild(p),null!=c&&c(t,e)===!1)return void d.reject("resizeIf");try{if(l){var f=n.ratioToFloat(l),g=t/e;f>g?(r=t,o=r/f):(o=e,r=o*f)}r||(r=t),o||(o=e);var m=i(t,e,r,o,u);h.width=Math.min(m.width,r),h.height=Math.min(m.height,o);var v=h.getContext("2d");v.drawImage(p,Math.min(0,-m.marginX/2),Math.min(0,-m.marginY/2),m.width,m.height),d.resolve(h.toDataURL(s||"image/WebP",a||.934))}catch(y){d.reject(y)}},p.onerror=function(){p.parentNode.removeChild(p),d.reject()},p.src=t,d.promise};return n.dataUrltoBlob=function(t,e,n){for(var i=t.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:r});return l.name=e,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,i){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var o=e.defer();return n.dataUrl(t,!0).then(function(e){r(e,i.width,i.height,i.quality,i.type||t.type,i.ratio,i.centerCrop,i.resizeIf).then(function(r){if("image/jpeg"===t.type&&i.restoreExif!==!1)try{r=n.restoreExif(e,r)}catch(a){setTimeout(function(){throw a},1)}try{var s=n.dataUrltoBlob(r,t.name,t.size);o.resolve(s)}catch(a){o.reject(a)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},n}]),function(){function t(t,n,i,r,o,a,s,l,u,c){function d(){return n.attr("disabled")||y("ngfDropDisabled",t)}function h(e,n,i){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(o){}m(e.items,e.files,y("ngfAllowDir",t)!==!1,y("multiple")||y("ngfMultiple",t)).then(function(t){t.length?p(t,n):f(i,r).then(function(t){p(t,n)})})}}function p(e,n){l.updateModel(r,i,t,y("ngfChange")||y("ngfDrop"),e,n)}function f(e,n){if(!l.shouldUpdateOn(e,i,t)||"string"!=typeof n)return l.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){r.push(n)});var o=[],a=[];if(r.length){angular.forEach(r,function(t){o.push(l.urlToBlob(t).then(function(t){a.push(t)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(t){s.reject(t)}),s.promise}return l.emptyPromise()}function g(t,e,n,i){var r=y("ngfDragOverClass",t,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(C=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||y("ngfPattern",t,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}function m(e,n,r,o){function a(t,e){var n=c.defer();if(null!=t)if(t.isDirectory){var i=[l.emptyPromise()];if(h){var r={type:"directory"};r.name=r.path=(e||"")+t.name,p.push(r)}var o=t.createReader(),s=[],g=function(){o.readEntries(function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(s.slice(0),function(n){p.length<=u&&d>=f&&i.push(a(n,(e?e:"")+t.name+"/"))}),c.all(i).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(o){n.reject(o)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e?e:"")+t.name,h&&(t=l.rename(t,t.path)),p.push(t),f+=t.size,
n.resolve()}catch(i){n.reject(i)}},function(t){n.reject(t)});return n.promise}var u=l.getValidationAttr(i,t,"maxFiles");null==u&&(u=Number.MAX_VALUE);var d=l.getValidationAttr(i,t,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var h=y("ngfIncludeDir",t),p=[],f=0,g=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==s.location.protocol)for(var m=0;m<e.length;m++){if(e[m].webkitGetAsEntry&&e[m].webkitGetAsEntry()&&e[m].webkitGetAsEntry().isDirectory){var v=e[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&g.push(a(v))}else{var b=e[m].getAsFile();null!=b&&(p.push(b),f+=b.size)}if(p.length>u||f>d||!o&&p.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var _=n.item(w);if((_.type||_.size>0)&&(p.push(_),f+=_.size),p.length>u||f>d||!o&&p.length>0)break}var C=c.defer();return c.all(g).then(function(){if(o||h||!p.length)C.resolve(p);else{for(var t=0;p[t]&&"directory"===p[t].type;)t++;C.resolve([p[t]])}},function(t){C.reject(t)}),C.promise}var v=e(),y=function(t,e,n){return l.attrGetter(t,i,e,n)};if(y("dropAvailable")&&a(function(){t[y("dropAvailable")]?t[y("dropAvailable")].value=v:t[y("dropAvailable")]=v}),!v)return void(y("ngfHideOnDropNotAvailable",t)===!0&&n.css("display","none"));null==y("ngfSelect")&&l.registerModelChangeValidator(r,i,t);var b,w=null,_=o(y("ngfStopPropagation")),C=1;n[0].addEventListener("dragover",function(e){if(!d()&&l.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),_(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}a.cancel(w),b||(b="C",g(t,i,e,function(i){b=i,n.addClass(b),y("ngfDrag",t,{$isDragging:!0,$class:b,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!d()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),_(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!d()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),_(t)&&e.stopPropagation(),w=a(function(){b&&n.removeClass(b),b=null,y("ngfDrag",t,{$isDragging:!1,$event:e})},C||100))},!1),n[0].addEventListener("drop",function(e){!d()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),_(t)&&e.stopPropagation(),b&&n.removeClass(b),b=null,h(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!d()&&l.shouldUpdateOn("paste",i,t)&&h(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,r,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){t(s,l,u,c,e,n,i,r,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(r,o,a){if(e()){var s=t(i.attrGetter("ngfDropAvailable",a));n(function(){s(r),s.assign&&s.assign(r,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){function n(t,e,n,i){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,i);case 4:return t.transform(1,0,0,-1,0,i);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,i,0);case 7:return t.transform(0,-1,-1,0,i,n);case 8:return t.transform(0,-1,1,0,0,n)}}function i(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;i>r;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}var r=t;return r.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&r.isResizeSupported()},r.readOrientation=function(t){var n=e.defer(),i=new FileReader,r=t.slice?t.slice(0,65536):t;return i.readAsArrayBuffer(r),i.onerror=function(t){return n.reject(t)},i.onload=function(t){var e={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(e);for(var r=i.byteLength,o=2;r>o;){var a=i.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(e);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var l=i.getUint16(o,s);o+=2;for(var u=0;l>u;u++)if(274===i.getUint16(o+12*u,s)){var c=i.getUint16(o+12*u+8,s);return c>=2&&8>=c&&(i.setUint16(o+12*u+8,1,s),e.fixedArrayBuffer=t.target.result),e.orientation=c,n.resolve(e)}}else{if(65280!==(65280&a))break;o+=i.getUint16(o,!1)}}return n.resolve(e)},n.promise},r.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return r.emptyPromise(t);var o=e.defer();return r.readOrientation(t).then(function(e){return e.orientation<2||e.orientation>8?o.resolve(t):void r.dataUrl(t,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=e.orientation>4?l.height:l.width,s.height=e.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,e.orientation,l.width,l.height),a.drawImage(l,0,0);var u=s.toDataURL(t.type||"image/WebP",.934);u=r.restoreExif(i(e.fixedArrayBuffer),u);var c=r.dataUrltoBlob(u,t.name);o.resolve(c)}catch(d){return o.reject(d)}},l.onerror=function(){o.reject()},l.src=a},function(t){o.reject(t)})},function(t){o.reject(t)}),o.promise},r.restoreExif=function(t,e){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(t){var e,n,i,r,o,a="",s="",l="",u=0;do e=t[u++],n=t[u++],s=t[u++],i=e>>2,r=(3&e)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),e=n=s="",i=r=o=l="";while(u<t.length);return a},n.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},n.getExifArray=function(t){for(var e,n=0;n<t.length;n++)if(e=t[n],255===e[0]&225===e[1])return e;return[]},n.insertExif=function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=s.concat(e),s=s.concat(a)},n.slice2Segments=function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=256*t[e+2]+t[e+3],r=e+i+2,o=t.slice(e,r);n.push(o),e=r}if(e>t.length)break}return n},n.decode64=function(t){var e,n,i,r,o,a="",s="",l=0,u=[],c=/[^A-Za-z0-9\+\/\=]/g;c.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(t.charAt(l++)),r=this.KEY_STR.indexOf(t.charAt(l++)),o=this.KEY_STR.indexOf(t.charAt(l++)),s=this.KEY_STR.indexOf(t.charAt(l++)),e=i<<2|r>>4,n=(15&r)<<4|o>>2,a=(3&o)<<6|s,u.push(e),64!==o&&u.push(n),64!==s&&u.push(a),e=n=a="",i=r=o=s="";while(l<t.length);return u},n.restore(t,e)},r}]),function(){function t(t,e){window.XMLHttpRequest.prototype[t]=e(window.XMLHttpRequest.prototype[t])}function e(t,e,n){try{Object.defineProperty(t,e,{get:n})}catch(i){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(t){if(!t.__listeners){t.upload||(t.upload={}),t.__listeners=[];var e=t.upload.addEventListener;t.upload.addEventListener=function(n,i){t.__listeners[n]=i,e&&e.apply(this,arguments)}}};t("open",function(t){return function(e,i,r){n(this),this.__url=i;try{t.apply(this,[e,i,r])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,t.apply(this,[e,"_fix_for_ie_crossdomain__",r]))}}}),t("getResponseHeader",function(t){return function(e){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(e):null==t?null:t.apply(this,[e])}}),t("getAllResponseHeaders",function(t){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==t?null:t.apply(this)}}),t("abort",function(t){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==t?null:t.apply(this)}}),t("setRequestHeader",function(t){return function(e,i){if("__setXHR_"===e){n(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[e]=i,t.apply(this,arguments)}}),t("send",function(t){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],r={url:n.__url,jsonp:!1,cache:!0,complete:function(t,i){t&&angular.isString(t)&&-1!==t.indexOf("#2174")&&(t=null),n.__completed=!0,!t&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!t&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===t&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&e(n,"status",function(){return 0===i.status&&t&&"abort"!==t?500:i.status}),void 0!==i.statusText&&e(n,"statusText",function(){return i.statusText}),e(n,"readyState",function(){return 4}),void 0!==i.response&&e(n,"response",function(){return i.response});var r=i.responseText||(t&&0===i.status&&"abort"!==t?t:void 0);e(n,"responseText",function(){return r}),e(n,"response",function(){return r}),t&&e(n,"err",function(){return t}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(t){if(t.target=n,n.__listeners.progress&&n.__listeners.progress(t),n.__total=t.total,n.__loaded=t.loaded,t.total===t.loaded){var e=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},e.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};r.data={},r.files={};for(var o=0;o<i.data.length;o++){var a=i.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?r.files[a.key]=a.val:r.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)},1)}else{if(this.__origError)throw this.__origError;t.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(t,e,n){e.__isFileAPIBlobShim&&(e=e.data[0]),this.data.push({key:t,val:e,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(t){return{data:t,__isFileAPIBlobShim:!0}}}}(),function(){function t(t){return"input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase()}function e(){try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t)return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(t){var e=0,n=0;if(window.jQuery)return jQuery(t).offset();if(t.offsetParent)do e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;while(t);return{left:e,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=e(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,r,o,a,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(o=0;o<u.length;o++)if(s=u[o].src,a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),a>-1){r=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),l.setAttribute("src",i||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(i,r,o){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var e=r.parent();i.attr("disabled")?e&&e.removeClass("js-fileapi-wrapper"):(r.attr("__ngf_flash_")||(r.unbind("change"),r.unbind("click"),r.bind("change",function(t){s.apply(this,[t]),o.apply(this,[t])}),r.attr("__ngf_flash_","true")),e.addClass("js-fileapi-wrapper"),t(i)||(e.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),r.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",a);var s=function(t){for(var e=FileAPI.getFiles(t),n=0;n<e.length;n++)void 0===e[n].size&&(e[n].size=0),void 0===e[n].name&&(e[n].name="file"),void 0===e[n].type&&(e[n].type="undefined");t.target||(t.target={}),t.target.files=e,t.target.files!==e&&(t.__files_=e),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null}}},FileAPI.disableFileInput=function(t,e){e?t.removeClass("js-fileapi-wrapper"):t.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var t=this,e=!1;this.listeners={},this.addEventListener=function(e,n){t.listeners[e]=t.listeners[e]||[],t.listeners[e].push(n)},this.removeEventListener=function(e,n){t.listeners[e]&&t.listeners[e].splice(t.listeners[e].indexOf(n),1)},this.dispatchEvent=function(e){var n=t.listeners[e.type];if(n)for(var i=0;i<n.length;i++)n[i].call(t,e)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(e,n){var i={type:e,target:t,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){e||(e=!0,t.onloadstart&&t.onloadstart(n("loadstart",i)));var r;"load"===i.type?(t.onloadend&&t.onloadend(n("loadend",i)),r=n("load",i),t.onload&&t.onload(r),t.dispatchEvent(r)):"progress"===i.type?(r=n("progress",i),t.onprogress&&t.onprogress(r),t.dispatchEvent(r)):(r=n("error",i),t.onerror&&t.onerror(r),t.dispatchEvent(r))};this.readAsDataURL=function(t){FileAPI.readAsDataURL(t,i)},this.readAsText=function(t){FileAPI.readAsText(t,i)}}),function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var e=null;return e=t("debug"),this.$get=function(){return e},this.debug=e,this});var i=function(t,e){return function(){return t.apply(e,arguments)}},r=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(t){var e,n,o,a,s,l,u,c,d,h,p,f;for(p=t.debug,o={},a=["debug","info","warn","error","log"],e={},d=c=0,h=a.length;h>c;d=++c)f=a[d],e[f]=d;return l=function(t,e,n){return t>=e?n():void 0},s=function(t){var e,n,i;if(e=!1,!t)return e;for(n=0,i=a.length;i>n&&(f=a[n],e=null!=t[f]&&"function"==typeof t[f],e);n++);return e},u=function(t,e){var n,i,r,s;for(null==o[t]&&(o[t]=p(t)),n=o[t],s={},i=0,r=a.length;r>i;i++)f=a[i],s[f]="debug"===f?n:e[f];return s},n=function(){function t(t){var n,o,u,c,d;if(this.$log=t,this.spawn=i(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,d={},n=function(t){return function(n){return d[n]=function(){var i;return i=1<=arguments.length?r.call(arguments,0):[],t.doLog?l(e[n],t.currentLevel,function(){var e;return(e=t.$log)[n].apply(e,i)}):void 0},t[n]=d[n]}}(this),o=0,u=a.length;u>o;o++)c=a[o],n(c);this.LEVELS=e,this.currentLevel=e.error}return t.prototype.spawn=function(e){if("string"==typeof e){if(!s(this.$log))throw"@$log is invalid";if(!p)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return u(e,this.$log)}return new t(e||this.$log)},t}(),this.decorator=["$log",function(t){var i;return i=new n(t),i.currentLevel=e.debug,i}],this.$get=["$log",function(t){return new n(t)}],this}])},{debug:2}],2:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(e){}}function s(){var t;try{t=n.storage.debug}catch(e){}return t}function l(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=o,n.formatArgs=r,n.save=a,n.load=s,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":3}],3:[function(t,e,n){function i(){return n.colors[c++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,o=e-(u||e);t.diff=o,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,i){if("%%"===e)return e;s++;var r=n.formatters[i];if("function"==typeof r){var o=a[s];e=r.call(t,o),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var l=r.log||n.log||console.log.bind(console);l.apply(t,a)}e.enabled=!1,r.enabled=!0;var o=n.enabled(t)?r:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,r=0;i>r;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,i;for(e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:4}],4:[function(t,e,n){function i(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=l?Math.round(t/l)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return a(t,c,"day")||a(t,u,"hour")||a(t,l,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,d=365.25*c;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?o(t):r(t)}},{}]},{},[1]),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&b(t,e,0)>-1}function u(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function d(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function h(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function f(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Be)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function y(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function b(t,e,n){return e===e?G(t,e,n):y(t,_,n)}function w(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function _(t){return t!==t}function C(t,e){var n=null==t?0:t.length;return n?D(t,e)/n:Pt}function k(t){return function(e){return null==e?Q:e[t]}}function x(t){return function(e){return null==t?Q:t[e]}}function S(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function $(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function D(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Q&&(n=n===Q?o:n+o)}return n}function T(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function E(t,e){return c(e,function(e){return[e,t[e]]})}function A(t){return function(e){return t(e)}}function M(t,e){return c(e,function(e){return t[e]})}function P(t,e){return t.has(e)}function O(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function N(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function I(t){return"\\"+Jn[t]}function R(t,e){return null==t?Q:t[e]}function B(t){return jn.test(t)}function H(t){return Vn.test(t)}function F(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function j(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];(a===e||a===at)&&(t[n]=at,o[r++]=n)}return o}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function K(t){return B(t)?Z(t):fi(t)}function Y(t){return B(t)?J(t):g(t)}function Z(t){for(var e=Fn.lastIndex=0;Fn.test(t);)++e;return e}function J(t){return t.match(Fn)||[]}function X(t){return t.match(zn)||[]}var Q,tt="4.17.4",et=200,nt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",it="Expected a function",rt="__lodash_hash_undefined__",ot=500,at="__lodash_placeholder__",st=1,lt=2,ut=4,ct=1,dt=2,ht=1,pt=2,ft=4,gt=8,mt=16,vt=32,yt=64,bt=128,wt=256,_t=512,Ct=30,kt="...",xt=800,St=16,$t=1,Dt=2,Tt=3,Et=1/0,At=9007199254740991,Mt=1.7976931348623157e308,Pt=NaN,Ot=4294967295,Nt=Ot-1,Lt=Ot>>>1,It=[["ary",bt],["bind",ht],["bindKey",pt],["curry",gt],["curryRight",mt],["flip",_t],["partial",vt],["partialRight",yt],["rearg",wt]],Rt="[object Arguments]",Bt="[object Array]",Ht="[object AsyncFunction]",Ft="[object Boolean]",zt="[object Date]",jt="[object DOMException]",Vt="[object Error]",Ut="[object Function]",Wt="[object GeneratorFunction]",Gt="[object Map]",qt="[object Number]",Kt="[object Null]",Yt="[object Object]",Zt="[object Promise]",Jt="[object Proxy]",Xt="[object RegExp]",Qt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",ie="[object WeakMap]",re="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",le="[object Float64Array]",ue="[object Int8Array]",ce="[object Int16Array]",de="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",fe="[object Uint16Array]",ge="[object Uint32Array]",me=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,_e=RegExp(be.source),Ce=RegExp(we.source),ke=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Te=/^\./,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(Ae.source),Pe=/^\s+|\s+$/g,Oe=/^\s+/,Ne=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,Fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Ze="\\ud800-\\udfff",Je="\\u0300-\\u036f",Xe="\\ufe20-\\ufe2f",Qe="\\u20d0-\\u20ff",tn=Je+Xe+Qe,en="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",rn="\\xac\\xb1\\xd7\\xf7",on="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",sn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",un="\\ufe0e\\ufe0f",cn=rn+on+an+sn,dn="[']",hn="["+Ze+"]",pn="["+cn+"]",fn="["+tn+"]",gn="\\d+",mn="["+en+"]",vn="["+nn+"]",yn="[^"+Ze+cn+gn+en+nn+ln+"]",bn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+fn+"|"+bn+")",_n="[^"+Ze+"]",Cn="(?:\\ud83c[\\udde6-\\uddff]){2}",kn="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+ln+"]",Sn="\\u200d",$n="(?:"+vn+"|"+yn+")",Dn="(?:"+xn+"|"+yn+")",Tn="(?:"+dn+"(?:d|ll|m|re|s|t|ve))?",En="(?:"+dn+"(?:D|LL|M|RE|S|T|VE))?",An=wn+"?",Mn="["+un+"]?",Pn="(?:"+Sn+"(?:"+[_n,Cn,kn].join("|")+")"+Mn+An+")*",On="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Nn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ln=Mn+An+Pn,In="(?:"+[mn,Cn,kn].join("|")+")"+Ln,Rn="(?:"+[_n+fn+"?",fn,Cn,kn,hn].join("|")+")",Bn=RegExp(dn,"g"),Hn=RegExp(fn,"g"),Fn=RegExp(bn+"(?="+bn+")|"+Rn+Ln,"g"),zn=RegExp([xn+"?"+vn+"+"+Tn+"(?="+[pn,xn,"$"].join("|")+")",Dn+"+"+En+"(?="+[pn,xn+$n,"$"].join("|")+")",xn+"?"+$n+"+"+Tn,xn+"+"+En,Nn,On,gn,In].join("|"),"g"),jn=RegExp("["+Sn+Ze+tn+un+"]"),Vn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wn=-1,Gn={};Gn[se]=Gn[le]=Gn[ue]=Gn[ce]=Gn[de]=Gn[he]=Gn[pe]=Gn[fe]=Gn[ge]=!0,Gn[Rt]=Gn[Bt]=Gn[oe]=Gn[Ft]=Gn[ae]=Gn[zt]=Gn[Vt]=Gn[Ut]=Gn[Gt]=Gn[qt]=Gn[Yt]=Gn[Xt]=Gn[Qt]=Gn[te]=Gn[ie]=!1;var qn={};qn[Rt]=qn[Bt]=qn[oe]=qn[ae]=qn[Ft]=qn[zt]=qn[se]=qn[le]=qn[ue]=qn[ce]=qn[de]=qn[Gt]=qn[qt]=qn[Yt]=qn[Xt]=qn[Qt]=qn[te]=qn[ee]=qn[he]=qn[pe]=qn[fe]=qn[ge]=!0,qn[Vt]=qn[Ut]=qn[ie]=!1;var Kn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xn=parseFloat,Qn=parseInt,ti="object"==typeof global&&global&&global.Object===Object&&global,ei="object"==typeof self&&self&&self.Object===Object&&self,ni=ti||ei||Function("return this")(),ii="object"==typeof exports&&exports&&!exports.nodeType&&exports,ri=ii&&"object"==typeof module&&module&&!module.nodeType&&module,oi=ri&&ri.exports===ii,ai=oi&&ti.process,si=function(){try{return ai&&ai.binding&&ai.binding("util")}catch(t){}}(),li=si&&si.isArrayBuffer,ui=si&&si.isDate,ci=si&&si.isMap,di=si&&si.isRegExp,hi=si&&si.isSet,pi=si&&si.isTypedArray,fi=k("length"),gi=x(Kn),mi=x(Yn),vi=x(Zn),yi=function wi(g){function x(t){if(ul(t)&&!wh(t)&&!(t instanceof J)){if(t instanceof Z)return t;if(wc.call(t,"__wrapped__"))return aa(t)}return new Z(t)}function G(){}function Z(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Q}function J(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function Be(){var t=new J(this.__wrapped__);return t.__actions__=Fr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fr(this.__views__),t}function Ze(){if(this.__filtered__){var t=new J(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Je(){var t=this.__wrapped__.value(),e=this.__dir__,n=wh(t),i=0>e,r=n?t.length:0,o=Ao(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=Zc(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return _r(t,this.__actions__);var f=[];t:for(;l--&&p>h;){u+=e;for(var g=-1,m=t[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);
if(b==Dt)m=w;else if(!w){if(b==$t)continue t;break t}}f[h++]=m}return f}function Xe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Qe(){this.__data__=ad?ad(null):{},this.size=0}function tn(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function en(t){var e=this.__data__;if(ad){var n=e[t];return n===rt?Q:n}return wc.call(e,t)?e[t]:Q}function nn(t){var e=this.__data__;return ad?e[t]!==Q:wc.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ad&&e===Q?rt:e,this}function on(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function an(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=Pn(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Nc.call(e,n,1),--this.size,!0}function ln(t){var e=this.__data__,n=Pn(e,t);return 0>n?Q:e[n][1]}function un(t){return Pn(this.__data__,t)>-1}function cn(t,e){var n=this.__data__,i=Pn(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function hn(){this.size=0,this.__data__={hash:new Xe,map:new(nd||on),string:new Xe}}function pn(t){var e=$o(this,t)["delete"](t);return this.size-=e?1:0,e}function fn(t){return $o(this,t).get(t)}function gn(t){return $o(this,t).has(t)}function mn(t,e){var n=$o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new dn;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,rt),this}function bn(t){return this.__data__.has(t)}function wn(t){var e=this.__data__=new on(t);this.size=e.size}function _n(){this.__data__=new on,this.size=0}function Cn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function kn(t){return this.__data__.get(t)}function xn(t){return this.__data__.has(t)}function Sn(t,e){var n=this.__data__;if(n instanceof on){var i=n.__data__;if(!nd||i.length<et-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new dn(i)}return n.set(t,e),this.size=n.size,this}function $n(t,e){var n=wh(t),i=!n&&bh(t),r=!n&&!i&&Ch(t),o=!n&&!i&&!r&&Dh(t),a=n||i||r||o,s=a?T(t.length,pc):[],l=s.length;for(var u in t)!e&&!wc.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bo(u,l))||s.push(u);return s}function Dn(t){var e=t.length;return e?t[nr(0,e-1)]:Q}function Tn(t,e){return na(Fr(t),Fn(e,0,t.length))}function En(t){return na(Fr(t))}function An(t,e,n){(n!==Q&&!Ys(t[e],n)||n===Q&&!(e in t))&&In(t,e,n)}function Mn(t,e,n){var i=t[e];wc.call(t,e)&&Ys(i,n)&&(n!==Q||e in t)||In(t,e,n)}function Pn(t,e){for(var n=t.length;n--;)if(Ys(t[n][0],e))return n;return-1}function On(t,e,n,i){return yd(t,function(t,r,o){e(i,t,n(t),o)}),i}function Nn(t,e){return t&&zr(e,Ul(e),t)}function Ln(t,e){return t&&zr(e,Wl(e),t)}function In(t,e,n){"__proto__"==e&&Bc?Bc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Rn(t,e){for(var n=-1,i=e.length,r=ac(i),o=null==t;++n<i;)r[n]=o?Q:zl(t,e[n]);return r}function Fn(t,e,n){return t===t&&(n!==Q&&(t=n>=t?t:n),e!==Q&&(t=t>=e?t:e)),t}function zn(t,e,n,i,o,a){var s,l=e&st,u=e&lt,c=e&ut;if(n&&(s=o?n(t,i,o,a):n(t)),s!==Q)return s;if(!ll(t))return t;var d=wh(t);if(d){if(s=Oo(t),!l)return Fr(t,s)}else{var h=Ad(t),p=h==Ut||h==Wt;if(Ch(t))return Tr(t,l);if(h==Yt||h==Rt||p&&!o){if(s=u||p?{}:No(t),!l)return u?Vr(t,Ln(s,t)):jr(t,Nn(s,t))}else{if(!qn[h])return o?t:{};s=Lo(t,h,zn,l)}}a||(a=new wn);var f=a.get(t);if(f)return f;a.set(t,s);var g=c?u?Co:_o:u?Wl:Ul,m=d?Q:g(t);return r(m||t,function(i,r){m&&(r=i,i=t[r]),Mn(s,r,zn(i,e,n,r,t,a))}),s}function jn(t){var e=Ul(t);return function(n){return Vn(n,t,e)}}function Vn(t,e,n){var i=n.length;if(null==t)return!i;for(t=dc(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===Q&&!(r in t)||!o(a))return!1}return!0}function Kn(t,e,n){if("function"!=typeof t)throw new fc(it);return Od(function(){t.apply(Q,n)},e)}function Yn(t,e,n,i){var r=-1,o=l,a=!0,s=t.length,d=[],h=e.length;if(!s)return d;n&&(e=c(e,A(n))),i?(o=u,a=!1):e.length>=et&&(o=P,a=!1,e=new vn(e));t:for(;++r<s;){var p=t[r],f=null==n?p:n(p);if(p=i||0!==p?p:0,a&&f===f){for(var g=h;g--;)if(e[g]===f)continue t;d.push(p)}else o(e,f,i)||d.push(p)}return d}function Zn(t,e){var n=!0;return yd(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Jn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===Q?a===a&&!wl(a):n(a,s)))var s=a,l=o}return l}function ti(t,e,n,i){var r=t.length;for(n=$l(n),0>n&&(n=-n>r?0:r+n),i=i===Q||i>r?r:$l(i),0>i&&(i+=r),i=n>i?0:Dl(i);i>n;)t[n++]=e;return t}function ei(t,e){var n=[];return yd(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ii(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Ro),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ii(s,e-1,n,i,r):d(r,s):i||(r[r.length]=s)}return r}function ri(t,e){return t&&wd(t,e,Ul)}function ai(t,e){return t&&_d(t,e,Ul)}function si(t,e){return s(e,function(e){return ol(t[e])})}function fi(t,e){e=$r(e,t);for(var n=0,i=e.length;null!=t&&i>n;)t=t[ia(e[n++])];return n&&n==i?t:Q}function yi(t,e,n){var i=e(t);return wh(t)?i:d(i,n(t))}function _i(t){return null==t?t===Q?ne:Kt:Rc&&Rc in dc(t)?Eo(t):Zo(t)}function Ci(t,e){return t>e}function ki(t,e){return null!=t&&wc.call(t,e)}function xi(t,e){return null!=t&&e in dc(t)}function Si(t,e,n){return t>=Zc(e,n)&&t<Yc(e,n)}function $i(t,e,n){for(var i=n?u:l,r=t[0].length,o=t.length,a=o,s=ac(o),d=1/0,h=[];a--;){var p=t[a];a&&e&&(p=c(p,A(e))),d=Zc(p.length,d),s[a]=!n&&(e||r>=120&&p.length>=120)?new vn(a&&p):Q}p=t[0];var f=-1,g=s[0];t:for(;++f<r&&h.length<d;){var m=p[f],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?P(g,v):i(h,v,n))){for(a=o;--a;){var y=s[a];if(!(y?P(y,v):i(t[a],v,n)))continue t}g&&g.push(v),h.push(m)}}return h}function Di(t,e,n,i){return ri(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ti(t,e,i){e=$r(e,t),t=Xo(t,e);var r=null==t?t:t[ia(Sa(e))];return null==r?Q:n(r,t,i)}function Ei(t){return ul(t)&&_i(t)==Rt}function Ai(t){return ul(t)&&_i(t)==oe}function Mi(t){return ul(t)&&_i(t)==zt}function Pi(t,e,n,i,r){return t===e?!0:null==t||null==e||!ul(t)&&!ul(e)?t!==t&&e!==e:Oi(t,e,n,i,Pi,r)}function Oi(t,e,n,i,r,o){var a=wh(t),s=wh(e),l=a?Bt:Ad(t),u=s?Bt:Ad(e);l=l==Rt?Yt:l,u=u==Rt?Yt:u;var c=l==Yt,d=u==Yt,h=l==u;if(h&&Ch(t)){if(!Ch(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new wn),a||Dh(t)?vo(t,e,n,i,r,o):yo(t,e,l,n,i,r,o);if(!(n&ct)){var p=c&&wc.call(t,"__wrapped__"),f=d&&wc.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new wn),r(g,m,n,i,o)}}return h?(o||(o=new wn),bo(t,e,n,i,r,o)):!1}function Ni(t){return ul(t)&&Ad(t)==Gt}function Li(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=dc(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===Q&&!(l in t))return!1}else{var d=new wn;if(i)var h=i(u,c,l,t,e,d);if(!(h===Q?Pi(c,u,ct|dt,i,d):h))return!1}}return!0}function Ii(t){if(!ll(t)||Vo(t))return!1;var e=ol(t)?$c:Ue;return e.test(ra(t))}function Ri(t){return ul(t)&&_i(t)==Xt}function Bi(t){return ul(t)&&Ad(t)==Qt}function Hi(t){return ul(t)&&sl(t.length)&&!!Gn[_i(t)]}function Fi(t){return"function"==typeof t?t:null==t?Nu:"object"==typeof t?wh(t)?Gi(t[0],t[1]):Wi(t):ju(t)}function zi(t){if(!Uo(t))return Kc(t);var e=[];for(var n in dc(t))wc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ji(t){if(!ll(t))return Yo(t);var e=Uo(t),n=[];for(var i in t)("constructor"!=i||!e&&wc.call(t,i))&&n.push(i);return n}function Vi(t,e){return e>t}function Ui(t,e){var n=-1,i=Zs(t)?ac(t.length):[];return yd(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Wi(t){var e=Do(t);return 1==e.length&&e[0][2]?Go(e[0][0],e[0][1]):function(n){return n===t||Li(n,t,e)}}function Gi(t,e){return Fo(t)&&Wo(e)?Go(ia(t),e):function(n){var i=zl(n,t);return i===Q&&i===e?Vl(n,t):Pi(e,i,ct|dt)}}function qi(t,e,n,i,r){t!==e&&wd(e,function(o,a){if(ll(o))r||(r=new wn),Ki(t,e,a,n,qi,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):Q;s===Q&&(s=o),An(t,a,s)}},Wl)}function Ki(t,e,n,i,r,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)return void An(t,n,u);var c=o?o(s,l,n+"",t,e,a):Q,d=c===Q;if(d){var h=wh(l),p=!h&&Ch(l),f=!h&&!p&&Dh(l);c=l,h||p||f?wh(s)?c=s:Js(s)?c=Fr(s):p?(d=!1,c=Tr(l,!0)):f?(d=!1,c=Lr(l,!0)):c=[]:vl(l)||bh(l)?(c=s,bh(s)?c=El(s):(!ll(s)||i&&ol(s))&&(c=No(l))):d=!1}d&&(a.set(l,c),r(c,l,i,o,a),a["delete"](l)),An(t,n,c)}function Yi(t,e){var n=t.length;if(n)return e+=0>e?n:0,Bo(e,n)?t[e]:Q}function Zi(t,e,n){var i=-1;e=c(e.length?e:[Nu],A(So()));var r=Ui(t,function(t,n,r){var o=c(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return $(r,function(t,e){return Rr(t,e,n)})}function Ji(t,e){return Xi(t,e,function(e,n){return Vl(t,n)})}function Xi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=fi(t,a);n(s,a)&&lr(o,$r(a,t),s)}return o}function Qi(t){return function(e){return fi(e,t)}}function tr(t,e,n,i){var r=i?w:b,o=-1,a=e.length,s=t;for(t===e&&(e=Fr(e)),n&&(s=c(t,A(n)));++o<a;)for(var l=0,u=e[o],d=n?n(u):u;(l=r(s,d,l,i))>-1;)s!==t&&Nc.call(s,l,1),Nc.call(t,l,1);return t}function er(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Bo(r)?Nc.call(t,r,1):yr(t,r)}}return t}function nr(t,e){return t+Vc(Qc()*(e-t+1))}function ir(t,e,n,i){for(var r=-1,o=Yc(jc((e-t)/(n||1)),0),a=ac(o);o--;)a[i?o:++r]=t,t+=n;return a}function rr(t,e){var n="";if(!t||1>e||e>At)return n;do e%2&&(n+=t),e=Vc(e/2),e&&(t+=t);while(e);return n}function or(t,e){return Nd(Jo(t,e,Nu),t+"")}function ar(t){return Dn(iu(t))}function sr(t,e){var n=iu(t);return na(n,Fn(e,0,n.length))}function lr(t,e,n,i){if(!ll(t))return t;e=$r(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=ia(e[r]),u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):Q,u===Q&&(u=ll(c)?c:Bo(e[r+1])?[]:{})}Mn(s,l,u),s=s[l]}return t}function ur(t){return na(iu(t))}function cr(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=ac(r);++i<r;)o[i]=t[i+e];return o}function dr(t,e){var n;return yd(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function hr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&Lt>=r){for(;r>i;){var o=i+r>>>1,a=t[o];null!==a&&!wl(a)&&(n?e>=a:e>a)?i=o+1:r=o}return r}return pr(t,e,Nu,n)}function pr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,l=wl(e),u=e===Q;o>r;){var c=Vc((r+o)/2),d=n(t[c]),h=d!==Q,p=null===d,f=d===d,g=wl(d);if(a)var m=i||f;else m=u?f&&(i||h):s?f&&h&&(i||!p):l?f&&h&&!p&&(i||!g):p||g?!1:i?e>=d:e>d;m?r=c+1:o=c}return Zc(o,Nt)}function fr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ys(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function gr(t){return"number"==typeof t?t:wl(t)?Pt:+t}function mr(t){if("string"==typeof t)return t;if(wh(t))return c(t,mr)+"";if(wl(t))return md?md.call(t):"";var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function vr(t,e,n){var i=-1,r=l,o=t.length,a=!0,s=[],c=s;if(n)a=!1,r=u;else if(o>=et){var d=e?null:$d(t);if(d)return U(d);a=!1,r=P,c=new vn}else c=e?[]:s;t:for(;++i<o;){var h=t[i],p=e?e(h):h;if(h=n||0!==h?h:0,a&&p===p){for(var f=c.length;f--;)if(c[f]===p)continue t;e&&c.push(p),s.push(h)}else r(c,p,n)||(c!==s&&c.push(p),s.push(h))}return s}function yr(t,e){return e=$r(e,t),t=Xo(t,e),null==t||delete t[ia(Sa(e))]}function br(t,e,n,i){return lr(t,e,n(fi(t,e)),i)}function wr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?cr(t,i?0:o,i?o+1:r):cr(t,i?o+1:0,i?r:o)}function _r(t,e){var n=t;return n instanceof J&&(n=n.value()),h(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function Cr(t,e,n){var i=t.length;if(2>i)return i?vr(t[0]):[];for(var r=-1,o=ac(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Yn(o[r]||a,t[s],e,n));return vr(ii(o,1),e,n)}function kr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=o>i?e[i]:Q;n(a,t[i],s)}return a}function xr(t){return Js(t)?t:[]}function Sr(t){return"function"==typeof t?t:Nu}function $r(t,e){return wh(t)?t:Fo(t,e)?[t]:Ld(Ml(t))}function Dr(t,e,n){var i=t.length;return n=n===Q?i:n,!e&&n>=i?t:cr(t,e,n)}function Tr(t,e){if(e)return t.slice();var n=t.length,i=Ac?Ac(n):new t.constructor(n);return t.copy(i),i}function Er(t){var e=new t.constructor(t.byteLength);return new Ec(e).set(new Ec(t)),e}function Ar(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Mr(e,n,i){var r=n?i(z(e),st):z(e);return h(r,t,new e.constructor)}function Pr(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function Or(t,n,i){var r=n?i(U(t),st):U(t);return h(r,e,new t.constructor)}function Nr(t){return gd?dc(gd.call(t)):{}}function Lr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ir(t,e){if(t!==e){var n=t!==Q,i=null===t,r=t===t,o=wl(t),a=e!==Q,s=null===e,l=e===e,u=wl(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e>t||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function Rr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Ir(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function Br(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Yc(o-a,0),c=ac(l+u),d=!i;++s<l;)c[s]=e[s];for(;++r<a;)(d||o>r)&&(c[n[r]]=t[r]);for(;u--;)c[s++]=t[r++];return c}function Hr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=Yc(o-s,0),d=ac(c+u),h=!i;++r<c;)d[r]=t[r];for(var p=r;++l<u;)d[p+l]=e[l];for(;++a<s;)(h||o>r)&&(d[p+n[a]]=t[r++]);return d}function Fr(t,e){var n=-1,i=t.length;for(e||(e=ac(i));++n<i;)e[n]=t[n];return e}function zr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):Q;l===Q&&(l=t[s]),r?In(n,s,l):Mn(n,s,l)}return n}function jr(t,e){return zr(t,Td(t),e)}function Vr(t,e){return zr(t,Ed(t),e)}function Ur(t,e){return function(n,r){var o=wh(n)?i:On,a=e?e():{};return o(n,t,So(r,2),a)}}function Wr(t){return or(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Q,a=r>2?n[2]:Q;for(o=t.length>3&&"function"==typeof o?(r--,o):Q,a&&Ho(n[0],n[1],a)&&(o=3>r?Q:o,r=1),e=dc(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Gr(t,e){return function(n,i){if(null==n)return n;if(!Zs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=dc(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function qr(t){return function(e,n,i){for(var r=-1,o=dc(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(n(o[l],l,o)===!1)break}return e}}function Kr(t,e,n){function i(){var e=this&&this!==ni&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&ht,o=Jr(t);return i}function Yr(t){return function(e){e=Ml(e);var n=B(e)?Y(e):Q,i=n?n[0]:e.charAt(0),r=n?Dr(n,1).join(""):e.slice(1);return i[t]()+r}}function Zr(t){return function(e){return h(Eu(uu(e).replace(Bn,"")),t,"")}}function Jr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vd(t.prototype),i=t.apply(n,e);return ll(i)?i:n}}function Xr(t,e,i){function r(){for(var a=arguments.length,s=ac(a),l=a,u=xo(r);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:V(s,u);if(a-=c.length,i>a)return uo(t,e,eo,r.placeholder,Q,s,c,Q,Q,i-a);var d=this&&this!==ni&&this instanceof r?o:t;return n(d,this,s)}var o=Jr(t);return r}function Qr(t){return function(e,n,i){var r=dc(e);if(!Zs(e)){var o=So(n,3);e=Ul(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:Q}}function to(t){return wo(function(e){var n=e.length,i=n,r=Z.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new fc(it);if(r&&!a&&"wrapper"==ko(o))var a=new Z([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=ko(o),l="wrapper"==s?Dd(o):Q;a=l&&jo(l[0])&&l[1]==(bt|gt|vt|wt)&&!l[4].length&&1==l[9]?a[ko(l[0])].apply(a,l[3]):1==o.length&&jo(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&wh(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function eo(t,e,n,i,r,o,a,s,l,u){function c(){for(var v=arguments.length,y=ac(v),b=v;b--;)y[b]=arguments[b];if(f)var w=xo(c),_=L(y,w);if(i&&(y=Br(y,i,r,f)),o&&(y=Hr(y,o,a,f)),v-=_,f&&u>v){var C=V(y,w);return uo(t,e,eo,c.placeholder,n,y,C,s,l,u-v)}var k=h?n:this,x=p?k[t]:t;return v=y.length,s?y=Qo(y,s):g&&v>1&&y.reverse(),d&&v>l&&(y.length=l),this&&this!==ni&&this instanceof c&&(x=m||Jr(x)),x.apply(k,y)}var d=e&bt,h=e&ht,p=e&pt,f=e&(gt|mt),g=e&_t,m=p?Q:Jr(t);return c}function no(t,e){return function(n,i){return Di(n,t,e(i),{})}}function io(t,e){return function(n,i){var r;if(n===Q&&i===Q)return e;if(n!==Q&&(r=n),i!==Q){if(r===Q)return i;"string"==typeof n||"string"==typeof i?(n=mr(n),i=mr(i)):(n=gr(n),i=gr(i)),r=t(n,i)}return r}}function ro(t){return wo(function(e){return e=c(e,A(So())),or(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function oo(t,e){e=e===Q?" ":mr(e);var n=e.length;if(2>n)return n?rr(e,t):e;var i=rr(e,jc(t/K(e)));return B(e)?Dr(Y(i),0,t).join(""):i.slice(0,t)}function ao(t,e,i,r){function o(){for(var e=-1,l=arguments.length,u=-1,c=r.length,d=ac(c+l),h=this&&this!==ni&&this instanceof o?s:t;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++e];return n(h,a?i:this,d)}var a=e&ht,s=Jr(t);return o}function so(t){return function(e,n,i){return i&&"number"!=typeof i&&Ho(e,n,i)&&(n=i=Q),e=Sl(e),n===Q?(n=e,e=0):n=Sl(n),i=i===Q?n>e?1:-1:Sl(i),ir(e,n,i,t)}}function lo(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Tl(e),n=Tl(n)),t(e,n)}}function uo(t,e,n,i,r,o,a,s,l,u){var c=e&gt,d=c?a:Q,h=c?Q:a,p=c?o:Q,f=c?Q:o;e|=c?vt:yt,e&=~(c?yt:vt),e&ft||(e&=~(ht|pt));var g=[t,e,r,p,d,f,h,s,l,u],m=n.apply(Q,g);return jo(t)&&Pd(m,g),m.placeholder=i,ta(m,t,e)}function co(t){var e=cc[t];return function(t,n){if(t=Tl(t),n=null==n?0:Zc($l(n),292)){var i=(Ml(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Ml(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ho(t){return function(e){var n=Ad(e);return n==Gt?z(e):n==Qt?W(e):E(e,t(e))}}function po(t,e,n,i,r,o,a,s){var l=e&pt;if(!l&&"function"!=typeof t)throw new fc(it);var u=i?i.length:0;if(u||(e&=~(vt|yt),i=r=Q),a=a===Q?a:Yc($l(a),0),s=s===Q?s:$l(s),u-=r?r.length:0,e&yt){var c=i,d=r;i=r=Q}var h=l?Q:Dd(t),p=[t,e,n,i,r,c,d,o,a,s];if(h&&Ko(p,h),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=p[9]===Q?l?0:t.length:Yc(p[9]-u,0),!s&&e&(gt|mt)&&(e&=~(gt|mt)),e&&e!=ht)f=e==gt||e==mt?Xr(t,e,s):e!=vt&&e!=(ht|vt)||r.length?eo.apply(Q,p):ao(t,e,n,i);else var f=Kr(t,e,n);var g=h?Cd:Pd;return ta(g(f,p),t,e)}function fo(t,e,n,i){return t===Q||Ys(t,vc[n])&&!wc.call(i,n)?e:t}function go(t,e,n,i,r,o){return ll(t)&&ll(e)&&(o.set(e,t),qi(t,e,Q,go,o),o["delete"](e)),t}function mo(t){return vl(t)?Q:t}function vo(t,e,n,i,r,o){var a=n&ct,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,d=!0,h=n&dt?new vn:Q;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],g=e[c];if(i)var m=a?i(g,p,c,e,t,o):i(p,g,c,t,e,o);if(m!==Q){if(m)continue;d=!1;break}if(h){if(!f(e,function(t,e){return P(h,e)||p!==t&&!r(p,t,n,i,o)?void 0:h.push(e)})){d=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){d=!1;break}}return o["delete"](t),o["delete"](e),d}function yo(t,e,n,i,r,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return t.byteLength==e.byteLength&&o(new Ec(t),new Ec(e))?!0:!1;case Ft:case zt:case qt:return Ys(+t,+e);case Vt:return t.name==e.name&&t.message==e.message;case Xt:case te:return t==e+"";case Gt:var s=z;case Qt:var l=i&ct;if(s||(s=U),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=dt,a.set(t,e);var c=vo(s(t),s(e),i,r,o,a);return a["delete"](t),c;case ee:if(gd)return gd.call(t)==gd.call(e)}return!1}function bo(t,e,n,i,r,o){var a=n&ct,s=_o(t),l=s.length,u=_o(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:wc.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++d<l;){h=s[d];var m=t[h],v=e[h];if(i)var y=a?i(v,m,h,e,t,o):i(m,v,h,t,e,o);if(!(y===Q?m===v||r(m,v,n,i,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function wo(t){return Nd(Jo(t,Q,va),t+"")}function _o(t){return yi(t,Ul,Td)}function Co(t){return yi(t,Wl,Ed)}function ko(t){for(var e=t.name+"",n=ld[e],i=wc.call(ld,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function xo(t){var e=wc.call(x,"placeholder")?x:t;return e.placeholder}function So(){var t=x.iteratee||Lu;return t=t===Lu?Fi:t,arguments.length?t(arguments[0],arguments[1]):t}function $o(t,e){var n=t.__data__;return zo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Do(t){for(var e=Ul(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Wo(r)]}return e}function To(t,e){var n=R(t,e);return Ii(n)?n:Q}function Eo(t){var e=wc.call(t,Rc),n=t[Rc];try{t[Rc]=Q;var i=!0}catch(r){}var o=kc.call(t);return i&&(e?t[Rc]=n:delete t[Rc]),o}function Ao(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Zc(e,t+a);break;case"takeRight":t=Yc(t,e-a)}}return{start:t,end:e}}function Mo(t){var e=t.match(Ie);return e?e[1].split(Re):[]}function Po(t,e,n){e=$r(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=ia(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&sl(r)&&Bo(a,r)&&(wh(t)||bh(t)))}function Oo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&wc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function No(t){return"function"!=typeof t.constructor||Uo(t)?{}:vd(Mc(t))}function Lo(t,e,n,i){var r=t.constructor;switch(e){case oe:return Er(t);case Ft:case zt:return new r(+t);case ae:return Ar(t,i);case se:case le:case ue:case ce:case de:case he:case pe:case fe:case ge:return Lr(t,i);case Gt:return Mr(t,i,n);case qt:case te:return new r(t);case Xt:return Pr(t);case Qt:return Or(t,i,n);case ee:return Nr(t)}}function Io(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Le,"{\n/* [wrapped with "+e+"] */\n")}function Ro(t){return wh(t)||bh(t)||!!(Lc&&t&&t[Lc])}function Bo(t,e){return e=null==e?At:e,!!e&&("number"==typeof t||Ge.test(t))&&t>-1&&t%1==0&&e>t}function Ho(t,e,n){if(!ll(n))return!1;var i=typeof e;return("number"==i?Zs(n)&&Bo(e,n.length):"string"==i&&e in n)?Ys(n[e],t):!1}function Fo(t,e){if(wh(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||wl(t)?!0:De.test(t)||!$e.test(t)||null!=e&&t in dc(e)}function zo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function jo(t){var e=ko(t),n=x[e];if("function"!=typeof n||!(e in J.prototype))return!1;if(t===n)return!0;var i=Dd(n);return!!i&&t===i[0]}function Vo(t){return!!Cc&&Cc in t}function Uo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vc;return t===n}function Wo(t){return t===t&&!ll(t)}function Go(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Q||t in dc(n))}}function qo(t){var e=Ls(t,function(t){return n.size===ot&&n.clear(),t}),n=e.cache;return e}function Ko(t,e){var n=t[1],i=e[1],r=n|i,o=(ht|pt|bt)>r,a=i==bt&&n==gt||i==bt&&n==wt&&t[7].length<=e[8]||i==(bt|wt)&&e[7].length<=e[8]&&n==gt;if(!o&&!a)return t;i&ht&&(t[2]=e[2],r|=n&ht?0:ft);var s=e[3];if(s){var l=t[3];t[3]=l?Br(l,s,e[4]):s,t[4]=l?V(t[3],at):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Hr(l,s,e[6]):s,t[6]=l?V(t[5],at):e[6]),s=e[7],s&&(t[7]=s),i&bt&&(t[8]=null==t[8]?e[8]:Zc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Yo(t){var e=[];if(null!=t)for(var n in dc(t))e.push(n);return e}function Zo(t){return kc.call(t)}function Jo(t,e,i){return e=Yc(e===Q?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Yc(r.length-e,0),s=ac(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=ac(e+1);++o<e;)l[o]=r[o];return l[e]=i(s),n(t,this,l)}}function Xo(t,e){return e.length<2?t:fi(t,cr(e,0,-1))}function Qo(t,e){for(var n=t.length,i=Zc(e.length,n),r=Fr(t);i--;){var o=e[i];t[i]=Bo(o,n)?r[o]:Q}return t}function ta(t,e,n){var i=e+"";return Nd(t,Io(i,oa(Mo(i),n)))}function ea(t){var e=0,n=0;return function(){var i=Jc(),r=St-(i-n);if(n=i,r>0){if(++e>=xt)return arguments[0]}else e=0;return t.apply(Q,arguments)}}function na(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Q?i:e;++n<e;){var o=nr(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function ia(t){if("string"==typeof t||wl(t))return t;var e=t+"";return"0"==e&&1/t==-Et?"-0":e}function ra(t){if(null!=t){try{return bc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function oa(t,e){return r(It,function(n){var i="_."+n[0];e&n[1]&&!l(t,i)&&t.push(i)}),t.sort()}function aa(t){if(t instanceof J)return t.clone();var e=new Z(t.__wrapped__,t.__chain__);return e.__actions__=Fr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sa(t,e,n){e=(n?Ho(t,e,n):e===Q)?1:Yc($l(e),0);var i=null==t?0:t.length;if(!i||1>e)return[];for(var r=0,o=0,a=ac(jc(i/e));i>r;)a[o++]=cr(t,r,r+=e);return a}function la(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ua(){var t=arguments.length;if(!t)return[];for(var e=ac(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return d(wh(n)?Fr(n):[n],ii(e,1))}function ca(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:$l(e),cr(t,0>e?0:e,i)):[]}function da(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:$l(e),e=i-e,cr(t,0,0>e?0:e)):[]}function ha(t,e){return t&&t.length?wr(t,So(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?wr(t,So(e,3),!0):[]}function fa(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ho(t,e,n)&&(n=0,i=r),ti(t,e,n,i)):[]}function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$l(n);return 0>r&&(r=Yc(i+r,0)),y(t,So(e,3),r)}function ma(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Q&&(r=$l(n),r=0>n?Yc(i+r,0):Zc(r,i-1)),y(t,So(e,3),r,!0)}function va(t){var e=null==t?0:t.length;return e?ii(t,1):[]}function ya(t){var e=null==t?0:t.length;return e?ii(t,Et):[]}function ba(t,e){var n=null==t?0:t.length;return n?(e=e===Q?1:$l(e),ii(t,e)):[]}function wa(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function _a(t){return t&&t.length?t[0]:Q}function Ca(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$l(n);return 0>r&&(r=Yc(i+r,0)),b(t,e,r)}function ka(t){var e=null==t?0:t.length;return e?cr(t,0,-1):[]}function xa(t,e){return null==t?"":qc.call(t,e)}function Sa(t){var e=null==t?0:t.length;return e?t[e-1]:Q}function $a(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Q&&(r=$l(n),r=0>r?Yc(i+r,0):Zc(r,i-1)),e===e?q(t,e,r):y(t,_,r,!0)}function Da(t,e){return t&&t.length?Yi(t,$l(e)):Q}function Ta(t,e){return t&&t.length&&e&&e.length?tr(t,e):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?tr(t,e,So(n,2)):t}function Aa(t,e,n){return t&&t.length&&e&&e.length?tr(t,e,Q,n):t}function Ma(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=So(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return er(t,r),n}function Pa(t){return null==t?t:td.call(t)}function Oa(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ho(t,e,n)?(e=0,n=i):(e=null==e?0:$l(e),n=n===Q?i:$l(n)),cr(t,e,n)):[]}function Na(t,e){return hr(t,e)}function La(t,e,n){return pr(t,e,So(n,2))}function Ia(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e);if(n>i&&Ys(t[i],e))return i}return-1}function Ra(t,e){return hr(t,e,!0)}function Ba(t,e,n){return pr(t,e,So(n,2),!0)}function Ha(t,e){var n=null==t?0:t.length;if(n){var i=hr(t,e,!0)-1;if(Ys(t[i],e))return i}return-1}function Fa(t){return t&&t.length?fr(t):[]}function za(t,e){return t&&t.length?fr(t,So(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?cr(t,1,e):[]}function Va(t,e,n){return t&&t.length?(e=n||e===Q?1:$l(e),cr(t,0,0>e?0:e)):[]}function Ua(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:$l(e),e=i-e,cr(t,0>e?0:e,i)):[]}function Wa(t,e){return t&&t.length?wr(t,So(e,3),!1,!0):[]}function Ga(t,e){return t&&t.length?wr(t,So(e,3)):[]}function qa(t){return t&&t.length?vr(t):[]}function Ka(t,e){return t&&t.length?vr(t,So(e,2)):[]}function Ya(t,e){return e="function"==typeof e?e:Q,t&&t.length?vr(t,Q,e):[]}function Za(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){return Js(t)?(e=Yc(t.length,e),!0):void 0}),T(e,function(e){return c(t,k(e))})}function Ja(t,e){if(!t||!t.length)return[];var i=Za(t);return null==e?i:c(i,function(t){return n(e,Q,t)})}function Xa(t,e){return kr(t||[],e||[],Mn)}function Qa(t,e){return kr(t||[],e||[],lr)}function ts(t){var e=x(t);return e.__chain__=!0,e}function es(t,e){return e(t),t}function ns(t,e){return e(t)}function is(){return ts(this)}function rs(){return new Z(this.value(),this.__chain__)}function os(){this.__values__===Q&&(this.__values__=xl(this.value()));var t=this.__index__>=this.__values__.length,e=t?Q:this.__values__[this.__index__++];return{done:t,value:e}}function as(){return this}function ss(t){for(var e,n=this;n instanceof G;){var i=aa(n);i.__index__=0,i.__values__=Q,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function ls(){var t=this.__wrapped__;if(t instanceof J){var e=t;return this.__actions__.length&&(e=new J(this)),e=e.reverse(),e.__actions__.push({func:ns,args:[Pa],thisArg:Q}),new Z(e,this.__chain__)}return this.thru(Pa)}function us(){return _r(this.__wrapped__,this.__actions__)}function cs(t,e,n){var i=wh(t)?a:Zn;return n&&Ho(t,e,n)&&(e=Q),i(t,So(e,3))}function ds(t,e){var n=wh(t)?s:ei;return n(t,So(e,3))}function hs(t,e){return ii(ys(t,e),1)}function ps(t,e){return ii(ys(t,e),Et)}function fs(t,e,n){return n=n===Q?1:$l(n),ii(ys(t,e),n)}function gs(t,e){var n=wh(t)?r:yd;return n(t,So(e,3))}function ms(t,e){var n=wh(t)?o:bd;return n(t,So(e,3))}function vs(t,e,n,i){t=Zs(t)?t:iu(t),n=n&&!i?$l(n):0;var r=t.length;return 0>n&&(n=Yc(r+n,0)),bl(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function ys(t,e){var n=wh(t)?c:Ui;return n(t,So(e,3))}function bs(t,e,n,i){return null==t?[]:(wh(e)||(e=null==e?[]:[e]),n=i?Q:n,wh(n)||(n=null==n?[]:[n]),Zi(t,e,n))}function ws(t,e,n){var i=wh(t)?h:S,r=arguments.length<3;return i(t,So(e,4),n,r,yd)}function _s(t,e,n){var i=wh(t)?p:S,r=arguments.length<3;return i(t,So(e,4),n,r,bd)}function Cs(t,e){var n=wh(t)?s:ei;return n(t,Is(So(e,3)))}function ks(t){var e=wh(t)?Dn:ar;return e(t)}function xs(t,e,n){e=(n?Ho(t,e,n):e===Q)?1:$l(e);var i=wh(t)?Tn:sr;return i(t,e)}function Ss(t){var e=wh(t)?En:ur;return e(t)}function $s(t){if(null==t)return 0;if(Zs(t))return bl(t)?K(t):t.length;var e=Ad(t);return e==Gt||e==Qt?t.size:zi(t).length}function Ds(t,e,n){var i=wh(t)?f:dr;return n&&Ho(t,e,n)&&(e=Q),i(t,So(e,3))}function Ts(t,e){if("function"!=typeof e)throw new fc(it);return t=$l(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Es(t,e,n){return e=n?Q:e,e=t&&null==e?t.length:e,po(t,bt,Q,Q,Q,Q,e)}function As(t,e){var n;if("function"!=typeof e)throw new fc(it);return t=$l(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Q),n}}function Ms(t,e,n){e=n?Q:e;var i=po(t,gt,Q,Q,Q,Q,Q,e);return i.placeholder=Ms.placeholder,i}function Ps(t,e,n){e=n?Q:e;var i=po(t,mt,Q,Q,Q,Q,Q,e);return i.placeholder=Ps.placeholder,i}function Os(t,e,n){function i(e){var n=h,i=p;return h=p=Q,y=e,g=t.apply(i,n)}function r(t){return y=t,m=Od(s,e),b?i(t):g}function o(t){var n=t-v,i=t-y,r=e-n;return w?Zc(r,f-i):r}function a(t){var n=t-v,i=t-y;
return v===Q||n>=e||0>n||w&&i>=f}function s(){var t=lh();return a(t)?l(t):void(m=Od(s,o(t)))}function l(t){return m=Q,_&&h?i(t):(h=p=Q,g)}function u(){m!==Q&&Sd(m),y=0,h=v=p=m=Q}function c(){return m===Q?g:l(lh())}function d(){var t=lh(),n=a(t);if(h=arguments,p=this,v=t,n){if(m===Q)return r(v);if(w)return m=Od(s,e),i(v)}return m===Q&&(m=Od(s,e)),g}var h,p,f,g,m,v,y=0,b=!1,w=!1,_=!0;if("function"!=typeof t)throw new fc(it);return e=Tl(e)||0,ll(n)&&(b=!!n.leading,w="maxWait"in n,f=w?Yc(Tl(n.maxWait)||0,e):f,_="trailing"in n?!!n.trailing:_),d.cancel=u,d.flush=c,d}function Ns(t){return po(t,_t)}function Ls(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fc(it);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ls.Cache||dn),n}function Is(t){if("function"!=typeof t)throw new fc(it);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Rs(t){return As(2,t)}function Bs(t,e){if("function"!=typeof t)throw new fc(it);return e=e===Q?e:$l(e),or(t,e)}function Hs(t,e){if("function"!=typeof t)throw new fc(it);return e=null==e?0:Yc($l(e),0),or(function(i){var r=i[e],o=Dr(i,0,e);return r&&d(o,r),n(t,this,o)})}function Fs(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new fc(it);return ll(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Os(t,e,{leading:i,maxWait:e,trailing:r})}function zs(t){return Es(t,1)}function js(t,e){return fh(Sr(e),t)}function Vs(){if(!arguments.length)return[];var t=arguments[0];return wh(t)?t:[t]}function Us(t){return zn(t,ut)}function Ws(t,e){return e="function"==typeof e?e:Q,zn(t,ut,e)}function Gs(t){return zn(t,st|ut)}function qs(t,e){return e="function"==typeof e?e:Q,zn(t,st|ut,e)}function Ks(t,e){return null==e||Vn(t,e,Ul(e))}function Ys(t,e){return t===e||t!==t&&e!==e}function Zs(t){return null!=t&&sl(t.length)&&!ol(t)}function Js(t){return ul(t)&&Zs(t)}function Xs(t){return t===!0||t===!1||ul(t)&&_i(t)==Ft}function Qs(t){return ul(t)&&1===t.nodeType&&!vl(t)}function tl(t){if(null==t)return!0;if(Zs(t)&&(wh(t)||"string"==typeof t||"function"==typeof t.splice||Ch(t)||Dh(t)||bh(t)))return!t.length;var e=Ad(t);if(e==Gt||e==Qt)return!t.size;if(Uo(t))return!zi(t).length;for(var n in t)if(wc.call(t,n))return!1;return!0}function el(t,e){return Pi(t,e)}function nl(t,e,n){n="function"==typeof n?n:Q;var i=n?n(t,e):Q;return i===Q?Pi(t,e,Q,n):!!i}function il(t){if(!ul(t))return!1;var e=_i(t);return e==Vt||e==jt||"string"==typeof t.message&&"string"==typeof t.name&&!vl(t)}function rl(t){return"number"==typeof t&&Gc(t)}function ol(t){if(!ll(t))return!1;var e=_i(t);return e==Ut||e==Wt||e==Ht||e==Jt}function al(t){return"number"==typeof t&&t==$l(t)}function sl(t){return"number"==typeof t&&t>-1&&t%1==0&&At>=t}function ll(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ul(t){return null!=t&&"object"==typeof t}function cl(t,e){return t===e||Li(t,e,Do(e))}function dl(t,e,n){return n="function"==typeof n?n:Q,Li(t,e,Do(e),n)}function hl(t){return ml(t)&&t!=+t}function pl(t){if(Md(t))throw new lc(nt);return Ii(t)}function fl(t){return null===t}function gl(t){return null==t}function ml(t){return"number"==typeof t||ul(t)&&_i(t)==qt}function vl(t){if(!ul(t)||_i(t)!=Yt)return!1;var e=Mc(t);if(null===e)return!0;var n=wc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bc.call(n)==xc}function yl(t){return al(t)&&t>=-At&&At>=t}function bl(t){return"string"==typeof t||!wh(t)&&ul(t)&&_i(t)==te}function wl(t){return"symbol"==typeof t||ul(t)&&_i(t)==ee}function _l(t){return t===Q}function Cl(t){return ul(t)&&Ad(t)==ie}function kl(t){return ul(t)&&_i(t)==re}function xl(t){if(!t)return[];if(Zs(t))return bl(t)?Y(t):Fr(t);if(Ic&&t[Ic])return F(t[Ic]());var e=Ad(t),n=e==Gt?z:e==Qt?U:iu;return n(t)}function Sl(t){if(!t)return 0===t?t:0;if(t=Tl(t),t===Et||t===-Et){var e=0>t?-1:1;return e*Mt}return t===t?t:0}function $l(t){var e=Sl(t),n=e%1;return e===e?n?e-n:e:0}function Dl(t){return t?Fn($l(t),0,Ot):0}function Tl(t){if("number"==typeof t)return t;if(wl(t))return Pt;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pe,"");var n=Ve.test(t);return n||We.test(t)?Qn(t.slice(2),n?2:8):je.test(t)?Pt:+t}function El(t){return zr(t,Wl(t))}function Al(t){return t?Fn($l(t),-At,At):0===t?t:0}function Ml(t){return null==t?"":mr(t)}function Pl(t,e){var n=vd(t);return null==e?n:Nn(n,e)}function Ol(t,e){return v(t,So(e,3),ri)}function Nl(t,e){return v(t,So(e,3),ai)}function Ll(t,e){return null==t?t:wd(t,So(e,3),Wl)}function Il(t,e){return null==t?t:_d(t,So(e,3),Wl)}function Rl(t,e){return t&&ri(t,So(e,3))}function Bl(t,e){return t&&ai(t,So(e,3))}function Hl(t){return null==t?[]:si(t,Ul(t))}function Fl(t){return null==t?[]:si(t,Wl(t))}function zl(t,e,n){var i=null==t?Q:fi(t,e);return i===Q?n:i}function jl(t,e){return null!=t&&Po(t,e,ki)}function Vl(t,e){return null!=t&&Po(t,e,xi)}function Ul(t){return Zs(t)?$n(t):zi(t)}function Wl(t){return Zs(t)?$n(t,!0):ji(t)}function Gl(t,e){var n={};return e=So(e,3),ri(t,function(t,i,r){In(n,e(t,i,r),t)}),n}function ql(t,e){var n={};return e=So(e,3),ri(t,function(t,i,r){In(n,i,e(t,i,r))}),n}function Kl(t,e){return Yl(t,Is(So(e)))}function Yl(t,e){if(null==t)return{};var n=c(Co(t),function(t){return[t]});return e=So(e),Xi(t,n,function(t,n){return e(t,n[0])})}function Zl(t,e,n){e=$r(e,t);var i=-1,r=e.length;for(r||(r=1,t=Q);++i<r;){var o=null==t?Q:t[ia(e[i])];o===Q&&(i=r,o=n),t=ol(o)?o.call(t):o}return t}function Jl(t,e,n){return null==t?t:lr(t,e,n)}function Xl(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:lr(t,e,n,i)}function Ql(t,e,n){var i=wh(t),o=i||Ch(t)||Dh(t);if(e=So(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:ll(t)&&ol(a)?vd(Mc(t)):{}}return(o?r:ri)(t,function(t,i,r){return e(n,t,i,r)}),n}function tu(t,e){return null==t?!0:yr(t,e)}function eu(t,e,n){return null==t?t:br(t,e,Sr(n))}function nu(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:br(t,e,Sr(n),i)}function iu(t){return null==t?[]:M(t,Ul(t))}function ru(t){return null==t?[]:M(t,Wl(t))}function ou(t,e,n){return n===Q&&(n=e,e=Q),n!==Q&&(n=Tl(n),n=n===n?n:0),e!==Q&&(e=Tl(e),e=e===e?e:0),Fn(Tl(t),e,n)}function au(t,e,n){return e=Sl(e),n===Q?(n=e,e=0):n=Sl(n),t=Tl(t),Si(t,e,n)}function su(t,e,n){if(n&&"boolean"!=typeof n&&Ho(t,e,n)&&(e=n=Q),n===Q&&("boolean"==typeof e?(n=e,e=Q):"boolean"==typeof t&&(n=t,t=Q)),t===Q&&e===Q?(t=0,e=1):(t=Sl(t),e===Q?(e=t,t=0):e=Sl(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Qc();return Zc(t+r*(e-t+Xn("1e-"+((r+"").length-1))),e)}return nr(t,e)}function lu(t){return Qh(Ml(t).toLowerCase())}function uu(t){return t=Ml(t),t&&t.replace(qe,gi).replace(Hn,"")}function cu(t,e,n){t=Ml(t),e=mr(e);var i=t.length;n=n===Q?i:Fn($l(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function du(t){return t=Ml(t),t&&Ce.test(t)?t.replace(we,mi):t}function hu(t){return t=Ml(t),t&&Me.test(t)?t.replace(Ae,"\\$&"):t}function pu(t,e,n){t=Ml(t),e=$l(e);var i=e?K(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return oo(Vc(r),n)+t+oo(jc(r),n)}function fu(t,e,n){t=Ml(t),e=$l(e);var i=e?K(t):0;return e&&e>i?t+oo(e-i,n):t}function gu(t,e,n){t=Ml(t),e=$l(e);var i=e?K(t):0;return e&&e>i?oo(e-i,n)+t:t}function mu(t,e,n){return n||null==e?e=0:e&&(e=+e),Xc(Ml(t).replace(Oe,""),e||0)}function vu(t,e,n){return e=(n?Ho(t,e,n):e===Q)?1:$l(e),rr(Ml(t),e)}function yu(){var t=arguments,e=Ml(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bu(t,e,n){return n&&"number"!=typeof n&&Ho(t,e,n)&&(e=n=Q),(n=n===Q?Ot:n>>>0)?(t=Ml(t),t&&("string"==typeof e||null!=e&&!Sh(e))&&(e=mr(e),!e&&B(t))?Dr(Y(t),0,n):t.split(e,n)):[]}function wu(t,e,n){return t=Ml(t),n=null==n?0:Fn($l(n),0,t.length),e=mr(e),t.slice(n,n+e.length)==e}function _u(t,e,n){var i=x.templateSettings;n&&Ho(t,e,n)&&(e=Q),t=Ml(t),e=Ph({},e,i,fo);var r,o,a=Ph({},e.imports,i.imports,fo),s=Ul(a),l=M(a,s),u=0,c=e.interpolate||Ke,d="__p += '",h=hc((e.escape||Ke).source+"|"+c.source+"|"+(c===Se?Fe:Ke).source+"|"+(e.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";t.replace(h,function(e,n,i,a,s,l){return i||(i=a),d+=t.slice(u,l).replace(Ye,I),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var f=e.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(me,""):d).replace(ve,"$1").replace(ye,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=tp(function(){return uc(s,p+"return "+d).apply(Q,l)});if(g.source=d,il(g))throw g;return g}function Cu(t){return Ml(t).toLowerCase()}function ku(t){return Ml(t).toUpperCase()}function xu(t,e,n){if(t=Ml(t),t&&(n||e===Q))return t.replace(Pe,"");if(!t||!(e=mr(e)))return t;var i=Y(t),r=Y(e),o=O(i,r),a=N(i,r)+1;return Dr(i,o,a).join("")}function Su(t,e,n){if(t=Ml(t),t&&(n||e===Q))return t.replace(Ne,"");if(!t||!(e=mr(e)))return t;var i=Y(t),r=N(i,Y(e))+1;return Dr(i,0,r).join("")}function $u(t,e,n){if(t=Ml(t),t&&(n||e===Q))return t.replace(Oe,"");if(!t||!(e=mr(e)))return t;var i=Y(t),r=O(i,Y(e));return Dr(i,r).join("")}function Du(t,e){var n=Ct,i=kt;if(ll(e)){var r="separator"in e?e.separator:r;n="length"in e?$l(e.length):n,i="omission"in e?mr(e.omission):i}t=Ml(t);var o=t.length;if(B(t)){var a=Y(t);o=a.length}if(n>=o)return t;var s=n-K(i);if(1>s)return i;var l=a?Dr(a,0,s).join(""):t.slice(0,s);if(r===Q)return l+i;if(a&&(s+=l.length-s),Sh(r)){if(t.slice(s).search(r)){var u,c=l;for(r.global||(r=hc(r.source,Ml(ze.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var d=u.index;l=l.slice(0,d===Q?s:d)}}else if(t.indexOf(mr(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function Tu(t){return t=Ml(t),t&&_e.test(t)?t.replace(be,vi):t}function Eu(t,e,n){return t=Ml(t),e=n?Q:e,e===Q?H(t)?X(t):m(t):t.match(e)||[]}function Au(t){var e=null==t?0:t.length,i=So();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new fc(it);return[i(t[0]),t[1]]}):[],or(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Mu(t){return jn(zn(t,st))}function Pu(t){return function(){return t}}function Ou(t,e){return null==t||t!==t?e:t}function Nu(t){return t}function Lu(t){return Fi("function"==typeof t?t:zn(t,st))}function Iu(t){return Wi(zn(t,st))}function Ru(t,e){return Gi(t,zn(e,st))}function Bu(t,e,n){var i=Ul(e),o=si(e,i);null!=n||ll(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=si(e,Ul(e)));var a=!(ll(n)&&"chain"in n&&!n.chain),s=ol(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Fr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,d([this.value()],arguments))})}),t}function Hu(){return ni._===this&&(ni._=Sc),this}function Fu(){}function zu(t){return t=$l(t),or(function(e){return Yi(e,t)})}function ju(t){return Fo(t)?k(ia(t)):Qi(t)}function Vu(t){return function(e){return null==t?Q:fi(t,e)}}function Uu(){return[]}function Wu(){return!1}function Gu(){return{}}function qu(){return""}function Ku(){return!0}function Yu(t,e){if(t=$l(t),1>t||t>At)return[];var n=Ot,i=Zc(t,Ot);e=So(e),t-=Ot;for(var r=T(i,e);++n<t;)e(n);return r}function Zu(t){return wh(t)?c(t,ia):wl(t)?[t]:Fr(Ld(Ml(t)))}function Ju(t){var e=++_c;return Ml(t)+e}function Xu(t){return t&&t.length?Jn(t,Nu,Ci):Q}function Qu(t,e){return t&&t.length?Jn(t,So(e,2),Ci):Q}function tc(t){return C(t,Nu)}function ec(t,e){return C(t,So(e,2))}function nc(t){return t&&t.length?Jn(t,Nu,Vi):Q}function ic(t,e){return t&&t.length?Jn(t,So(e,2),Vi):Q}function rc(t){return t&&t.length?D(t,Nu):0}function oc(t,e){return t&&t.length?D(t,So(e,2)):0}g=null==g?ni:bi.defaults(ni.Object(),g,bi.pick(ni,Un));var ac=g.Array,sc=g.Date,lc=g.Error,uc=g.Function,cc=g.Math,dc=g.Object,hc=g.RegExp,pc=g.String,fc=g.TypeError,gc=ac.prototype,mc=uc.prototype,vc=dc.prototype,yc=g["__core-js_shared__"],bc=mc.toString,wc=vc.hasOwnProperty,_c=0,Cc=function(){var t=/[^.]+$/.exec(yc&&yc.keys&&yc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),kc=vc.toString,xc=bc.call(dc),Sc=ni._,$c=hc("^"+bc.call(wc).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dc=oi?g.Buffer:Q,Tc=g.Symbol,Ec=g.Uint8Array,Ac=Dc?Dc.allocUnsafe:Q,Mc=j(dc.getPrototypeOf,dc),Pc=dc.create,Oc=vc.propertyIsEnumerable,Nc=gc.splice,Lc=Tc?Tc.isConcatSpreadable:Q,Ic=Tc?Tc.iterator:Q,Rc=Tc?Tc.toStringTag:Q,Bc=function(){try{var t=To(dc,"defineProperty");return t({},"",{}),t}catch(e){}}(),Hc=g.clearTimeout!==ni.clearTimeout&&g.clearTimeout,Fc=sc&&sc.now!==ni.Date.now&&sc.now,zc=g.setTimeout!==ni.setTimeout&&g.setTimeout,jc=cc.ceil,Vc=cc.floor,Uc=dc.getOwnPropertySymbols,Wc=Dc?Dc.isBuffer:Q,Gc=g.isFinite,qc=gc.join,Kc=j(dc.keys,dc),Yc=cc.max,Zc=cc.min,Jc=sc.now,Xc=g.parseInt,Qc=cc.random,td=gc.reverse,ed=To(g,"DataView"),nd=To(g,"Map"),id=To(g,"Promise"),rd=To(g,"Set"),od=To(g,"WeakMap"),ad=To(dc,"create"),sd=od&&new od,ld={},ud=ra(ed),cd=ra(nd),dd=ra(id),hd=ra(rd),pd=ra(od),fd=Tc?Tc.prototype:Q,gd=fd?fd.valueOf:Q,md=fd?fd.toString:Q,vd=function(){function t(){}return function(e){if(!ll(e))return{};if(Pc)return Pc(e);t.prototype=e;var n=new t;return t.prototype=Q,n}}();x.templateSettings={escape:ke,evaluate:xe,interpolate:Se,variable:"",imports:{_:x}},x.prototype=G.prototype,x.prototype.constructor=x,Z.prototype=vd(G.prototype),Z.prototype.constructor=Z,J.prototype=vd(G.prototype),J.prototype.constructor=J,Xe.prototype.clear=Qe,Xe.prototype["delete"]=tn,Xe.prototype.get=en,Xe.prototype.has=nn,Xe.prototype.set=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=ln,on.prototype.has=un,on.prototype.set=cn,dn.prototype.clear=hn,dn.prototype["delete"]=pn,dn.prototype.get=fn,dn.prototype.has=gn,dn.prototype.set=mn,vn.prototype.add=vn.prototype.push=yn,vn.prototype.has=bn,wn.prototype.clear=_n,wn.prototype["delete"]=Cn,wn.prototype.get=kn,wn.prototype.has=xn,wn.prototype.set=Sn;var yd=Gr(ri),bd=Gr(ai,!0),wd=qr(),_d=qr(!0),Cd=sd?function(t,e){return sd.set(t,e),t}:Nu,kd=Bc?function(t,e){return Bc(t,"toString",{configurable:!0,enumerable:!1,value:Pu(e),writable:!0})}:Nu,xd=or,Sd=Hc||function(t){return ni.clearTimeout(t)},$d=rd&&1/U(new rd([,-0]))[1]==Et?function(t){return new rd(t)}:Fu,Dd=sd?function(t){return sd.get(t)}:Fu,Td=Uc?function(t){return null==t?[]:(t=dc(t),s(Uc(t),function(e){return Oc.call(t,e)}))}:Uu,Ed=Uc?function(t){for(var e=[];t;)d(e,Td(t)),t=Mc(t);return e}:Uu,Ad=_i;(ed&&Ad(new ed(new ArrayBuffer(1)))!=ae||nd&&Ad(new nd)!=Gt||id&&Ad(id.resolve())!=Zt||rd&&Ad(new rd)!=Qt||od&&Ad(new od)!=ie)&&(Ad=function(t){var e=_i(t),n=e==Yt?t.constructor:Q,i=n?ra(n):"";if(i)switch(i){case ud:return ae;case cd:return Gt;case dd:return Zt;case hd:return Qt;case pd:return ie}return e});var Md=yc?ol:Wu,Pd=ea(Cd),Od=zc||function(t,e){return ni.setTimeout(t,e)},Nd=ea(kd),Ld=qo(function(t){var e=[];return Te.test(t)&&e.push(""),t.replace(Ee,function(t,n,i,r){e.push(i?r.replace(He,"$1"):n||t)}),e}),Id=or(function(t,e){return Js(t)?Yn(t,ii(e,1,Js,!0)):[]}),Rd=or(function(t,e){var n=Sa(e);return Js(n)&&(n=Q),Js(t)?Yn(t,ii(e,1,Js,!0),So(n,2)):[]}),Bd=or(function(t,e){var n=Sa(e);return Js(n)&&(n=Q),Js(t)?Yn(t,ii(e,1,Js,!0),Q,n):[]}),Hd=or(function(t){var e=c(t,xr);return e.length&&e[0]===t[0]?$i(e):[]}),Fd=or(function(t){var e=Sa(t),n=c(t,xr);return e===Sa(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?$i(n,So(e,2)):[]}),zd=or(function(t){var e=Sa(t),n=c(t,xr);return e="function"==typeof e?e:Q,e&&n.pop(),n.length&&n[0]===t[0]?$i(n,Q,e):[]}),jd=or(Ta),Vd=wo(function(t,e){var n=null==t?0:t.length,i=Rn(t,e);return er(t,c(e,function(t){return Bo(t,n)?+t:t}).sort(Ir)),i}),Ud=or(function(t){return vr(ii(t,1,Js,!0))}),Wd=or(function(t){var e=Sa(t);return Js(e)&&(e=Q),vr(ii(t,1,Js,!0),So(e,2))}),Gd=or(function(t){var e=Sa(t);return e="function"==typeof e?e:Q,vr(ii(t,1,Js,!0),Q,e)}),qd=or(function(t,e){return Js(t)?Yn(t,e):[]}),Kd=or(function(t){return Cr(s(t,Js))}),Yd=or(function(t){var e=Sa(t);return Js(e)&&(e=Q),Cr(s(t,Js),So(e,2))}),Zd=or(function(t){var e=Sa(t);return e="function"==typeof e?e:Q,Cr(s(t,Js),Q,e)}),Jd=or(Za),Xd=or(function(t){var e=t.length,n=e>1?t[e-1]:Q;return n="function"==typeof n?(t.pop(),n):Q,Ja(t,n)}),Qd=wo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Rn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof J&&Bo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:ns,args:[r],thisArg:Q}),new Z(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Q),t})):this.thru(r)}),th=Ur(function(t,e,n){wc.call(t,n)?++t[n]:In(t,n,1)}),eh=Qr(ga),nh=Qr(ma),ih=Ur(function(t,e,n){wc.call(t,n)?t[n].push(e):In(t,n,[e])}),rh=or(function(t,e,i){var r=-1,o="function"==typeof e,a=Zs(t)?ac(t.length):[];return yd(t,function(t){a[++r]=o?n(e,t,i):Ti(t,e,i)}),a}),oh=Ur(function(t,e,n){In(t,n,e)}),ah=Ur(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sh=or(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ho(t,e[0],e[1])?e=[]:n>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),Zi(t,ii(e,1),[])}),lh=Fc||function(){return ni.Date.now()},uh=or(function(t,e,n){var i=ht;if(n.length){var r=V(n,xo(uh));i|=vt}return po(t,i,e,n,r)}),ch=or(function(t,e,n){var i=ht|pt;if(n.length){var r=V(n,xo(ch));i|=vt}return po(e,i,t,n,r)}),dh=or(function(t,e){return Kn(t,1,e)}),hh=or(function(t,e,n){return Kn(t,Tl(e)||0,n)});Ls.Cache=dn;var ph=xd(function(t,e){e=1==e.length&&wh(e[0])?c(e[0],A(So())):c(ii(e,1),A(So()));var i=e.length;return or(function(r){for(var o=-1,a=Zc(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),fh=or(function(t,e){var n=V(e,xo(fh));return po(t,vt,Q,e,n)}),gh=or(function(t,e){var n=V(e,xo(gh));return po(t,yt,Q,e,n)}),mh=wo(function(t,e){return po(t,wt,Q,Q,Q,e)}),vh=lo(Ci),yh=lo(function(t,e){return t>=e}),bh=Ei(function(){return arguments}())?Ei:function(t){return ul(t)&&wc.call(t,"callee")&&!Oc.call(t,"callee")},wh=ac.isArray,_h=li?A(li):Ai,Ch=Wc||Wu,kh=ui?A(ui):Mi,xh=ci?A(ci):Ni,Sh=di?A(di):Ri,$h=hi?A(hi):Bi,Dh=pi?A(pi):Hi,Th=lo(Vi),Eh=lo(function(t,e){return e>=t}),Ah=Wr(function(t,e){if(Uo(e)||Zs(e))return void zr(e,Ul(e),t);for(var n in e)wc.call(e,n)&&Mn(t,n,e[n])}),Mh=Wr(function(t,e){zr(e,Wl(e),t)}),Ph=Wr(function(t,e,n,i){zr(e,Wl(e),t,i)}),Oh=Wr(function(t,e,n,i){zr(e,Ul(e),t,i)}),Nh=wo(Rn),Lh=or(function(t){return t.push(Q,fo),n(Ph,Q,t)}),Ih=or(function(t){return t.push(Q,go),n(zh,Q,t)}),Rh=no(function(t,e,n){t[e]=n},Pu(Nu)),Bh=no(function(t,e,n){wc.call(t,e)?t[e].push(n):t[e]=[n]},So),Hh=or(Ti),Fh=Wr(function(t,e,n){qi(t,e,n)}),zh=Wr(function(t,e,n,i){qi(t,e,n,i)}),jh=wo(function(t,e){var n={};if(null==t)return n;var i=!1;e=c(e,function(e){return e=$r(e,t),i||(i=e.length>1),e}),zr(t,Co(t),n),i&&(n=zn(n,st|lt|ut,mo));for(var r=e.length;r--;)yr(n,e[r]);return n}),Vh=wo(function(t,e){return null==t?{}:Ji(t,e)}),Uh=ho(Ul),Wh=ho(Wl),Gh=Zr(function(t,e,n){return e=e.toLowerCase(),t+(n?lu(e):e)}),qh=Zr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Kh=Zr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Yh=Yr("toLowerCase"),Zh=Zr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Jh=Zr(function(t,e,n){return t+(n?" ":"")+Qh(e)}),Xh=Zr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qh=Yr("toUpperCase"),tp=or(function(t,e){try{return n(t,Q,e)}catch(i){return il(i)?i:new lc(i)}}),ep=wo(function(t,e){return r(e,function(e){e=ia(e),In(t,e,uh(t[e],t))}),t}),np=to(),ip=to(!0),rp=or(function(t,e){return function(n){return Ti(n,t,e)}}),op=or(function(t,e){return function(n){return Ti(t,n,e)}}),ap=ro(c),sp=ro(a),lp=ro(f),up=so(),cp=so(!0),dp=io(function(t,e){return t+e},0),hp=co("ceil"),pp=io(function(t,e){return t/e},1),fp=co("floor"),gp=io(function(t,e){return t*e},1),mp=co("round"),vp=io(function(t,e){return t-e},0);return x.after=Ts,x.ary=Es,x.assign=Ah,x.assignIn=Mh,x.assignInWith=Ph,x.assignWith=Oh,x.at=Nh,x.before=As,x.bind=uh,x.bindAll=ep,x.bindKey=ch,x.castArray=Vs,x.chain=ts,x.chunk=sa,x.compact=la,x.concat=ua,x.cond=Au,x.conforms=Mu,x.constant=Pu,x.countBy=th,x.create=Pl,x.curry=Ms,x.curryRight=Ps,x.debounce=Os,x.defaults=Lh,x.defaultsDeep=Ih,x.defer=dh,x.delay=hh,x.difference=Id,x.differenceBy=Rd,x.differenceWith=Bd,x.drop=ca,x.dropRight=da,x.dropRightWhile=ha,x.dropWhile=pa,x.fill=fa,x.filter=ds,x.flatMap=hs,x.flatMapDeep=ps,x.flatMapDepth=fs,x.flatten=va,x.flattenDeep=ya,x.flattenDepth=ba,x.flip=Ns,x.flow=np,x.flowRight=ip,x.fromPairs=wa,x.functions=Hl,x.functionsIn=Fl,x.groupBy=ih,x.initial=ka,x.intersection=Hd,x.intersectionBy=Fd,x.intersectionWith=zd,x.invert=Rh,x.invertBy=Bh,x.invokeMap=rh,x.iteratee=Lu,x.keyBy=oh,x.keys=Ul,x.keysIn=Wl,x.map=ys,x.mapKeys=Gl,x.mapValues=ql,x.matches=Iu,x.matchesProperty=Ru,x.memoize=Ls,x.merge=Fh,x.mergeWith=zh,x.method=rp,x.methodOf=op,x.mixin=Bu,x.negate=Is,x.nthArg=zu,x.omit=jh,x.omitBy=Kl,x.once=Rs,x.orderBy=bs,x.over=ap,x.overArgs=ph,x.overEvery=sp,x.overSome=lp,x.partial=fh,x.partialRight=gh,x.partition=ah,x.pick=Vh,x.pickBy=Yl,x.property=ju,x.propertyOf=Vu,x.pull=jd,x.pullAll=Ta,x.pullAllBy=Ea,x.pullAllWith=Aa,x.pullAt=Vd,x.range=up,x.rangeRight=cp,x.rearg=mh,x.reject=Cs,x.remove=Ma,x.rest=Bs,x.reverse=Pa,x.sampleSize=xs,x.set=Jl,x.setWith=Xl,x.shuffle=Ss,x.slice=Oa,x.sortBy=sh,x.sortedUniq=Fa,x.sortedUniqBy=za,x.split=bu,x.spread=Hs,x.tail=ja,x.take=Va,x.takeRight=Ua,x.takeRightWhile=Wa,x.takeWhile=Ga,x.tap=es,x.throttle=Fs,x.thru=ns,x.toArray=xl,x.toPairs=Uh,x.toPairsIn=Wh,x.toPath=Zu,x.toPlainObject=El,x.transform=Ql,x.unary=zs,x.union=Ud,x.unionBy=Wd,x.unionWith=Gd,x.uniq=qa,x.uniqBy=Ka,x.uniqWith=Ya,x.unset=tu,x.unzip=Za,x.unzipWith=Ja,x.update=eu,x.updateWith=nu,x.values=iu,x.valuesIn=ru,x.without=qd,x.words=Eu,x.wrap=js,x.xor=Kd,x.xorBy=Yd,x.xorWith=Zd,x.zip=Jd,x.zipObject=Xa,x.zipObjectDeep=Qa,x.zipWith=Xd,x.entries=Uh,x.entriesIn=Wh,x.extend=Mh,x.extendWith=Ph,Bu(x,x),x.add=dp,x.attempt=tp,x.camelCase=Gh,x.capitalize=lu,x.ceil=hp,x.clamp=ou,x.clone=Us,x.cloneDeep=Gs,x.cloneDeepWith=qs,x.cloneWith=Ws,x.conformsTo=Ks,x.deburr=uu,x.defaultTo=Ou,x.divide=pp,x.endsWith=cu,x.eq=Ys,x.escape=du,x.escapeRegExp=hu,x.every=cs,x.find=eh,x.findIndex=ga,x.findKey=Ol,x.findLast=nh,x.findLastIndex=ma,x.findLastKey=Nl,x.floor=fp,x.forEach=gs,x.forEachRight=ms,x.forIn=Ll,x.forInRight=Il,x.forOwn=Rl,x.forOwnRight=Bl,x.get=zl,x.gt=vh,x.gte=yh,x.has=jl,x.hasIn=Vl,x.head=_a,x.identity=Nu,x.includes=vs,x.indexOf=Ca,x.inRange=au,x.invoke=Hh,x.isArguments=bh,x.isArray=wh,x.isArrayBuffer=_h,x.isArrayLike=Zs,x.isArrayLikeObject=Js,x.isBoolean=Xs,x.isBuffer=Ch,x.isDate=kh,x.isElement=Qs,x.isEmpty=tl,x.isEqual=el,x.isEqualWith=nl,x.isError=il,x.isFinite=rl,x.isFunction=ol,x.isInteger=al,x.isLength=sl,x.isMap=xh,x.isMatch=cl,x.isMatchWith=dl,x.isNaN=hl,x.isNative=pl,x.isNil=gl,x.isNull=fl,x.isNumber=ml,x.isObject=ll,x.isObjectLike=ul,x.isPlainObject=vl,x.isRegExp=Sh,x.isSafeInteger=yl,x.isSet=$h,x.isString=bl,x.isSymbol=wl,x.isTypedArray=Dh,x.isUndefined=_l,x.isWeakMap=Cl,x.isWeakSet=kl,x.join=xa,x.kebabCase=qh,x.last=Sa,x.lastIndexOf=$a,x.lowerCase=Kh,x.lowerFirst=Yh,x.lt=Th,x.lte=Eh,x.max=Xu,x.maxBy=Qu,x.mean=tc,x.meanBy=ec,x.min=nc,x.minBy=ic,x.stubArray=Uu,x.stubFalse=Wu,x.stubObject=Gu,x.stubString=qu,x.stubTrue=Ku,x.multiply=gp,x.nth=Da,x.noConflict=Hu,x.noop=Fu,x.now=lh,x.pad=pu,x.padEnd=fu,x.padStart=gu,x.parseInt=mu,x.random=su,x.reduce=ws,x.reduceRight=_s,x.repeat=vu,x.replace=yu,x.result=Zl,x.round=mp,x.runInContext=wi,x.sample=ks,x.size=$s,x.snakeCase=Zh,x.some=Ds,x.sortedIndex=Na,x.sortedIndexBy=La,x.sortedIndexOf=Ia,x.sortedLastIndex=Ra,x.sortedLastIndexBy=Ba,x.sortedLastIndexOf=Ha,x.startCase=Jh,x.startsWith=wu,x.subtract=vp,x.sum=rc,x.sumBy=oc,x.template=_u,x.times=Yu,x.toFinite=Sl,x.toInteger=$l,x.toLength=Dl,x.toLower=Cu,x.toNumber=Tl,x.toSafeInteger=Al,x.toString=Ml,x.toUpper=ku,x.trim=xu,x.trimEnd=Su,x.trimStart=$u,x.truncate=Du,x.unescape=Tu,x.uniqueId=Ju,x.upperCase=Xh,x.upperFirst=Qh,x.each=gs,x.eachRight=ms,x.first=_a,Bu(x,function(){var t={};return ri(x,function(e,n){wc.call(x.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),x.VERSION=tt,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){x[t].placeholder=x}),r(["drop","take"],function(t,e){J.prototype[t]=function(n){n=n===Q?1:Yc($l(n),0);var i=this.__filtered__&&!e?new J(this):this.clone();return i.__filtered__?i.__takeCount__=Zc(n,i.__takeCount__):i.__views__.push({size:Zc(n,Ot),type:t+(i.__dir__<0?"Right":"")}),i},J.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==$t||n==Tt;J.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:So(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");J.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");J.prototype[t]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter(Nu)},J.prototype.find=function(t){return this.filter(t).head()},J.prototype.findLast=function(t){return this.reverse().find(t)},J.prototype.invokeMap=or(function(t,e){return"function"==typeof t?new J(this):this.map(function(n){return Ti(n,t,e)})}),J.prototype.reject=function(t){return this.filter(Is(So(t)))},J.prototype.slice=function(t,e){t=$l(t);var n=this;return n.__filtered__&&(t>0||0>e)?new J(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Q&&(e=$l(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},J.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},J.prototype.toArray=function(){return this.take(Ot)},ri(J.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=x[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(x.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof J,l=a[0],u=s||wh(e),c=function(t){var e=r.apply(x,d([t],a));return i&&h?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=o&&!h,g=s&&!p;if(!o&&u){e=g?e:new J(this);var m=t.apply(e,a);return m.__actions__.push({func:ns,args:[c],thisArg:Q}),new Z(m,h)}return f&&g?t.apply(this,a):(m=this.thru(c),f?i?m.value()[0]:m.value():m)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=gc[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);x.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(wh(r)?r:[],t)}return this[n](function(n){return e.apply(wh(n)?n:[],t)})}}),ri(J.prototype,function(t,e){var n=x[e];if(n){var i=n.name+"",r=ld[i]||(ld[i]=[]);r.push({name:e,func:n})}}),ld[eo(Q,pt).name]=[{name:"wrapper",func:Q}],J.prototype.clone=Be,J.prototype.reverse=Ze,J.prototype.value=Je,x.prototype.at=Qd,x.prototype.chain=is,x.prototype.commit=rs,x.prototype.next=os,x.prototype.plant=ss,x.prototype.reverse=ls,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=us,x.prototype.first=x.prototype.head,Ic&&(x.prototype[Ic]=as),x},bi=yi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ni._=bi,define(function(){return bi})):ri?((ri.exports=bi)._=bi,ii._=bi):ni._=bi}.call(this),function(t,e,n){"use strict";/*
!
The MIT License

Copyright (c) 2010-2013 Google, Inc. http://angularjs.org

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

angular-google-maps
https://github.com/angular-ui/angular-google-maps

@authors
Nicolas Laplante - https://plus.google.com/108189012221374960701
Nicholas McCready - https://twitter.com/nmccready
 */
(function(){e.module("uiGmapgoogle-maps.providers",["nemLogging"]),e.module("uiGmapgoogle-maps.wrapped",[]),e.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),e.module("uiGmapgoogle-maps.directives.api.managers",[]),e.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),e.module("uiGmapgoogle-maps.directives.api.options.builders",[]),e.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),e.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),e.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){e.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var r,o,a,s,l;return s=void 0,l=void 0,r=function(t){return t.china?"http://maps.google.cn/maps/api/js?":"auto"===t.transport?"//maps.googleapis.com/maps/api/js?":t.transport+"://maps.googleapis.com/maps/api/js?"},o=function(t){var e,n,o,a;return e=["transport","isGoogleMapsForWork","china","preventLoad"],t.isGoogleMapsForWork&&e.push("key"),n=_.map(_.omit(t,e),function(t,e){return e+"="+t}),s&&(a=document.getElementById(s),a.parentNode.removeChild(a)),n=n.join("&"),o=document.createElement("script"),o.id=s="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=r(t)+n,document.body.appendChild(o)},a=function(){return e.isDefined(t.google)&&e.isDefined(t.google.maps)},{load:function(e){var i,r;return i=n.defer(),a()?(i.resolve(t.google.maps),i.promise):(r=e.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),t[r]=function(){t[r]=null,i.resolve(t.google.maps)},t.navigator.connection&&t.Connection&&t.navigator.connection.type===t.Connection.NONE&&!e.preventLoad?document.addEventListener("online",function(){return a()?void 0:o(e)}):e.preventLoad||o(e),l=e,l.randomizedFunctionName=r,i.promise)},manualLoad:function(){var e;return e=l,a()?t[e.randomizedFunctionName]?t[e.randomizedFunctionName]():void 0:o(e)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(t){e.extend(this.options,t)},this.$get=["uiGmapMapScriptLoader",function(t){return function(e){return e.load(t.options)}}(this)],this}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(t){return{load:function(){t.manualLoad()}}}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var e;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(t,e,n){null==n&&(this._isOpen=!0,this._open(t,e,!0))},google.maps.InfoWindow.prototype.close=function(t){null==t&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},t.InfoBox&&(t.InfoBox.prototype._open=t.InfoBox.prototype.open,t.InfoBox.prototype._close=t.InfoBox.prototype.close,t.InfoBox.prototype._isOpen=!1,t.InfoBox.prototype.open=function(t,e){this._isOpen=!0,this._open(t,e)},t.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},t.InfoBox.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},e=function(e){function r(e){this.getOrigCloseBoxImg_=n(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=n(this.getCloseBoxDiv_,this);var i;i=new t.InfoBox(e),_.extend(this,i),null!=e.closeBoxDiv&&(this.closeBoxDiv_=e.closeBoxDiv)}return i(r,e),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var t,e;return t=this.getCloseBoxDiv_(),e=this.getOrigCloseBoxImg_(),t||e},r.prototype.getOrigCloseBoxImg_=function(){var t;return t="",""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},r}(t.InfoBox),t.uiGmapInfoBox=e),t.MarkerLabel_?t.MarkerLabel_.prototype.setContent=function(){var t;t=this.marker_.get("labelContent"),t&&!_.isEqual(this.oldContent,t)&&("undefined"==typeof(null!=t?t.nodeType:void 0)?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=t):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(t),this.oldContent=t))}:void 0})}})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var t,e,n,i,r,o,a,s;return o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,r=/\\(\\)?/g,n=function(t){var e,n,i;return n=t.missingName,i=t.swapName,e=t.isProto,null==_[n]&&(_[n]=_[i],e)?_.prototype[n]=_[i]:void 0},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(t){return n(t)}),null==_.get&&(a=function(t){return _.isObject(t)?t:Object(t)},e=function(t){return null===t?"":t+""},s=function(t){var n;return _.isArray(t)?t:(n=[],e(t).replace(o,function(t,e,i,o){n.push(i?o.replace(r,"$1"):e||t)}),n)},t=function(t,e,n){var i,r;if(null!==t){void 0!==n&&n in a(t)&&(e=[n]),i=0,r=e.length;for(;!_.isUndefined(t)&&r>i;)t=t[e[i++]];return i&&i===r?t:void 0}},i=function(e,n,i){var r;return r=null===e?void 0:t(e,s(n),n+""),void 0===r?i:r},_.get=i),this.intersectionObjects=function(t,e,n){var i;return null==n&&(n=void 0),i=_.map(t,function(t){return _.find(e,function(e){return null!=n?n(t,e):_.isEqual(t,e)})}),_.filter(i,function(t){return null!=t})},this.containsObject=_.includeObject=function(t,e,n){return null==n&&(n=void 0),null===t?!1:_.some(t,function(t){return null!=n?n(t,e):_.isEqual(t,e)})},this.differenceObjects=function(t,e,n){return null==n&&(n=void 0),_.filter(t,function(t){return function(i){return!t.containsObject(e,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(t,e,n,i){var r,o;if(null==t)return-1;if(r=0,o=t.length,i){if("number"!=typeof i)return r=_.sortedIndex(t,e),t[r]===e?r:-1;r=0>i?Math.max(0,o+i):i}for(;o>r;){if(null!=n){if(n(t[r],e))return r}else if(_.isEqual(t[r],e))return r;r++}return-1},this.isNullOrUndefined=function(t){return _.isNull(t||_.isUndefined(t))},this})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(t){return this.contains=function(e,n){return-1!==t.indexOf(e,n)},this}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var t;return t=void 0,{then:function(e){return t=e},resolve:function(){return t.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(t,n,i,r,o,a){var s,l,u,c,d,h,p,f,g,m,v,y,b,w,C,k,x,S,$,D;return $=n.promiseTypes,y=n.isInProgress,S=n.promiseStatus,s=n.ExposedPromise,u=n.SniffedPromise,b=function(t,e){var n;return n=t.promise(),n.promiseType=t.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+S(n.$$state.status)),n.cancelCb=e,n},f=function(t,e){return t.promiseType===$.create&&e.promiseType!==$["delete"]&&e.promiseType!==$.init?(i.debug("lastPromise.promiseType "+e.promiseType+", newPromiseType: "+t.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},x=function(t,e,n){var r;return e.promiseType===$["delete"]&&n.promiseType!==$["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&y(n)&&(i.debug("promiseType: "+e.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),r=t.peek(),null!=r&&y(r))?r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(i.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},l=function(t,e,n){var i,r;if(t.existingPieces){if(i=_.last(t.existingPieces._content),f(e,i))return;return x(t.existingPieces,e,i),r=s(i["finally"](function(){return b(e,n)})),r.cancelCb=n,r.promiseType=e.promiseType,t.existingPieces.enqueue(r),i["finally"](function(){return t.existingPieces.dequeue()})}return t.existingPieces=new o.Queue,t.existingPieces.enqueue(b(e,n))},C=function(t,e,n,r,o){var a;return null==n&&(n=""),a=function(t){return i.debug(t+": "+t),null!=r&&_.isFunction(r)?r(t):void 0},l(t,u(o,e),a)},h=80,m={value:null},D=function(t,e,n){var i,r;try{return t.apply(e,n)}catch(r){return i=r,m.value=i,m}},w=function(t,e,n,r){var o,a;return a=D(t,e,r),a===m&&(o="error within chunking iterator: "+m.value,i.error(o),n.reject(o)),"cancel safe"===a?!1:!0},c=function(t,e,n){var i,r;return i=t===e,r=e[n],i?r:t[r]},d=["length","forEach","map"],v=function(t,n,i,r){var o,a,s;if(e.isArray(t))o=t;else if(n)o=n;else{o=[];for(a in t)s=t[a],t.hasOwnProperty(a)&&!_.includes(d,a)&&o.push(a)}return null==r&&(r=i),e.isArray(o)&&!(null!=o?o.length:void 0)&&r!==i?i():r(o,n)},p=function(n,i,r,o,a,s,l,u){return v(n,u,function(u,d){var h,f,g,m;for(h=i&&i<u.length?i:u.length,f=l,g=!0;g&&h--&&f<(u?u.length:f+1);)m=c(n,u,f),g=e.isFunction(m)?!0:w(o,void 0,s,[m,f]),++f;if(u){if(!(g&&f<u.length))return s.resolve();if(l=f,i)return null!=a&&_.isFunction(a)&&w(a,void 0,s,[]),t(function(){return p(n,i,r,o,a,s,l,d)},r,!1)}})},g=function(t,e,r,o,a,s,l){var u,c,d;return null==r&&(r=h),null==a&&(a=0),null==s&&(s=1),d=void 0,c=n.defer(),d=c.promise,s?v(t,l,function(){return c.resolve(),d},function(n,i){return p(t,r,s,e,o,c,a,i),d}):(u="pause (delay) must be set from _async!",i.error(u),c.reject(u),d)},k=function(t,e,i,r,o,a,s){var l;return l=[],v(t,s,function(){return n.resolve(l)},function(n,s){return g(t,function(t){return l.push(e(t))},i,r,o,a,s).then(function(){return l})})},{each:g,map:k,managePromiseQueue:C,promiseLock:C,defaultChunkSize:h,getArrayAndKeys:v,chunkSizeFrom:function(t,e){return null==e&&(e=void 0),_.isNumber(t)&&(e=t),(a.isFalse(t)||t===!1)&&(e=!1),e}}}])}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var e,n;return n=["extended","included"],e=function(){function e(){}return e.extend=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this[i]=o);return null!=(r=e.extended)&&r.apply(this),this},e.include=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=e.included)&&r.apply(this),this},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(t){}}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(t){var e;return e={handle:function(n,i){return n.$on("$destroy",function(){return e.handle(n)}),n.deferred=t.defer(),{getScope:function(){return n}}},mapPromise:function(t,e){var n;return n=e.getScope(),n.deferred.promise.then(function(e){return t.map=e}),n.deferred.promise}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(t){var n,i;return i=function(t){return e.isDefined(t.events)&&null!=t.events&&e.isObject(t.events)},n=function(t,e){return i(t)?t:i(e)?e:void 0},{setEvents:function(t,i,r,o){var a;return a=n(i,r),null!=a?_.compact(_.map(a.events,function(n,s){var l;return o&&(l=_(o).includes(s)),a.events.hasOwnProperty(s)&&e.isFunction(a.events[s])&&!l?google.maps.event.addListener(t,s,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(n.apply(i,[t,s,r,arguments]))}):void 0})):void 0},removeEvents:function(t){var e,n;if(t)for(e in t)n=t[e],n&&t.hasOwnProperty(e)&&google.maps.event.removeListener(n)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger",function(t){return{fit:function(t,e){var n,i,r,o,a;if(e&&(null!=t?t.length:void 0)){n=new google.maps.LatLngBounds,i=!1;for(r in t)o=t[r],o&&(i||(i=!0),a=_.isFunction(o.getPosition)?o.getPosition():o),n.extend(a);if(i)return e.fitBounds(n)}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(t,n){var i,r,o,a,s,l;return r=function(t,e,n){return t===e||-1!==n.indexOf(t)},i=function(t){return r(t,!1,["false","FALSE",0,"n","N","no","NO"])},a=function(t){return Array.isArray(t)&&2===t.length?t[1]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[1]:t.latitude},s=function(t){return Array.isArray(t)&&2===t.length?t[0]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[0]:t.longitude},o=function(t){return t?Array.isArray(t)&&2===t.length?new google.maps.LatLng(t[1],t[0]):e.isDefined(t.type)&&"Point"===t.type?new google.maps.LatLng(t.coordinates[1],t.coordinates[0]):new google.maps.LatLng(t.latitude,t.longitude):void 0},l=function(t){if(e.isUndefined(t))return!1;if(_.isArray(t)){if(2===t.length)return!0}else if(null!=t&&(null!=t?t.type:void 0)&&"Point"===t.type&&_.isArray(t.coordinates)&&2===t.coordinates.length)return!0;return t&&e.isDefined((null!=t?t.latitude:void 0)&&e.isDefined(null!=t?t.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(t,n){return t?(Array.isArray(t)&&2===t.length?(t[1]=n.lat(),t[0]=n.lng()):e.isDefined(t.type)&&"Point"===t.type?(t.coordinates[1]=n.lat(),t.coordinates[0]=n.lng()):(t.latitude=n.lat(),t.longitude=n.lng()),t):void 0},getLabelPositionPoint:function(t){var e,n;return void 0===t?void 0:(t=/^([-\d\.]+)\s([-\d\.]+)$/.exec(t),e=parseFloat(t[1]),n=parseFloat(t[2]),null!=e&&null!=n?new google.maps.Point(e,n):void 0)},createWindowOptions:function(i,r,a,s){var l;return null!=a&&null!=s&&null!=n?(l=e.extend({},s,{content:this.buildContent(r,s,a),position:null!=s.position?s.position:e.isObject(i)?i.getPosition():o(r.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s?s:(t.error("infoWindow defaults not defined"),a?void 0:t.error("infoWindow content not defined"))},buildContent:function(t,e,i){var r,o;return null!=e.content?o=e.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),r=""===i?"":n(i)(t),r.length>0&&(o=r[0])):o=i,o},defaultDelay:50,isTrue:function(t){return r(t,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(t){return r(t,!1,[void 0,null])||i(t)},getCoords:o,validateCoords:l,equalCoords:function(t,e){return a(t)===a(e)&&s(t)===s(e)},validatePath:function(t){var n,i,r,o;if(i=0,e.isUndefined(t.type)){if(!Array.isArray(t)||t.length<2)return!1;for(;i<t.length;){if(!(e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)||"function"==typeof t[i].lat&&"function"==typeof t[i].lng))return!1;i++}return!0}if(e.isUndefined(t.coordinates))return!1;if("Polygon"===t.type){if(t.coordinates[0].length<4)return!1;n=t.coordinates[0]}else if("MultiPolygon"===t.type){if(o={max:0,index:0},_.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},o),r=t.coordinates[o.index],n=r[0],n.length<4)return!1}else{if("LineString"!==t.type)return!1;if(t.coordinates.length<2)return!1;n=t.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(t){var n,i,r,o,a;if(i=0,o=new google.maps.MVCArray,e.isUndefined(t.type))for(;i<t.length;)e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)?r=new google.maps.LatLng(t[i].latitude,t[i].longitude):"function"==typeof t[i].lat&&"function"==typeof t[i].lng&&(r=t[i]),o.push(r),i++;else for("Polygon"===t.type?n=t.coordinates[0]:"MultiPolygon"===t.type?(a={max:0,index:0},_.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},a),n=t.coordinates[a.index][0]):"LineString"===t.type&&(n=t.coordinates);i<n.length;)o.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return o},getPath:function(t,e){var n;return null!=e&&_.isString(e)?(n=t,_.each(e.split("."),function(t){return n?n=n[t]:void 0}),n):e},validateBoundPoints:function(t){return e.isUndefined(t.sw.latitude)||e.isUndefined(t.sw.longitude)||e.isUndefined(t.ne.latitude)||e.isUndefined(t.ne.longitude)?!1:!0},convertBoundPoints:function(t){var e;return e=new google.maps.LatLngBounds(new google.maps.LatLng(t.sw.latitude,t.sw.longitude),new google.maps.LatLng(t.ne.latitude,t.ne.longitude))},fitMapBounds:function(t,e){return t.fitBounds(e)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(t,e){var n,i,r,o;return i=0,o=[],r=function(){return t.all(o)},n=function(t,o,a){return e(function(){return 0>=a?void t.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(i!==o?n(t,o,a-1):t.resolve(r()))},100)},{spawn:function(){var e;return e=t.defer(),o.push(e.promise),i+=1,{instance:i,deferred:e}},promises:r,instances:function(){return i},promise:function(e,i){var r;return null==e&&(e=1),null==i&&(i=50),r=t.defer(),n(r,e,i),r.promise},reset:function(){i=0,o.length=0},decrement:function(){i>0&&(i-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(e){var n;return n=function(e){function n(t,e,n,i){this.scope=t,this.element=e,this.attrs=n,this.ctrls=i}return t(n,e),n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(t){return t.spawn()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(i,r){return function(i){function o(e,n){this.scope=e,this["interface"]=null!=n?n:{scopeKeys:[]},this.modelsLength=t(this.modelsLength,this),this.updateChild=t(this.updateChild,this),this.destroy=t(this.destroy,this),this.setChildScope=t(this.setChildScope,this),this.getChanges=t(this.getChanges,this),this.getProp=t(this.getProp,this),this.setIdKey=t(this.setIdKey,this),this.modelKeyComparison=t(this.modelKeyComparison,this),o.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return n(o,i),o.prototype.evalModelHandle=function(t,e){return null!=t&&null!=e?"self"===e?t:(_.isFunction(e)&&(e=e()),r.getPath(t,e)):void 0},o.prototype.modelKeyComparison=function(t,e){var n,i,o,a,s,l;if(o=this["interface"].scopeKeys.indexOf("coords")>=0,(o&&null!=this.scope.coords||!o)&&(s=this.scope),null==s)throw"No scope set!";return o&&(n=this.scopeOrModelVal("coords",s,t),i=this.scopeOrModelVal("coords",s,e),a=r.equalCoords(n,i),!a)?a:(l=_.without(this["interface"].scopeKeys,"coords"),a=_.every(l,function(n){return function(i){return n.scopeOrModelVal(s[i],s,t)===n.scopeOrModelVal(s[i],s,e)}}(this)))},o.prototype.setIdKey=function(t){return this.idKey=null!=t.idKey?t.idKey:this.defaultIdKey},o.prototype.setVal=function(t,e,n){return this.modelOrKey(t,e=n),t},o.prototype.modelOrKey=function(t,e){return null!=e?"self"!==e?r.getPath(t,e):t:void 0},o.prototype.getProp=function(t,e,n){return this.scopeOrModelVal(t,e,n)},o.prototype.getChanges=function(t,e,n){var i,r,o;n&&(e=_.pick(e,n),t=_.pick(t,n)),r={},o={},i={};for(o in t)e&&e[o]===t[o]||(_.isArray(t[o])?r[o]=t[o]:_.isObject(t[o])?(i=this.getChanges(t[o],e?e[o]:null),_.isEmpty(i)||(r[o]=i)):r[o]=t[o]);return r},o.prototype.scopeOrModelVal=function(t,e,n,i){var r,o,a,s;return null==i&&(i=!1),r=function(t,e,n){return null==n&&(n=!1),n?{isScope:t,value:e}:e},s=_.get(e,t),_.isFunction(s)?r(!0,s(n),i):_.isObject(s)?r(!0,s,i):_.isString(s)?(o=s,a=o?"self"===o?n:_.get(n,o):_.get(n,t),_.isFunction(a)?r(!1,a(),i):r(!1,a,i)):r(!0,s,i)},o.prototype.setChildScope=function(t,e,n){var i,r,o,a;for(r in t)o=t[r],i=this.scopeOrModelVal(o,e,n,!0),null!=(null!=i?i.value:void 0)&&(a=i.value,a!==e[o]&&(e[o]=a));return e.model=n},o.prototype.onDestroy=function(t){},o.prototype.destroy=function(t){var e;return null==t&&(t=!1),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(t,e){return null==e[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):t.updateModel(e)},o.prototype.modelsLength=function(t){var n,i;return null==t&&(t=void 0),n=0,i=t?t:this.scope.models,null==i?n:n=e.isArray(i)||null!=i.length?i.length:Object.keys(i).length},o}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(t,e,n,i){return{didQueueInitPromise:function(t,n){return 0===n.models.length?(e.promiseLock(t,i.promiseTypes.init,null,null,function(){return i.resolve()}),!0):!1},figureOutState:function(e,n,i,r,o){var a,s,l,u,c;return a=[],l={},u=[],c=[],n.models.forEach(function(o){var s;return null==o[e]?t.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(l[o[e]]={},null==i.get(o[e])?a.push(o):(s=i.get(o[e]),r(o,s.clonedModel,n)?void 0:c.push({model:o,child:s})))}),s=i.values(),s.forEach(function(n){var i;return null==n?void t.error("child undefined in ModelsWatcher."):null==n.model?void t.error("child.model undefined in ModelsWatcher."):(i=n.model[e],null==l[i]?u.push(n):void 0)}),{adds:a,removals:u,updates:c}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(t,e,n){var i,r,o,a,s,l,u,c,d,h,p;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},p=function(){var t;return t={},t[""+c.IN_PROGRESS]="in-progress",t[""+c.RESOLVED]="resolved",t[""+c.REJECTED]="rejected",t}(),a=function(t){return t.$$state?t.$$state.status===c.IN_PROGRESS:t.hasOwnProperty("$$v")?void 0:!0},s=function(t){return t.$$state?t.$$state.status===c.RESOLVED:t.hasOwnProperty("$$v")?!0:void 0},u=function(t){return p[t]||"done w error"},i=function(e){var n,i,r;return n=t.defer(),i=t.all([e,n.promise]),r=t.defer(),e.then(n.resolve,function(){},function(t){return n.notify(t),r.notify(t)}),i.then(function(t){return r.resolve(t[0]||t[1])},function(t){return r.reject(t)}),r.promise.cancel=function(t){return null==t&&(t="canceled"),n.reject(t)},r.promise.notify=function(t){return null==t&&(t="cancel safe"),r.notify(t),e.hasOwnProperty("notify")?e.notify(t):void 0},null!=e.promiseType&&(r.promise.promiseType=e.promiseType),r.promise},r=function(t,e){return{promise:t,promiseType:e}},o=function(){return t.defer()},h=function(){var e;return e=t.defer(),e.resolve.apply(void 0,arguments),e.promise},l=function(i){var r;return _.isFunction(i)?(r=t.defer(),e(function(){var t;return t=i(),r.resolve(t)}),r.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:l,resolve:h,promiseTypes:d,isInProgress:a,isResolved:s,promiseStatus:u,ExposedPromise:i,SniffedPromise:r}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var e;return e=function(){function e(){this.removeAll=t(this.removeAll,this),this.slice=t(this.slice,this),this.push=t(this.push,this),this.keys=t(this.keys,this),this.values=t(this.values,this),this.remove=t(this.remove,this),this.put=t(this.put,this),this.stateChanged=t(this.stateChanged,this),this.get=t(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return e.prototype.get=function(t){return this.dict[t]},e.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},e.prototype.put=function(t,e){return null==this.get(t)&&this.length++,this.stateChanged(),this.dict[t]=e},e.prototype.remove=function(t,e){var n;return null==e&&(e=!1),e&&!this.get(t)?void 0:(n=this.dict[t],delete this.dict[t],this.length--,this.stateChanged(),n)},e.prototype.valuesOrKeys=function(t){var e,n;return null==t&&(t="Keys"),this["did"+t+"StateChange"]?(n=[],e=[],_.each(this.dict,function(t,i){return n.push(t),e.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=e,this["all"+t]):this["all"+t]},e.prototype.values=function(){return this.valuesOrKeys("Vals")},e.prototype.keys=function(){return this.valuesOrKeys()},e.prototype.push=function(t,e){return null==e&&(e="key"),this.put(t[e],t)},e.prototype.slice=function(){return this.keys().map(function(t){return function(e){return t.remove(e)}}(this))},e.prototype.removeAll=function(){return this.slice()},e.prototype.each=function(t){return _.each(this.dict,function(e,n){return t(e)})},e.prototype.map=function(t){return _.map(this.dict,function(e,n){return t(e)})},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(t){var e;return e=function(t){return this.setIfChange=function(e){return function(n,i){return _.isEqual(i,n)?void 0:t(e,n)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,i,r,o){var a;return a=function(){function a(e,i,o,s){null==i&&(i={}),this.opt_options=null!=o?o:{},this.opt_events=s,this.checkSync=t(this.checkSync,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=a.type,this.clusterer=new NgMapMarkerClusterer(e,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="ClustererMarkerManager",a.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",n.error(e)):void 0},a.prototype.add=function(t){return this.checkKey(t),this.clusterer.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},a.prototype.update=function(t){return this.remove(t),this.add(t)},a.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},a.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(this.clusterer.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},a.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},a.prototype.draw=function(){return this.clusterer.repaint()},a.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},a.prototype.attachEvents=function(t,i){var r,o,a;if(this.listeners=[],e.isDefined(t)&&null!=t&&e.isObject(t)){a=[];for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])?(n.info(i+": Attaching event: "+o+" to clusterer"),a.push(this.listeners.push(google.maps.event.addListener(this.clusterer,o,t[o])))):a.push(void 0);return a}},a.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},a.prototype.destroy=function(){return this.clearEvents(),this.clear()},a.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},a.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var t,n;return t=[],n=[],{createMapInstance:function(i,r){var o;return o=null,0===t.length?(o=new google.maps.Map(i,r),n.push(o)):(o=t.pop(),e.element(i).append(o.getDiv()),o.setOptions(r),n.push(o)),o},recycleMapInstance:function(e){var i;if(i=n.indexOf(e),0>i)throw new Error("Expected map instance to be a previously used instance");return n.splice(i,1),t.push(e)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(e,n,i){var r;return r=function(){function r(n,o,a){this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.handleOptDraw=t(this.handleOptDraw,this),this.clear=t(this.clear,this),this.destroy=t(this.destroy,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=e,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(t,n){var i,r;if(null==n&&(n=!0),null==t.key)throw r="gMarker.key undefined and it is REQUIRED!!",e.error(r),r;return i=this.gMarkers.get(t.key),i?void 0:(this.handleOptDraw(t,n,!0),this.gMarkers.put(t.key,t))},r.prototype.update=function(t,e){return null==e&&(e=!0),this.remove(t,e),this.add(t,e)},r.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},r.prototype.remove=function(t,e){return null==e&&(e=!0),this.handleOptDraw(t,e,!1),this.gMarkers.get(t.key)?this.gMarkers.remove(t.key):void 0},r.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},r.prototype.draw=function(){var t;return t=[],this.gMarkers.each(function(e){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(e.gMap),n.isDrawn=!0):t.push(n)}}(this)),t.forEach(function(t){return function(e){return e.isDrawn=!1,t.remove(e,!0)}}(this))},r.prototype.destroy=function(){return this.clear()},r.prototype.clear=function(){
return this.gMarkers.each(function(t){return t.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(t,e,n){return e===!0?(n?t.setMap(this.gMap):t.setMap(null),t.isDrawn=!0):(t.isDrawn=!1,t.doAdd=n)},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(n,i,r,o){var a;return a=function(){function a(e,i,s,l,u){null==i&&(i={}),this.opt_options=null!=s?s:{},this.opt_events=l,this.scope=u,this.checkSync=t(this.checkSync,this),this.isSpiderfied=t(this.isSpiderfied,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=a.type,this.markerSpiderfier=new o(e,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="SpiderfierMarkerManager",a.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",n.error(e)):void 0},a.prototype.add=function(t){return t.setMap(this.markerSpiderfier.map),this.checkKey(t),this.markerSpiderfier.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},a.prototype.update=function(t){return this.remove(t),this.add(t)},a.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},a.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(t.setMap(null),this.markerSpiderfier.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},a.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},a.prototype.draw=function(){},a.prototype.clear=function(){return this.removeMany(this.getGMarkers())},a.prototype.attachEvents=function(t,i){return e.isDefined(t)&&null!=t&&e.isObject(t)?_.each(t,function(r){return function(o,a){return t.hasOwnProperty(a)&&e.isFunction(t[a])?(n.info(i+": Attaching event: "+a+" to markerSpiderfier"),r.markerSpiderfier.addListener(a,function(){return"spiderfy"===a||"unspiderfy"===a?r.scope.$evalAsync(t[a].apply(t,arguments)):r.scope.$evalAsync(t[a].apply(t,[arguments[0],a,arguments[0].model,arguments]))})):void 0}}(this)):void 0},a.prototype.clearEvents=function(t,i){var r,o;if(e.isDefined(t)&&null!=t&&e.isObject(t))for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])&&(n.info(i+": Clearing event: "+o+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(o))},a.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},a.prototype.fit=function(){return i.fit(this.getGMarkers(),this.markerSpiderfier.map)},a.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},a.prototype.isSpiderfied=function(){return _.find(this.getGMarkers(),function(t){return null!=(null!=t?t._omsData:void 0)})},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(t){var n,i;return n=function(e,n,i){return google.maps.event.addListener(e,n,function(){return i.apply(this,arguments),t(function(){},!0)})},i=function(t,i,r){var o;return r?n(t,i,r):(o=[],e.forEach(i,function(e,i){return o.push(n(t,i,e))}),function(){return e.forEach(o,function(t){return google.maps.event.removeListener(t)}),o=null})}}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(t){return function(n,i,r,o){var a,s,l,u,c,d,h,p,f;return u=!1,p=i.$eval(r),i["static"]||(c={set_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?(p[t].latitude=e.lat(),p[t].longitude=e.lng()):p[t]=e},insert_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?p.splice(t,0,{latitude:e.lat(),longitude:e.lng()}):p.splice(t,0,e)},remove_at:function(t){return u?void 0:p.splice(t,1)}},"Polygon"===p.type?a=p.coordinates[0]:"LineString"===p.type&&(a=p.coordinates),s={set_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return a[t][1]=e.lat(),a[t][0]=e.lng()},insert_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return a.splice(t,0,[e.lng(),e.lat()])},remove_at:function(t){return u?void 0:a.splice(t,1)}},h=t(n,e.isUndefined(p.type)?c:s)),d=function(t){var e,i,r,a,s,l,c,d;if(u=!0,l=n,e=!1,t){for(i=0,c=l.getLength(),a=t.length,r=Math.min(c,a),s=void 0;r>i;)d=l.getAt(i),s=t[i],"function"==typeof s.equals?s.equals(d)||(l.setAt(i,s),e=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(l.setAt(i,new google.maps.LatLng(s.latitude,s.longitude)),e=!0),i++;for(;a>i;)s=t[i],"function"==typeof s.lat&&"function"==typeof s.lng?l.push(s):l.push(new google.maps.LatLng(s.latitude,s.longitude)),e=!0,i++;for(;c>i;)l.pop(),e=!0,i++}return u=!1,e?o(l):void 0},l=function(t){var e,i,r,a,s,l,c,d,h;if(u=!0,c=n,i=!1,t){for("Polygon"===p.type?e=t.coordinates[0]:"LineString"===p.type&&(e=t.coordinates),r=0,d=c.getLength(),s=e.length,a=Math.min(d,s),l=void 0;a>r;)h=c.getAt(r),l=e[r],(h.lat()!==l[1]||h.lng()!==l[0])&&(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;s>r;)l=e[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;d>r;)c.pop(),i=!0,r++}return u=!1,i?o(c):void 0},i["static"]||(f=e.isUndefined(p.type)?i.$watchCollection(r,d):i.$watch(r,l,!0)),function(){return h&&(h(),h=null),f?(f(),f=null):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(t){return{maybeRepaint:function(e){return e?(e.style.opacity=.9,t(function(){return e.style.opacity=1})):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var t,e,n,i;return t=["length","forEach","map"],e=[],n=function(e){return e.forEach=function(n){return _.each(_.omit(e,t),function(t){return _.isFunction(t)?void 0:n(t)})},e},e.push(n),i=function(e){return e.map=function(n){return _.map(_.omit(e,t),function(t){return _.isFunction(t)?void 0:n(t)})},e},e.push(i),{slapMap:i,slapForEach:n,slapAll:function(t){return e.forEach(function(e){return e(t)}),t}}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){var a;return a=function(i){function o(){return this.watchProps=t(this.watchProps,this),this.buildOpts=t(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(t){return e.isDefined(null!=t?t.model:void 0)?t.model:t},o.prototype.buildOpts=function(t,n,i){var o,a,s;return null==t&&(t={}),null==i&&(i={}),this.scope?this.gMap?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=e.extend(t,this.DEFAULTS,{map:this.gMap,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),e.forEach(e.extend(i,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(t){return function(i,r){var s;return s=n?n[r]:t.scopeOrModelVal(r,t.scope,o),e.isUndefined(s)?a[r]=i:a[r]=o[r]}}(this)),a["static"]&&(a.editable=!1),a):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(t){return null==t&&(t=this.props),t.forEach(function(t){return function(e){return null!=t.attrs[e]||null!=t.attrs[null!=e?e.prop:void 0]?(null!=e?e.isColl:void 0)?t.scope.$watchCollection(e.prop,t.setMyOptions):t.scope.$watch(e,t.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.buildOpts=function(t,n,r){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),t=e.extend(t,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,t,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{bounds:t},e)},n}(e)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e,i){return n.__super__.buildOpts.call(this,{center:t,radius:e},i)},n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(t,n){return _.extend(n,{createOptions:function(t,i,r,o){var a;return null==r&&(r={}),a=e.extend({},r,{position:null!=r.position?r.position:n.getCoords(t),visible:null!=r.visible?r.visible:n.validateCoords(t)}),(null!=r.icon||null!=i)&&(a=e.extend(a,{icon:null!=r.icon?r.icon:i})),null!=o&&(a.map=o),a},isLabel:function(t){return null==t?!1:null!=t.labelContent||null!=t.labelAnchor||null!=t.labelClass||null!=t.labelStyle||null!=t.labelVisible}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,r,o,a,s){return function(i,r){var l;return l=function(i){function l(n){var i,a,l;this.scope=n.scope,this.attrs=n.attrs,this.gMap=n.gMap,this.defaults=n.defaults,this.model=n.model,a=n.gObjectChangeCb,this.isScopeModel=null!=(l=n.isScopeModel)?l:!1,this.clean=t(this.clean,this),this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(t){return function(){return _.defer(function(){return t.isDragging=!1})}}(this),dragstart:function(t){return function(){return t.isDragging=!0}}(this)},i=function(t){return function(){var n;if(!t.isDragging)return t.pathPoints=t.convertPathPoints(t.scope.path),null!=t.gObject&&t.clean(),null!=t.scope.model&&(n=t.scope),t.pathPoints.length>0&&(t.gObject=r(t.buildOpts(t.pathPoints,n))),t.gObject?(o(t.gObject.getPath(),t.scope,"path",function(e){return t.pathPoints=e,null!=a?a():void 0}),e.isDefined(t.scope.events)&&e.isObject(t.scope.events)&&(t.listeners=t.model?s.setEvents(t.gObject,t.scope,t.model):s.setEvents(t.gObject,t.scope,t.scope)),t.internalListeners=t.model?s.setEvents(t.gObject,{events:t.internalEvents},t.model):s.setEvents(t.gObject,{events:t.internalEvents},t.scope)):void 0}}(this),i(),this.scope.$watch("path",function(t){return function(e,n){return _.isEqual(e,n)&&t.gObject?void 0:i()}}(this),!0),!this.scope["static"]&&e.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setEditable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setDraggable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(t){return function(e,n){var i;return e!==n&&(e=!t.isFalse(e)),null!=(i=t.gObject)?i.setVisible(e):void 0}}(this),!0),e.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(t){return function(){return t.clean(),t.scope=null}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this))}return n(l,i),l.include(a),l.prototype.clean=function(){var t;return s.removeEvents(this.listeners),s.removeEvents(this.internalListeners),null!=(t=this.gObject)&&t.setMap(null),this.gObject=null},l}(i)}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(t,e){var n,i;return n=function(t,e,n){var i,r;return r=new google.maps.Polyline({map:t,clickable:!1}),i=google.maps.event.addListener(t,"mousemove",function(t){return r.getPath().push(t.latLng)}),void google.maps.event.addListenerOnce(t,"mouseup",function(o){var a;return google.maps.event.removeListener(i),a=r.getPath(),r.setMap(null),e.push(new google.maps.Polygon({map:t,path:a})),r=null,google.maps.event.clearListeners(t.getDiv(),"mousedown"),n()})},i=function(i,r){var o,a;return this.map=i,o=function(e){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},t.info("disabling map move"),e.map.setOptions(n)}}(this),a=function(t){return function(){var e,n;return e={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(n=t.deferred)&&n.resolve(),_.defer(function(){return t.map.setOptions(_.extend(e,r.options))})}}(this),this.engage=function(i){return function(r){return i.polys=r,i.deferred=e.defer(),o(),t.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(t){return n(i.map,i.polys,a)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(r,o,a,s,l,u,c,d,h){var p;return p=function(r){function p(t){this.internalEvents=n(this.internalEvents,this),this.setLabelOptions=n(this.setLabelOptions,this),this.setOptions=n(this.setOptions,this),this.setIcon=n(this.setIcon,this),this.setCoords=n(this.setCoords,this),this.isNotValid=n(this.isNotValid,this),this.maybeSetScopeValue=n(this.maybeSetScopeValue,this),this.createMarker=n(this.createMarker,this),this.setMyScope=n(this.setMyScope,this),this.updateModel=n(this.updateModel,this),this.handleModelChanges=n(this.handleModelChanges,this),this.destroy=n(this.destroy,this);var e,i,r,o,s,u,c;c=t.scope,this.model=t.model,this.keys=t.keys,this.gMap=t.gMap,this.defaults=null!=(i=t.defaults)?i:{},this.doClick=t.doClick,this.gManager=t.gManager,this.doDrawSelf=null!=(r=t.doDrawSelf)?r:!0,this.trackModel=null!=(o=t.trackModel)?o:!0,this.needRedraw=null!=(s=t.needRedraw)?s:!1,this.isScopeModel=null!=(u=t.isScopeModel)?u:!1,this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.deferred=h.defer(),_.each(this.keys,function(t){return function(e,n){var i;return i=t.keys[n],null!=i&&!_.isFunction(i)&&_.isString(i)?t[n+"Key"]=i:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),p.__super__.constructor.call(this,c),this.scope.getGMarker=function(t){return function(){return t.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(t){return function(e,n){return e!==n?t.handleModelChanges(e,n):void 0}}(this),!0)):(e=new l(function(t){return function(e){return _.isFunction(e)&&(e="all"),t.firstTime?void 0:t.setMyScope(e,c)}}(this),!1),_.each(this.keys,function(t,n){return c.$watch(n,e.sic(n),!0)})),this.scope.$on("$destroy",function(t){return function(){return f(t)}}(this)),this.createMarker(this.model),a.info(this)}var f;return i(p,r),p.include(o),p.include(s),p.include(u),f=function(t){return null!=(null!=t?t.gObject:void 0)&&(t.removeEvents(t.externalListeners),t.removeEvents(t.internalListeners),null!=t?t.gObject:void 0)?(t.removeFromManager&&t.gManager.remove(t.gObject),t.gObject.setMap(null),t.gObject=null):void 0},p.prototype.destroy=function(t){return null==t&&(t=!0),this.removeFromManager=t,this.scope.$destroy()},p.prototype.handleModelChanges=function(t,e){var n,i,r;return n=this.getChanges(t,e,c.keys),this.firstTime?void 0:(i=0,r=_.keys(n).length,_.each(n,function(n){return function(o,a){var s;return i+=1,s=r===i,n.setMyScope(a,t,e,!1,!0,s),n.needRedraw=!0}}(this)))},p.prototype.updateModel=function(t){return this.isScopeModel&&(this.clonedModel=_.clone(t,!0)),this.setMyScope("all",t,this.model)},p.prototype.renderGMarker=function(e,n){var i,r,o;if(null==e&&(e=!0),i=this.getProp("coords",this.scope,this.model),null!=(null!=(o=this.gManager)?o.isSpiderfied:void 0)&&(r=this.gManager.isSpiderfied()),null!=i){if(!this.validateCoords(i))return void a.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),e&&this.gObject&&this.gManager.add(this.gObject),r)return this.gManager.markerSpiderfier.spiderListener(this.gObject,t.event)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},p.prototype.setMyScope=function(t,e,n,i,r){var o;switch(null==n&&(n=void 0),null==i&&(i=!1),null==r&&(r=!0),null==e?e=this.model:this.model=e,this.gObject||(this.setOptions(this.scope,r),o=!0),t){case"all":return _.each(this.keys,function(t){return function(o,a){return t.setMyScope(a,e,n,i,r)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:r});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:r});case"options":if(!o)return this.createMarker(e,n,i,r)}},p.prototype.createMarker=function(t,e,n,i){return null==e&&(e=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:i}),this.firstTime=!1},p.prototype.maybeSetScopeValue=function(t){var e,n,i;return n=t.gSetter,e=null!=(i=t.doDraw)?i:!0,null!=n&&n(this.scope,e),this.doDrawSelf&&e?this.gManager.draw():void 0},p.prototype.isNotValid=function(t,e){var n,i;return null==e&&(e=!0),i=e?void 0===this.gObject:!1,n=this.trackModel?!1:t.$id!==this.scope.$id,n||i},p.prototype.setCoords=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var n,i,r;return i=e.getProp("coords",t,e.model),n=e.getCoords(i),r=e.gObject.getPosition(),null==r||null==n||n.lng()!==r.lng()||n.lat()!==r.lat()?(e.gObject.setPosition(n),e.gObject.setVisible(e.validateCoords(i))):void 0}}(this))},p.prototype.setIcon=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var n,i,r;return r=e.gObject.getIcon(),i=e.getProp("icon",t,e.model),r!==i?(e.gObject.setIcon(i),n=e.getProp("coords",t,e.model),e.gObject.setPosition(e.getCoords(n)),e.gObject.setVisible(e.validateCoords(n))):void 0}}(this))},p.prototype.setOptions=function(t,e){var n;if(null==e&&(e=!0),!this.isNotValid(t,!1)){if(this.renderGMarker(e,function(e){return function(){var n,i,r;return i=e.getProp("coords",t,e.model),r=e.getProp("icon",t,e.model),n=e.getProp("options",t,e.model),e.opts=e.createOptions(i,r,n),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.isLabel(e.opts)?e.gObject=new MarkerWithLabel(e.setLabelOptions(e.opts)):e.opts.content?(e.gObject=new RichMarker(e.opts),e.gObject.getIcon=e.gObject.getContent,e.gObject.setIcon=e.gObject.setContent):e.gObject=new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==d.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===d.type||(a.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},p.prototype.setLabelOptions=function(t){return t.labelAnchor&&(t.labelAnchor=this.getLabelPositionPoint(t.labelAnchor)),t},p.prototype.internalEvents=function(){return{dragend:function(t){return function(e,n,i,r){var o,a,s;return a=t.trackModel?t.scope.model:t.model,s=t.setCoordsFromEvent(t.modelOrKey(a,t.coordsKey),t.gObject.getPosition()),a=t.setVal(i,t.coordsKey,s),o=t.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(e,n,a,r),t.scope.$apply()}}(this),click:function(t){return function(n,i,r,o){var a;return a=t.getProp("click",t.scope,t.model),t.doClick&&e.isFunction(a)?t.scope.$evalAsync(a(n,i,t.model,o)):void 0}}(this)}},p}(r)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polygon(t)},r=new e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polyline(t)},r=e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,a,s,l,u,c,d){var h;return h=function(r){function h(t){this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this);var e,i,r,o,s;this.model=null!=(i=t.model)?i:{},this.scope=t.scope,this.opts=t.opts,this.isIconVisibleOnClick=t.isIconVisibleOnClick,this.gMap=t.gMap,this.markerScope=t.markerScope,this.element=t.element,this.needToManualDestroy=null!=(r=t.needToManualDestroy)?r:!1,this.markerIsVisibleAfterWindowClose=null!=(o=t.markerIsVisibleAfterWindowClose)?o:!0,this.isScopeModel=null!=(s=t.isScopeModel)?s:!1,this.isScopeModel&&(this.clonedModel=_.clone(this.model,!0)),this.getGmarker=function(){var t,e;return null!=(null!=(t=this.markerScope)?t.getGMarker:void 0)&&null!=(e=this.markerScope)?e.getGMarker():void 0},this.listeners=[],this.createGWin(),e=this.getGmarker(),null!=e&&e.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(t){return function(){return t.destroy()}}(this)),a.info(this)}return i(h,r),h.include(o),h.include(d),h.prototype.doShow=function(t){return this.scope.show===!0||t?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch(function(t){return function(){var e,n;if(t.element||t.html)return t.html!==t.element.html()&&t.gObject?(null!=(e=t.opts)&&(e.content=void 0),n=t.gObject.isOpen(),t.remove(),t.createGWin(n)):void 0}}(this))},h.prototype.createGWin=function(e){var n,i,r,o,a;return null==e&&(e=!1),r=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.opts.boxClass&&t.InfoBox&&"function"==typeof t.InfoBox?this.gObject=new t.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(t){return function(){return r&&(r.setAnimation(t.oldMarkerAnimation),t.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(t.markerIsVisibleAfterWindowClose)},250)),t.gObject.close(),t.model.show=!1,null!=t.scope.closeClick?t.scope.$evalAsync(t.scope.closeClick()):t.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(a=o.options)?a.forceClick:void 0)||e),this.doShow(this.gObject.isOpen())):void 0},h.prototype.watchCoords=function(){var t;return t=null!=this.markerScope?this.markerScope:this.scope,t.$watch("coords",function(t){return function(e,n){var i;if(e!==n){if(null==e)t.hideWindow();else if(!t.validateCoords(e))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(t.model));if(i=t.getCoords(e),t.doShow(),t.gObject.setPosition(i),t.opts)return t.opts.position=i}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",function(t){return function(e,n){if(e!==n&&(t.opts=e,null!=t.gObject)){if(t.gObject.setOptions(t.opts),null!=t.opts.visible&&t.opts.visible)return t.showWindow();if(null!=t.opts.visible)return t.hideWindow()}}}(this),!0)},h.prototype.handleClick=function(t){var e,n;if(null!=this.gObject)return n=this.getGmarker(),e=function(t){return function(){return null==t.gObject&&t.createGWin(),t.showWindow(),null!=n?(t.initialMarkerVisibility=n.getVisible(),t.oldMarkerAnimation=n.getAnimation(),n.setVisible(t.isIconVisibleOnClick)):void 0}}(this),t&&e(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:e}},this.model)):void 0},h.prototype.showWindow=function(){var t,n,i;if(null!=this.gObject)return i=null,n=function(t){return function(){var e,n,i;if(!t.gObject.isOpen()){if(n=t.getGmarker(),null!=t.gObject&&null!=t.gObject.getPosition&&(i=t.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(t.gObject.open(t.gMap,n),e=t.gObject.isOpen(),t.model.show!==e)return t.model.show=e}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(t){return function(r){var o;return i=t.scope.$new(),e.isDefined(t.scope.templateParameter)&&(i.parameter=t.scope.templateParameter),o=s(r.data)(i),t.gObject.setContent(o[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),e.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),t=s(this.scope.template)(i),this.gObject.setContent(t[0]),n()):n(),this.scope.$on("destroy",function(){return i.$destroy()})},h.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},h.prototype.getLatestPosition=function(t){var e;return e=this.getGmarker(),null==this.gObject||null==e||t?t?this.gObject.setPosition(t):void 0:this.gObject.setPosition(e.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(t){var e;return null==t&&(t=!1),
this.remove(),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?void 0:this.scope.$destroy()},h.prototype.updateModel=function(t){return this.isScopeModel&&(this.clonedModel=_.clone(t,!0)),_.extend(this.model,this.clonedModel||t)},h}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(i,r,o,a,s,l,u,c){return function(i,d,h){var p;return p=function(o){function p(e,n,o,a,l){this.element=n,this.attrs=o,this.gMap=a,this.defaults=l,this.maybeFit=t(this.maybeFit,this),this.createChild=t(this.createChild,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),p.__super__.constructor.call(this,e),this["interface"]=i,this.$log=r,this.plurals=new s,_.each(i.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(p,o),p.include(a),p.prototype.watchModels=function(t){return t.$watch("models",function(e){return function(n,i){return n!==i?e.doINeedToWipe(n)||t.doRebuildAll?e.rebuildAll(t,!0,!0):e.createChildScopes(!1):void 0}}(this),!0)},p.prototype.doINeedToWipe=function(t){var e;return e=null!=t?0===t.length:!0,this.plurals.length>0&&e},p.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},p.prototype.onDestroy=function(){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy(!0)},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},p.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.rebuildAll(t,!1,!0)}}(this))},p.prototype.createChildScopes=function(t){return null==t&&(t=!0),e.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){return n!==i&&null==n?(e.idKey=n,e.rebuildAll(t,!0,!0)):void 0}}(this))},p.prototype.createAllNew=function(t,e){var n;return null==e&&(e=!1),this.models=t.models,this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.didQueueInitPromise(this,t)?void 0:(n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return l.map(t.models,function(t){var i;return i=e.createChild(t,e.gMap),n&&(r.debug("createNew should fall through safely"),i.isEnabled=!1),i.pathPoints.getArray()},l.chunkSizeFrom(t.chunk)).then(function(t){return e.maybeFit(t),e.firstTime=!1})}}(this)))},p.prototype.pieceMeal=function(t,e){var n,i;return null==e&&(e=!0),t.$$destroyed?void 0:(n=null,i=null,this.models=t.models,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(t){return n=t},function(e){return function(){return u.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(r){return i=r,i.updates.length&&l.each(i.updates,function(t){return _.extend(t.child.scope,t.model),t.child.model=t.model}),l.each(i.removals,function(t){return null!=t?(t.destroy(),e.plurals.remove(t.model[e.idKey]),n):void 0},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(i.adds,function(t){return n&&r.debug("pieceMeal should fall through safely"),e.createChild(t,e.gMap),n},l.chunkSizeFrom(t.chunk)).then(function(){return e.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},p.prototype.createChild=function(t,e){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,t),r.$watch("model",function(t){return function(e,n){return e!==n?t.setChildScope(r,e):void 0}}(this),!0),r["static"]=this.scope["static"],n=new d({isScopeModel:!0,scope:r,attrs:this.attrs,gMap:e,defaults:this.defaults,model:t,gObjectChangeCb:function(t){return function(){return t.maybeFit()}}(this)}),null==t[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(t[this.idKey],n),n)},p.prototype.maybeFit=function(t){return null==t&&(t=this.plurals.map(function(t){return t.pathPoints})),this.scope.fit?(t=_.flatten(t),c.fit(t,this.gMap)):void 0},p}(o)}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,i,r,o,a){var s,l;return l=function(t,e){return t.settingFromDirective=!0,e(),i(function(){return t.settingFromDirective=!1})},s=function(i){function a(t,i,o,a,s){var u,c,d;this.attrs=o,this.gMap=a,this.DEFAULTS=s,this.scope=t,d=null,u=function(t){return function(){return d=null,null!=t.listeners?(t.removeEvents(t.listeners),t.listeners=void 0):void 0}}(this),c=new google.maps.Circle(this.buildOpts(r.getCoords(t.center),t.radius)),this.setMyOptions=function(e){return function(n,i){return t.settingFromDirective?void 0:!_.isEqual(n,i)||n!==i||(null!=n&&null!=i?n.coordinates!==i.coordinates:0)?c.setOptions(e.buildOpts(r.getCoords(t.center),t.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return c}),u(),this.listeners=this.setEvents(c,t,t,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(c,"radius_changed",function(){var n,i;return n=c.getRadius(),n!==d?(d=n,i=function(){return l(t,function(){var e,i;return n!==t.radius&&(t.radius=n),(null!=(e=t.events)?e.radius_changed:void 0)&&_.isFunction(null!=(i=t.events)?i.radius_changed:void 0)?t.events.radius_changed(c,"radius_changed",t,arguments):void 0})},e.mock?i():t.$evalAsync(function(){return i()})):void 0})),this.listeners.push(google.maps.event.addListener(c,"center_changed",function(){return t.$evalAsync(function(){return l(t,function(){return e.isDefined(t.center.type)?(t.center.coordinates[1]=c.getCenter().lat(),t.center.coordinates[0]=c.getCenter().lng()):(t.center.latitude=c.getCenter().lat(),t.center.longitude=c.getCenter().lng())})})})),t.$on("$destroy",function(){return u(),c.setMap(null)}),n.info(this)}return t(a,i),a.include(r),a.include(o),a}(a)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(e,n,i,r){var o;return o=function(e){function n(t,e,n,i){var r,o;this.scope=t,this.attrs=n,this.map=i,r=new google.maps.drawing.DrawingManager(this.scope.options),r.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(t){return null!=r?r.setOptions(t):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){return _.isEqual(e,n)?void 0:(null!=o&&t.removeEvents(o),o=t.setEvents(r,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(t){return function(){return null!=o&&t.removeEvents(o),r.setMap(null),r=null}}(this))}return t(n,e),n.include(r),n}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,a,s){if(this.scope=n,this.element=i,this.attrs=a,this.map=s,this.onWatch=t(this.onWatch,this),this.watch=t(this.watch,this),this.validateScope=t(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=e.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(t){return function(){return t.onDestroy(t.scope)}}(this))}return n(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(t){var e;return null==t?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(e=null!=t.coords,e?e:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(t,e,n){return null==n&&(n=!0),e.$watch(t,function(n){return function(i,r){return _.isEqual(i,r)?void 0:n.onWatch(t,e,i,r)}}(this),n)},o.prototype.onWatch=function(t,e,n,i){},o}(i)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(e,n,i){var r;return r=function(e){function r(t,e,n,o,a,s,l,u){r.__super__.constructor.call(this,t),this.$log=i,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=t.options&&(this.DEFAULTS=t.options)}return t(r,e),r.include(n),r.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r,o){var a;return a=function(i){function o(n,i,o,a,s,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=t(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(t){return function(e,n){return e!==n?(t.doShow=e,e?t.gObject.setMap(t.gMap):t.gObject.setMap(null)):void 0}}(this),!0),this.scope.$watch("options",function(t){return function(e,n){return e!==n&&t.doShow?t.gObject.setOptions(e):void 0}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.gObject.setMap(null)}}(this)))}return n(o,i),o.prototype.createGoogleLayer=function(){var t;return null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(t=this.onLayerCreated(this.scope,this.gObject))?t(this.gObject):void 0},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,o,a,s){return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.$log=null!=s?s:r,this.hideOverlay=t(this.hideOverlay,this),this.showOverlay=t(this.showOverlay,this),this.refreshMapType=t(this.refreshMapType,this),this.createMapType=t(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(t){return function(e,n){return e!==n?(t.doShow=e,e?t.showOverlay():t.hideOverlay()):void 0}}(this),!0),this.scope.$watchCollection("options",function(t){return function(e,n){var i,r;return!_.isEqual(e,n)&&(r=["tileSize","maxZoom","minZoom","name","alt"],i=_.some(r,function(t){return!n||!e||!_.isEqual(e[t],n[t])}))?t.refreshMapType():void 0}}(this)),e.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(t){return function(e,n){return _.isEqual(e,n)?void 0:t.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.hideOverlay(),t.mapType=null}}(this)))}return n(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),e.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var t;return t=!1,this.gMap.overlayMapTypes.forEach(function(e){return function(n,i){t||n.layerId!==e.id||(t=!0,e.gMap.overlayMapTypes.removeAt(i))}}(this))},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(i,r,o,a,s,l,u,c,d,h,p,f,g){var m,v;return v=function(t,e){return e.plurals=new o,e.scope.plurals=e.plurals,e},m=function(i){function c(e,n,i,r){this.maybeExecMappedEvent=t(this.maybeExecMappedEvent,this),this.onDestroy=t(this.onDestroy,this),this.newChildMarker=t(this.newChildMarker,this),this.pieceMeal=t(this.pieceMeal,this),this.rebuildAll=t(this.rebuildAll,this),this.createAllNew=t(this.createAllNew,this),this.bindToTypeEvents=t(this.bindToTypeEvents,this),this.createChildScopes=t(this.createChildScopes,this),this.validateScope=t(this.validateScope,this),this.onWatch=t(this.onWatch,this),c.__super__.constructor.call(this,e,n,i,r),this["interface"]=d,v(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(t){return function(e,n){return e!==n?t.doRebuildAll=e:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(t){return function(e,n){if(!_.isEqual(e,n)||!t.modelsRendered){if(0===e.length&&0===n.length)return;return t.modelsRendered=!0,t.onWatch("models",t.scope,e,n)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,i),c.include(p),c.include(r),c.prototype.onWatch=function(t,e,n,i){return"idKey"===t&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===t||"type"===t?this.rebuildAll(e):this.pieceMeal(e)},c.prototype.validateScope=function(t){var n;return n=e.isUndefined(t.models)||void 0===t.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,t)||n},c.prototype.createChildScopes=function(t){return null!=this.gMap&&null!=this.scope.models?t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.bindToTypeEvents=function(t,n){var i,r;return null==n&&(n=["click","mouseout","mouseover"]),r=this,this.origTypeEvents?e.extend(t,this.origTypeEvents):(this.origTypeEvents={},_.each(n,function(e){return function(n){return e.origTypeEvents[n]=null!=t?t[n]:void 0}}(this))),i={},_.each(n,function(t){return i[t]=function(e){return r.maybeExecMappedEvent(e,t)}}),e.extend(t,i)},c.prototype.createAllNew=function(t){var e,n,i,r;return null!=this.gManager&&(this.gManager instanceof g&&(e=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),i=t.typeEvents||t.clusterEvents,r=t.typeOptions||t.clusterOptions,t.doCluster||"cluster"===t.type?(null!=i&&this.bindToTypeEvents(i),this.gManager=new l(this.map,void 0,r,i)):"spider"===t.type?(null!=i&&this.bindToTypeEvents(i,["spiderfy","unspiderfy"]),this.gManager=new g(this.map,void 0,r,i,this.scope),e&&this.gManager.spiderfy()):this.gManager=new u(this.map),this.didQueueInitPromise(this,t)?void 0:(n=null,s.promiseLock(this,h.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return s.each(t.models,function(i){return e.newChildMarker(i,t),n},s.chunkSizeFrom(t.chunk)).then(function(){return e.modelsRendered=!0,t.fit&&e.gManager.fit(),e.gManager.draw(),e.scope.pluralsUpdate.updateCtr+=1},s.chunkSizeFrom(t.chunk))}}(this)))},c.prototype.rebuildAll=function(t){var e;if(t.doRebuild||void 0===t.doRebuild)return(null!=(e=this.scope.plurals)?e.length:void 0)?this.onDestroy(t).then(function(e){return function(){return e.createAllNew(t)}}(this)):this.createAllNew(t)},c.prototype.pieceMeal=function(t){var e,n;if(!t.$$destroyed)return e=null,n=null,this.modelsLength()&&this.scope.plurals.length?s.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(t){return e=t},function(i){return function(){return h.promise(function(){return i.figureOutState(i.idKey,t,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,s.each(n.removals,function(t){return null!=t?(null!=t.destroy&&t.destroy(),i.scope.plurals.remove(t.id),e):void 0},s.chunkSizeFrom(t.chunk))}).then(function(){return s.each(n.adds,function(n){return i.newChildMarker(n,t),e},s.chunkSizeFrom(t.chunk))}).then(function(){return s.each(n.updates,function(t){return i.updateChild(t.child,t.model),e},s.chunkSizeFrom(t.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(t.plurals=i.scope.plurals,t.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(t))},c.prototype.newChildMarker=function(t,e){var n,i,r;if(!t)throw"model undefined";return null==t[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),i=e.$new(!1),i.events=e.events,r={},d.scopeKeys.forEach(function(t){return r[t]=e[t]}),n=new a({scope:i,model:t,keys:r,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(t[this.idKey],n),n)},c.prototype.onDestroy=function(t){return c.__super__.onDestroy.call(this,t),s.promiseLock(this,h.promiseTypes["delete"],void 0,void 0,function(t){return function(){return s.each(t.scope.plurals.values(),function(t){return null!=t?t.destroy(!1):void 0},s.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return null!=t.gManager&&t.gManager.destroy(),t.plurals.removeAll(),t.plurals!==t.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),t.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(t,e){var n,i;if(!this.scope.$$destroyed)return i=this.scope.typeEvents||this.scope.clusterEvents,_.isFunction(null!=i?i[e]:void 0)&&(n=this.mapTypeToPlurals(t),this.origTypeEvents[e])?this.origTypeEvents[e](n.group,n.mapped):void 0},c.prototype.mapTypeToPlurals=function(t){var e,n,i;return _.isArray(t)?e=t:_.isFunction(t.getMarkers)&&(e=t.getMarkers()),null==e?void f.error("Unable to map event as we cannot find the array group to map"):(n=(null!=(i=this.scope.plurals.values())?i.length:void 0)?e.map(function(t){return function(e){return t.scope.plurals.get(e.key).model}}(this)):[],{cluster:t,mapped:n,group:t})},c.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(t){return e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+t+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+t+"ChildModel","uiGmapI"+t,function(e,n,i){return e(i,n,t)}])})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(e,n,i,r){var o;return o=function(r){function o(t,n,i,r,o){var a,s,l,u,c,d,h,p,f,g,m;this.scope=t,this.attrs=i,this.gMap=r,this.DEFAULTS=o,a=void 0,u=!1,f=[],p=void 0,c=function(t){return function(){return t.isTrue(t.attrs.fit)?t.fitMapBounds(t.gMap,a):void 0}}(this),l=function(t){return function(){var n,i,r;return null!=t.scope.bounds&&null!=(null!=(n=t.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=t.scope.bounds)?i.ne:void 0)&&t.validateBoundPoints(t.scope.bounds)?(a=t.convertBoundPoints(t.scope.bounds),e.info("new new bounds created: "+JSON.stringify(a))):null!=t.scope.bounds.getNorthEast&&null!=t.scope.bounds.getSouthWest?a=t.scope.bounds:null!=t.scope.bounds?e.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=t.scope)?r.bounds:void 0)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(a)),e.info("gObject (rectangle) created: "+d),g=!1,m=function(t){return function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),g?void 0:t.scope.$evalAsync(function(t){return null!=t.bounds&&null!=t.bounds.sw&&null!=t.bounds.ne&&(t.bounds.ne={latitude:n.lat(),longitude:n.lng()},t.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest?t.bounds=e:void 0})}}(this),h=function(t){return function(){return c(),t.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:m()}))}}(this),s=function(t){return function(){return t.removeEvents(f),null!=p&&t.removeEvents(p),d.setMap(null)}}(this),null!=a&&h(),this.scope.$watch("bounds",function(t,e){var n;if(!(_.isEqual(t,e)&&null!=a||u))return g=!0,null==t?void s():(null==a?n=!0:c(),l(),d.setBounds(a),g=!1,n&&null!=a?h():void 0)},!0),this.setMyOptions=function(t){return function(e,n){return _.isEqual(e,n)||null==a||null==e?void 0:d.setOptions(t.buildOpts(a))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(p=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){return _.isEqual(e,n)?void 0:(null!=p&&t.removeEvents(p),p=t.setEvents(d,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(){return s()}),e.info(this)}return t(o,r),o.include(n),o.include(i),o}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(i,r,o){var a;return a=function(i){function a(n,i,o,a,s,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:r,this.setVisibility=t(this.setVisibility,this),this.getBounds=t(this.getBounds,this),this.setBounds=t(this.setBounds,this),this.createSearchBox=t(this.createSearchBox,this),this.addToParentDiv=t(this.addToParentDiv,this),this.addAsMapControl=t(this.addAsMapControl,this),this.init=t(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(e.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),e.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),e.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=e.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(a,i),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(t){return function(n,i){return e.isObject(n)&&(null!=n.bounds&&t.setBounds(n.bounds),null!=n.visible&&t.visible!==n.visible)?t.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(t){return function(){return t.places=t.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(t){return function(){return t.places=t.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(t){return function(){return null!=t.attrs.parentdiv?t.addToParentDiv():void 0}}(this)),this.scope.$on("$destroy",function(t){return function(){return t.gObject=null}}(this))},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){var t;return this.parentDiv=e.element(document.getElementById(this.scope.parentdiv)),(null!=(t=this.parentDiv)?t.length:void 0)?this.parentDiv.append(this.input):void 0},a.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(t){if(e.isUndefined(t.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(t.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(t)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(t){return null!=this.attrs.parentdiv?t===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):t===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=t},a}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,r,o,a,s,l,u,c,d,h,p,f,g,m,v){var y;return y=function(i){function y(e,n,i,r,a,l){this.gMap=a,this.markersScope=l,this.modelKeyComparison=t(this.modelKeyComparison,this),this.interpolateContent=t(this.interpolateContent,this),this.setChildScope=t(this.setChildScope,this),this.createWindow=t(this.createWindow,this),this.setContentKeys=t(this.setContentKeys,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchOurScope=t(this.watchOurScope,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),this.go=t(this.go,this),y.__super__.constructor.call(this,e,n,i,r,c,d,h,p),this["interface"]=m,this.plurals=new o,_.each(m.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.linked=new s(e,n,i,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(e)}return n(y,i),y.include(r),y.prototype.go=function(t){return this.watchOurScope(t),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,t.$watch("doRebuildAll",function(t){return function(e,n){return e!==n?t.doRebuildAll=e:void 0}}(this)),this.createChildScopes()},y.prototype.watchModels=function(t){var e;return e=null!=this.markersScope?"pluralsUpdate":"models",t.$watch(e,function(e){return function(n,i){var r;return!_.isEqual(n,i)||e.firstWatchModels?(e.firstWatchModels=!1,
e.doRebuildAll||e.doINeedToWipe(t.models)?e.rebuildAll(t,!0,!0):(r=0===e.plurals.length,null!=e.existingPieces?_.last(e.existingPieces._content).then(function(){return e.createChildScopes(r)}):e.createChildScopes(r))):void 0}}(this),!0)},y.prototype.doINeedToWipe=function(t){var e;return e=null!=t?0===t.length:!0,this.plurals.length>0&&e},y.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},y.prototype.onDestroy=function(t){return y.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,g.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy(!0)},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.firstWatchModels=!0,e.firstTime=!0,e.rebuildAll(t,!1,!0)}}(this))},y.prototype.watchOurScope=function(t){return _.each(m.scopeKeys,function(e){return function(n){var i;return i=n+"Key",e[i]="function"==typeof t[n]?t[n]():t[n]}}(this))},y.prototype.createChildScopes=function(t){var n,i,r;return null==t&&(t=!0),this.isIconVisibleOnClick=!0,e.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=e.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(r=this.markersScope)?r.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),t?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),t?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},y.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){return n!==i&&null==n?(e.idKey=n,e.rebuildAll(t,!0,!0)):void 0}}(this))},y.prototype.createAllNew=function(t,e,n,i){var r;return null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.setContentKeys(t.models),this.didQueueInitPromise(this,t)?void 0:(r=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(t){return r=t},function(i){return function(){return l.each(t.models,function(o){var a,s;return a=e&&null!=(s=i.getItem(t,n,o[i.idKey]))?s.gObject:void 0,r||(!a&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(o,a,i.gMap)),r},l.chunkSizeFrom(t.chunk)).then(function(){return i.firstTime=!1})}}(this)))},y.prototype.pieceMeal=function(t,e,n,i){var r,o;return null==n&&(n="models"),null==i&&(i=!0),t.$$destroyed?void 0:(r=null,o=null,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(t){return r=t},function(e){return function(){return g.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(t){return null!=t?(e.plurals.remove(t.id),null!=t.destroy&&t.destroy(!0),r):void 0},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(o.adds,function(i){var o,a;if(o=null!=(a=e.getItem(t,n,i[e.idKey]))?a.gObject:void 0,!o)throw"Gmarker undefined";return e.createWindow(i,o,e.gMap),r})}).then(function(){return l.each(o.updates,function(t){return e.updateChild(t.child,t.model),r},l.chunkSizeFrom(t.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},y.prototype.setContentKeys=function(t){return this.modelsLength(t)?this.contentKeys=Object.keys(t[0]):void 0},y.prototype.createWindow=function(t,e,n){var i,r,o,s,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,t),r.$watch("model",function(t){return function(e,n){return e!==n?t.setChildScope(r,e):void 0}}(this),!0),o={html:function(e){return function(){return e.interpolateContent(e.linked.element.html(),t)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,t)||{},s=this.createWindowOptions(e,r,o.html(),this.DEFAULTS),i=new a({model:t,scope:r,opts:s,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:n,markerScope:null!=(l=this.markersScope)&&null!=(u=l.plurals.get(t[this.idKey]))?u.scope:void 0,element:o,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==t[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(t[this.idKey],i),i)},y.prototype.setChildScope=function(t,e){return _.each(m.scopeKeys,function(n){return function(i){var r,o;return r=i+"Key",o="self"===n[r]?e:e[n[r]],o!==t[i]?t[i]=o:void 0}}(this)),t.model=e},y.prototype.interpolateContent=function(t,e){var n,i,r,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(t),r={},s=this.contentKeys,i=0,a=s.length;a>i;i++)o=s[i],r[o]=e[o];return n(r)}},y.prototype.modelKeyComparison=function(t,e){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(t,i.coords),this.evalModelHandle(e,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(t,i[r])===n.evalModelHandle(e,i[r])}}(this)):n},y}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return new e(t,n,i,r)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,a,s,l){var u;return u=function(u){function c(){this.link=t(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(t,n,u,c){return l.then(function(n){return function(l){var u,d;return e.isUndefined(t.template)?void n.$log.error("mapControl: could not find a valid template property"):(u=e.isDefined(t.index&&!isNaN(parseInt(t.index)))?parseInt(t.index):void 0,d=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?i.mapPromise(t,c).then(function(i){var l,c;return l=void 0,c=e.element("<div></div>"),r.get(t.template,{cache:o}).success(function(n){var i,r;return r=t.$new(),c.append(n),e.isDefined(t.controller)&&(i=s(t.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=a(c.children())(r),u?l[0].index=u:void 0}).error(function(t){return n.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[d]].push(l[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(t,e){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(e,n){return e.ctrlType="uiGmapDragZoom",_.extend(this,t.handle(e,n))}],link:function(n,i,r,o){return t.mapPromise(n,o).then(function(t){var i,r,o;return i=function(e){return t.enableKeyDragZoom(e)},r=new e(function(t,e){return e?i({key:e}):i()}),o=new e(function(t,e){return e?i(e):void 0}),n.$watch("keyboardkey",r.sic("keyboardkey")),r.sic(n.keyboardkey),n.$watch("options",o.sic("options")),o.sic(n.options)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return new e(t,n,i,r)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(e,i,r,o,a){var s;return s=function(i){function s(){return this.link=t(this.link,this),s.__super__.constructor.apply(this,arguments)}return n(s,i),s.include(r),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope={polygons:"=",draw:"="},s.prototype.link=function(t,n,i,r){return this.mapPromise(t,r).then(function(n){return function(n){var i,s;return t.polygons?_.isArray(t.polygons)?(i=new o(n,r.getScope()),s=void 0,t.draw=function(){return"function"==typeof s&&s(),i.engage(t.polygons).then(function(){var e;return e=!0,s=t.$watchCollection("polygons",function(t,n){var i;return e||t===n?void(e=!1):(i=a.differenceObjects(n,t),i.forEach(function(t){return t.setMap(null)}))})})}):e.error("Free Draw Polygons must be of type Array!"):e.error("No polygons to bind to!")}}(this))},s}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var t;return t={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return t(r,e),r.extend(i),r.prototype.link=function(t,e,n,i){throw new Exception("Not implemented!!")},r}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(e,n){var i;return i=function(e){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return t(i,e),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(n),i}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var t;return t={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return t(r,e),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=_.keys(r.scope),r.include(n),r.extend(i),r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(i,r,o,a,s,l,u,c,d,h,p,f,g,m){var v,y,b;return v=void 0,b=[p,d,h],y=function(r){function s(){this.link=t(this.link,this);var e;e=function(t){var e,n;return n=void 0,t.$on("$destroy",function(){return u.decrement()}),e=l.handle(t),t.ctrlType="Map",t.deferred.promise.then(function(){return b.forEach(function(t){return t.init()})}),e.getMap=function(){return t.map},n=_.extend(this,e)},this.controller=["$scope",e]}return n(s,r),s.include(a),s.prototype.restrict="EMA",s.prototype.transclude=!0,s.prototype.replace=!1,s.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',s.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},s.prototype.link=function(t,n,r){var a,s;return a=[],t.$on("$destroy",function(){return g.removeEvents(a),"true"===r.recycleMapInstance&&t.map?(m.recycleMapInstance(t.map),t.map=null):void 0}),t.idleAndZoomChanged=!1,null==t.center?void(s=t.$watch("center",function(e){return function(){return t.center?(s(),e.link(t,n,r)):void 0}}(this))):f.then(function(s){return function(l){var d,h,p,f,y,b,w,C,k,x,S,$,D,T,E,A,M;if(v={mapTypeId:l.MapTypeId.ROADMAP},T=u.spawn(),$=function(){return T.deferred.resolve({instance:T.instance,map:d})},!s.validateCoords(t.center))return void o.error("angular-google-maps: could not find a valid center property");if(!e.isDefined(t.zoom))return void o.error("angular-google-maps: map zoom property not set");if(y=e.element(n),y.addClass("angular-google-map"),x={options:{}},r.options&&(x.options=t.options),r.styles&&(x.styles=t.styles),r.type&&(E=r.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(E)?x.mapTypeId=google.maps.MapTypeId[r.type.toUpperCase()]:o.error("angular-google-maps: invalid map type '"+r.type+"'")),C=e.extend({},v,x,{center:s.getCoords(t.center),zoom:t.zoom,bounds:t.bounds}),d="true"===r.recycleMapInstance?m.createMapInstance(y.find("div")[1],C):new google.maps.Map(y.find("div")[1],C),d.uiGmap_id=c.generate(),f=!1,a.push(google.maps.event.addListenerOnce(d,"idle",function(){return t.deferred.resolve(d),$()})),p=r.events&&null!=(null!=(S=t.events)?S.blacklist:void 0)?t.events.blacklist:[],_.isString(p)&&(p=[p]),k=function(e,n,i){return _.includes(p,e)?void 0:(i&&i(),a.push(google.maps.event.addListener(d,e,function(){var e;return(null!=(e=t.update)?e.lazy:void 0)?void 0:n()})))},_.includes(p,"all")||(k("dragstart",function(){return f=!0,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),k("dragend",function(){return f=!1,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),A=function(n,i){if(null==n&&(n=d.center),null==i&&(i=t),!_.includes(p,"center"))if(e.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},D=!1,k("idle",function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),D=!0,t.$evalAsync(function(e){return A(),_.isUndefined(e.bounds)||_.includes(p,"bounds")||(e.bounds.northeast={latitude:n.lat(),longitude:n.lng()},e.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),_.includes(p,"zoom")||(e.zoom=d.zoom,t.idleAndZoomChanged=!t.idleAndZoomChanged),D=!1})})),e.isDefined(t.events)&&null!==t.events&&e.isObject(t.events)){w=function(e){return function(){return t.events[e].apply(t,[d,e,arguments])}},h=[];for(b in t.events)t.events.hasOwnProperty(b)&&e.isFunction(t.events[b])&&h.push(google.maps.event.addListener(d,b,w(b)));a.concat(h)}return d.getOptions=function(){return C},t.map=d,null!=r.control&&null!=t.control&&(t.control.refresh=function(t){var e,n,i;if(null!=d)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(i=n.event)?i.trigger:void 0)&&null!=d&&google.maps.event.trigger(d,"resize"),null!=(null!=t?t.latitude:void 0)&&null!=(null!=t?t.longitude:void 0)?(e=s.getCoords(t),s.isTrue(r.pan)?d.panTo(e):d.setCenter(e)):void 0},t.control.getGMap=function(){return d},t.control.getMapOptions=function(){return C},t.control.getCustomEventListeners=function(){return h},t.control.removeEvents=function(t){return g.removeEvents(t)}),t.$watch("center",function(e,n){var i;if(e!==n&&!D&&(i=s.getCoords(t.center),i.lat()!==d.center.lat()||i.lng()!==d.center.lng()))return f?void 0:(s.validateCoords(e)||o.error("Invalid center for newValue: "+JSON.stringify(e)),s.isTrue(r.pan)&&t.zoom===d.zoom?d.panTo(i):d.setCenter(i))},!0),M=null,t.$watch("zoom",function(e,n){var r,o;if(null!=e&&!_.isEqual(e,n)&&(null!=d?d.getZoom():void 0)!==(null!=t?t.zoom:void 0)&&!D)return null!=M&&i.cancel(M),M=i(function(){return d.setZoom(e)},(null!=(r=t.eventOpts)&&null!=(o=r.debounce)?o.zoomMs:void 0)+20,!1)}),t.$watch("bounds",function(t,e){var n,i,r,a,s,l,u;if(t!==e)return null==(null!=t&&null!=(r=t.northeast)?r.latitude:void 0)||null==(null!=t&&null!=(a=t.northeast)?a.longitude:void 0)||null==(null!=t&&null!=(s=t.southwest)?s.latitude:void 0)||null==(null!=t&&null!=(l=t.southwest)?l.longitude:void 0)?void o.error("Invalid map bounds for new value: "+JSON.stringify(t)):(i=new google.maps.LatLng(t.northeast.latitude,t.northeast.longitude),u=new google.maps.LatLng(t.southwest.latitude,t.southwest.longitude),n=new google.maps.LatLngBounds(u,i),d.fitBounds(n))}),["options","styles"].forEach(function(e){return t.$watch(e,function(t,n){return _.isEqual(t,n)?void 0:("options"===e?x.options=t:x.options[e]=t,null!=d?d.setOptions(x):void 0)},!0)})}}(this))},s}(s)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(e,n,i,r){var o;return o=function(o){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',r.info(this)}return t(a,o),a.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Marker",_.extend(this,e.handle(t,n))}],a.prototype.link=function(t,r,o,a){var s;return s=e.mapPromise(t,a),s.then(function(r){var o,a,s;return o=new i(r),a=_.object(e.keys,e.keys),s=new n({scope:t,model:t,keys:a,gMap:r,doClick:!0,gManager:o,doDrawSelf:!1,trackModel:!1}),s.deferred.promise.then(function(e){return t.deferred.resolve(e)}),null!=t.control?t.control.getGMarkers=o.getGMarkers:void 0}),t.$on("$destroy",function(){var t;return"undefined"!=typeof t&&null!==t&&t.clear(),t=null})},a}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(e,n,i,r,o){var a;return a=function(r){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),o.info(this)}return t(a,r),a.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Markers",_.extend(this,e.handle(t,n))}],a.prototype.link=function(t,r,o,a){var s,l;return s=void 0,l=function(){return t.deferred.resolve()},e.mapPromise(t,a).then(function(e){var u;return u=a.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(s.gManager.draw)}),s=new i(t,r,o,e),n.link(t,s),null!=t.control&&(t.control.getGMarkers=function(){var t;return null!=(t=s.gManager)?t.getGMarkers():void 0},t.control.getChildMarkers=function(){return s.plurals}),_.last(s.existingPieces._content).then(function(){return l()})})},a}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var t;return t=function(t,e){return null!=t.control?(t.control.updateModels=function(n){return t.models=n,e.createChildScopes(!1)},t.control.newModels=function(n){return t.models=n,e.rebuildAll(t,!0,!0)},t.control.clean=function(){return e.rebuildAll(t,!1,!0)},t.control.getPlurals=function(){return e.plurals},t.control.getManager=function(){return e.gManager},t.control.hasManager=function(){return null!=e.gManager==!0},t.control.managerDraw=function(){var e;return t.control.hasManager()&&null!=(e=t.control.getManager())?e.draw():void 0}):void 0},{extend:function(t,e){return _.extend(t.scope||{},e||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(e,n){return t(e,n)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(e,i,r){var o;return o=function(i){function o(){return this.link=t(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.link=function(t,n,i,o){var a,s;return a=[],s=e.mapPromise(t,o),null!=t.control&&(t.control.getInstance=this,t.control.polygons=a,t.control.promise=s),s.then(function(e){return function(n){return a.push(new r({scope:t,attrs:i,gMap:n,defaults:e.DEFAULTS}))}}(this))},o}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,a){var s;return s=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polygons: no valid path attribute found"),t.models||r.$log.warn("polygons: no models found to create from"),a.link(t,new o(t,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(i,r,o){var a;return a=function(r){function a(){return this.link=t(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,r),a.prototype.link=function(t,n,r,a){return i.mapPromise(t,a).then(function(n){return function(i){return(e.isUndefined(t.path)||null===t.path||!n.validatePath(t.path))&&n.$log.warn("polyline: no valid path attribute found"),new o({scope:t,attrs:r,gMap:i,defaults:n.DEFAULTS})}}(this))},a}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,a){var s;return s=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polylines: no valid path attribute found"),t.models||r.$log.warn("polylines: no models found to create from"),a.link(t,new o(t,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(t,e,n,i){return _.extend(n,{link:function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return new i(t,e,n,r)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,a,s){var l;return l=function(l){function u(){this.link=t(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,l),u.include(r),u.prototype.link=function(t,n,r,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=i.mapPromise(t,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,e.isDefined(r.isiconvisibleonclick)&&(l=t.isIconVisibleOnClick),a?s.deferred.promise.then(function(e){return i.init(t,n,l,o,s)}):void i.init(t,n,l,o)}}(this))},u.prototype.init=function(t,e,n,i,r){var s,l,u,c,d;return l=null!=t.options?t.options:{},c=null!=t&&this.validateCoords(t.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,t,e.html(),l):l,null!=i&&(s=new o({scope:t,opts:d,isIconVisibleOnClick:n,gMap:i,markerScope:r,element:e}),this.childWindows.push(s),t.$on("$destroy",function(t){return function(){return t.childWindows=a.withoutObjects(t.childWindows,[s],function(t,e){return t.scope.$id===e.scope.$id}),t.childWindows.length=0}}(this))),null!=t.control&&(t.control.getGWindows=function(t){return function(){return t.childWindows.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(t){return function(){return t.childWindows}}(this),t.control.getPlurals=t.control.getChildWindows,t.control.showWindow=function(t){return function(){return t.childWindows.map(function(t){return t.showWindow()})}}(this),t.control.hideWindow=function(t){return function(){return t.childWindows.map(function(t){return t.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0},u}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(e,i,r,o,a){var s;return s=function(e){function s(){this.link=t(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),a.debug(this)}return n(s,e),s.prototype.link=function(t,e,n,i){var r,a,s;return r=i[0].getScope(),a=i.length>1&&null!=i[1]?i[1]:void 0,s=null!=a?a.getScope():void 0,r.deferred.promise.then(function(r){return function(a){var l,u;return l=(null!=s&&null!=(u=s.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=r.parentModel)?l.existingPieces:void 0,o?o.then(function(){return r.init(t,e,n,i,a,s)}):r.init(t,e,n,i,a,s)})}}(this))},s.prototype.init=function(t,e,n,o,a,s){var l;return l=new r(t,e,n,o,a,s),i.link(t,l),null!=t.control?(t.control.getGWindows=function(){return l.plurals.map(function(t){return t.gObject})},t.control.getChildWindows=function(){return l.plurals}):void 0},s}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(t){
return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(t,e){return e}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(t,e,n,i,r){return new r(t,e,n,i)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(t,e,n,i,r,o){return new o(t,e,n,i,r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return function(r){return null!=t.onCreated?new i(t,e,n,r,t.onCreated):new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return function(r){return new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,a,s){var l;return new(l=function(){function l(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(t,i,l,u){return n.then(function(n){return function(c){return null==t.template&&(a.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),t.template="uigmap-searchbox-default.tpl.html"),o.get(t.template,{cache:a}).success(function(o){return e.isUndefined(t.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(t,i,l,a,u,s(o)(t)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(t,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,a,s;return o=function(e,n){return t[e](r,"ng-hide").then(function(){return n()})},a=function(e,n){return t[e](r,"ng-hide",n)},s=function(t,i){return e.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+e.version.major+'"'):1===e.version.major&&e.version.minor<3?a(t,i):o(t,i)},i.$watch("uiGmapShow",function(t){return t&&s("removeClass",i.uiGmapAfterShow),t?void 0:s("addClass",i.uiGmapAfterHide)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(t,n,i,r){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s,l){return t.then(function(t){return function(t){var l,u,c,d,h,p,f,g,m,v;return g=void 0,v=void 0,c=!1,p=void 0,f=null,m=null,l=function(){return r.removeEvents(p),null!=g&&(g.unbind("position"),g.setVisible(!1)),null!=v?(null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0):void 0},h=function(t,n){var i;return i=google.maps.geometry.spherical.computeHeading(t,n),c=!0,a.radius=a.radius||50,m=e.extend({heading:i,zoom:1,pitch:0},a.povoptions||{}),f=f=e.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:t,pov:m,visible:!0},a.options||{}),c=!1},u=function(){var t;return a.focalcoord?a.radius?(l(),null==v&&(v=new google.maps.StreetViewService),a.events&&(p=r.setEvents(v,a,a)),t=i.getCoords(a.focalcoord),v.getPanoramaByLocation(t,a.radius,function(e,n){var i,r,o;return null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(v,"image_status_changed",a,n),"OK"===n?(r=e.location.latLng,h(r,t),i=s[0],g=new google.maps.StreetViewPanorama(i,f)):void 0})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return m},a.control.getGObject=function(){return v},a.control.getGPano=function(){return g}),a.$watch("options",function(t,e){return t===e||t===f||c?void 0:u()}),d=!0,a.$watch("focalcoord",function(t,e){return t===e&&!d||null==t?void 0:(d=!1,u())}),a.$on("$destroy",function(){return l()})}}(this))}}}])}.call(this),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){/*
 Version: core-1.0
 The MIT License: Copyright (c) 2012 LiosK.
*/
function t(){}return t.generate=function(){var e=t._gri,n=t._ha;return n(e(32),8)+"-"+n(e(16),4)+"-"+n(16384|e(12),4)+"-"+n(32768|e(14),4)+"-"+n(e(48),12)},t._gri=function(t){return 0>t?NaN:30>=t?0|Math.random()*(1<<t):53>=t?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<t-30)):NaN},t._ha=function(t,e){for(var n=t.toString(16),i=e-n.length,r="0";i>0;i>>>=1,r+=r)1&i&&(n=r+n);return n},t}),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){+function(){/**
 * @name InfoBox
 * @version 1.1.13 [March 19, 2014]
 * @author Gary Little (inspired by proof-of-concept code from Pamela Fox of Google)
 * @copyright Copyright 2010 Gary Little [gary at luxcentral.com]
 * @fileoverview InfoBox extends the Google Maps JavaScript API V3 <tt>OverlayView</tt> class.
 *  <p>
 *  An InfoBox behaves like a <tt>google.maps.InfoWindow</tt>, but it supports several
 *  additional properties for advanced styling. An InfoBox can also be used as a map label.
 *  <p>
 *  An InfoBox also fires the same events as a <tt>google.maps.InfoWindow</tt>.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&("undefined"==typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}/**
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(t,e){t.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function r(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,t.getStyles())}function o(t,e,i){this.extend(o,google.maps.OverlayView),e=e||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}/**
 * @name MarkerWithLabel for V3
 * @version 1.1.10 [April 8, 2014]
 * @author Gary Little (inspired by code from Marc Ridey of Google).
 * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]
 * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3
 *  <code>google.maps.Marker</code> class.
 *  <p>
 *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,
 *  if the marker is draggable, so too will be the label. In addition, a marker with a label
 *  responds to all mouse events in the same manner as a regular marker. It also fires mouse
 *  events and "property changed" events just as a regular marker would. Version 1.1 adds
 *  support for the raiseOnDrag feature introduced in API V3.3.
 *  <p>
 *  If you drag a marker by its label, you can cancel the drag and return the marker to its
 *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker
 *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.
 */
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){this.marker_=t,this.handCursorURL_=t.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(e)}function l(t){t=t||{},t.labelContent=t.labelContent||"",t.labelAnchor=t.labelAnchor||new google.maps.Point(0,0),t.labelClass=t.labelClass||"markerLabels",t.labelStyle=t.labelStyle||{},t.labelInBackground=t.labelInBackground||!1,"undefined"==typeof t.labelVisible&&(t.labelVisible=!0),"undefined"==typeof t.raiseOnDrag&&(t.raiseOnDrag=!0),"undefined"==typeof t.clickable&&(t.clickable=!0),"undefined"==typeof t.draggable&&(t.draggable=!1),"undefined"==typeof t.optimized&&(t.optimized=!1),t.crossImage=t.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",t.handCursor=t.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",t.optimized=!1,this.label=new s(this,t.crossImage,t.handCursor),google.maps.Marker.apply(this,arguments)}/**
 * @license
 * Copyright 2013 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t){var e=t||{};this.ready_=!1,this.dragging_=!1,t.visible==n&&(t.visible=!0),t.shadow==n&&(t.shadow="7px -3px 5px rgba(88,88,88,0.7)"),t.anchor==n&&(t.anchor=c.BOTTOM),this.setValues(e)}e.prototype=new google.maps.OverlayView,e.prototype.createInfoBoxDiv_=function(){var t,e,n,i=this,r=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},o=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),i.enableEventPropagation_||r(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},e.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},e.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},e.prototype.panBox_=function(t){var e,n,i=0,r=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),n=e.getBounds();var o=e.getDiv(),a=o.offsetWidth,s=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+h?i=f.x+l-h:f.x+c+l+h>a&&(i=f.x+c+l+h-a),this.alignBottom_?f.y<-u+p+d?r=f.y+u-p-d:f.y+u+p>s&&(r=f.y+u+p-s):f.y<-u+p?r=f.y+u-p:f.y+d+u+p>s&&(r=f.y+d+u+p-s),0!==i||0!==r){e.getCenter();e.panBy(i,r)}}},e.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},e.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=n.ownerDocument.defaultView.getComputedStyle(n,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(e.top=parseInt(n.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(n.currentStyle.borderRightWidth,10)||0),e},e.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},e.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},e.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},e.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},e.prototype.getContent=function(){return this.content_},e.prototype.getPosition=function(){return this.position_},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.getVisible=function(){var t;return t="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},e.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},e.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},e.prototype.open=function(t,e){var n=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},e.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){function e(t,e){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(t,e)},i.draw=function(){},i.onRemove=function(){},i.setMap(t),this.prjov_=i}var n=function(t){var e;switch(t){case"thin":e="2px";break;case"medium":e="4px";break;case"thick":e="6px";break;default:e=t}return e},i=function(t){var e,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(e=t.ownerDocument.defaultView.getComputedStyle(t,""))return i.top=parseInt(e.borderTopWidth,10)||0,i.bottom=parseInt(e.borderBottomWidth,10)||0,i.left=parseInt(e.borderLeftWidth,10)||0,i.right=parseInt(e.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&t.currentStyle)return i.top=parseInt(n(t.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(t.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(t.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(t.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(t.style["border-top-width"],10)||0,i.bottom=parseInt(t.style["border-bottom-width"],10)||0,i.left=parseInt(t.style["border-left-width"],10)||0,i.right=parseInt(t.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(t){r.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(e){var n=0,i=0;return e=e||t.event,"undefined"!=typeof e.pageX?(n=e.pageX,i=e.pageY):"undefined"!=typeof e.clientX&&(n=e.clientX+r.x,i=e.clientY+r.y),{left:n,top:i}},s=function(e){for(var n=e.offsetLeft,i=e.offsetTop,r=e.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&t.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=a,i+=s,r=r.offsetParent}return{left:n,top:i}},l=function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u=function(t,e){"undefined"!=typeof e&&(t.style.opacity=e),"undefined"!=typeof t.style.opacity&&""!==t.style.opacity&&(t.style.filter="alpha(opacity="+100*t.style.opacity+")")};e.prototype.init_=function(e,n){var r,a=this;for(this.map_=e,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;4>r;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(t){a.onKeyDown_(t)}),google.maps.event.addDomListener(document,"keyup",function(t){a.onKeyUp_(t)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(document,"mousedown",function(t){a.onMouseDownDocument_(t)}),google.maps.event.addDomListener(document,"mousemove",function(t){a.onMouseMove_(t)}),google.maps.event.addDomListener(document,"mouseup",function(t){a.onMouseUp_(t)}),google.maps.event.addDomListener(t,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},e.prototype.initControl_=function(t){var e,n,i=this;return e=document.createElement("div"),e.className=this.visualClass_,e.style.position="relative",e.style.overflow="hidden",e.style.height=this.visualSize_.height+"px",e.style.width=this.visualSize_.width+"px",e.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",e.appendChild(n),e.onclick=function(t){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(t)},e.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},e.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},e.ondragstart=function(){return!1},l(e.style,{cursor:"pointer",marginTop:t.height+"px",marginLeft:t.width+"px"}),e},e.prototype.isHotKeyDown_=function(e){var n;if(e=e||t.event,n=e.shiftKey&&"shift"===this.key_||e.altKey&&"alt"===this.key_||e.ctrlKey&&"ctrl"===this.key_,!n)switch(e.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},e.prototype.isMouseOnMap_=function(){var t=this.mousePosn_;if(t){var e=this.mapPosn_,n=this.map_.getDiv();return t.left>e.left&&t.left<e.left+n.offsetWidth&&t.top>e.top&&t.top<e.top+n.offsetHeight}return!1},e.prototype.setVeilVisibility_=function(){var t;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var e=this.map_.getDiv();if(this.mapWidth_=e.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=e.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",t=1;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.width="0px",this.veilDiv_[t].style.height="0px";for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}}else for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none"},e.prototype.onKeyDown_=function(t){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(t)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},e.prototype.getMousePoint_=function(t){var e=a(t),n=new google.maps.Point;return n.x=e.left-this.mapPosn_.left-this.borderWidths_.left,n.y=e.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},e.prototype.onMouseDown_=function(t){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(t),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var e=this.prjov_.getProjection(),n=e.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},e.prototype.onMouseDownDocument_=function(t){this.mouseDown_=!0},e.prototype.onMouseMove_=function(t){if(this.mousePosn_=a(t),this.dragging_){this.endPt_=this.getMousePoint_(t);var e=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=e+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=e+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(e+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=e+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=e+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=e+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(e,n+r),new google.maps.Point(e+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},e.prototype.onMouseUp_=function(t){var e,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(t).x===this.startPt_.x&&this.getMousePoint_(t).y===this.startPt_.y)return void this.onKeyUp_(t);var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(i+=this.borderWidths_.left,r+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,r+a)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{e=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<e&&this.map_.setZoom(e);var h=l.fromLatLngToContainerPixel(u),p=l.fromLatLngToContainerPixel(c);s&&(h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top,p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top),this.boxDiv_.style.left=h.x+"px",this.boxDiv_.style.top=p.y+"px",this.boxDiv_.style.width=Math.abs(p.x-h.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(p.y-h.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(t),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(t)||this.onKeyUp_(t)}},e.prototype.onKeyUp_=function(t){var e,n,i,r,o,a,s,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,n=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),a=this.prjov_.getProjection(),s=a.fromContainerPixelToLatLng(new google.maps.Point(n,i+o)),l=a.fromContainerPixelToLatLng(new google.maps.Point(n+r,i)),u=new google.maps.LatLngBounds(s,l)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(t){this.dragZoom_=new e(this,t)},google.maps.Map.prototype.disableKeyDragZoom=function(){var t,e=this.dragZoom_;if(e){for(t=0;t<e.listeners_.length;++t)google.maps.event.removeListener(e.listeners_[t]);for(this.getDiv().removeChild(e.boxDiv_),t=0;t<e.veilDiv_.length;t++)this.getDiv().removeChild(e.veilDiv_[t]);e.visualEnabled_&&this.controls[e.visualPosition_].removeAt(e.controlIndex_),e.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var t,e,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(t=!1,!e){var r,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),r=n.cluster_.getBounds(),a.getMap().fitBounds(r),setTimeout(function(){a.getMap().fitBounds(r),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(t+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var n=this.styles_[e];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(t){this.center_=t},i.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.join("")},i.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(t=0;t<n.length;t++)e.extend(n[t].getPosition());return e},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(t){var e,n,i;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n===this.minClusterSize_)for(e=0;n>e;e++)this.markers_[e].setMap(null);else t.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},r.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},r.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)return void this.clusterIcon_.hide();if(t<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},r.prototype.isMarkerAlreadyAdded_=function(t){var e;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},o.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){t.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},o.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var t,e;if(!(this.styles_.length>0))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},o.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),n=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)n.extend(e[t].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(t){this.gridSize_=t},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(t){this.maxZoom_=t},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(t){this.styles_=t},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(t){this.title_=t},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(t){this.averageCenter_=t},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(t){this.imageExtension_=t},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(t){this.imagePath_=t},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(t){this.imageSizes_=t},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(t){this.calculator_=t},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(t){this.clusterClass_=t},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},o.prototype.addMarkers=function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&this.pushMarkerTo_(t[n]);e||this.redraw_()},o.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},o.prototype.removeMarker=function(t,e){var n=this.removeMarker_(t);return!e&&n&&this.repaint(),n},o.prototype.removeMarkers=function(t,e){var n,i,r=!1;for(n=0;n<t.length;n++)i=this.removeMarker_(t[n]),r=r||i;return!e&&r&&this.repaint(),r},o.prototype.removeMarker_=function(t){var e,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(t);else for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e]){n=e;break}return-1===n?!1:(t.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var e;for(e=0;e<t.length;e++)t[e].remove()},0)},o.prototype.getExtendedBounds=function(t){var e=this.getProjection(),n=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),i=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=e.fromDivPixelToLatLng(r),s=e.fromDivPixelToLatLng(o);return t.extend(a),t.extend(s),t},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(t){var e,n;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)n=this.markers_[e],n.isAdded=!1,t&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(t,e){var n=6371,i=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=n*a;return s},o.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},o.prototype.addToClosestCluster_=function(t){var e,n,i,o,a=4e4,s=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,t.getPosition()),a>n&&(a=n,s=i));s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(i=new r(this),i.addMarker(t),this.clusters_.push(i))},o.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;a>e;e++)n=this.markers_[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},o.CALCULATOR=function(t,e){for(var n=0,i="",r=t.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,e),{text:r,index:n,title:i}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],a(s,google.maps.OverlayView),s.getSharedCross=function(t){var e;return"undefined"==typeof s.getSharedCross.crossDiv&&(e=document.createElement("img"),e.style.cssText="position: absolute; z-index: 1000002; display: none;",e.style.marginLeft="-8px",e.style.marginTop="-9px",e.src=t,s.getSharedCross.crossDiv=e),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var t,e,n,i,r,o,a,l=this,u=!1,c=!1,d=20,h="url("+this.handCursorURL_+")",p=function(t){t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",t))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(t){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",t))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(t){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=h),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",t),p(t))}),google.maps.event.addDomListener(document,"mouseup",function(e){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",e)),c){if(r){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(t),i=!0,c=!1,e.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",e)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var s;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-e,i.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),r&&(l.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(e=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),t=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(t){c&&27===t.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",t))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",t),p(t)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",t),p(t))}),google.maps.event.addListener(this.marker_,"dragstart",function(t){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(t){c||r&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(t){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){
l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var t;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var t=this.marker_.get("labelContent");"undefined"==typeof t.nodeType?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(t))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var t,e;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",e=this.marker_.get("labelStyle");for(t in e)e.hasOwnProperty(t)&&(this.labelDiv_.style[t]=e[t],this.eventDiv_.style[t]=e[t]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var t=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-t.x+"px",this.labelDiv_.style.marginTop=-t.y+"px",this.eventDiv_.style.marginLeft=-t.x+"px",this.eventDiv_.style.marginTop=-t.y+"px"},s.prototype.setPosition=function(t){var e=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof t&&(t=0),this.labelDiv_.style.left=Math.round(e.x)+"px",this.labelDiv_.style.top=Math.round(e.y-t)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var t=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(t){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},u.prototype=new google.maps.OverlayView,t.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(t){this.set("visible",t)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(t){this.set("flat",!!t)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(t){this.set("shadow",t),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(t){this.set("zIndex",t)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(t){this.set("draggable",!!t)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(t){this.set("position",t)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(t){this.set("anchor",t)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(t){var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},u.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},u.prototype.setContent=function(t){this.set("content",t)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var t=this.getContent();if(t){"string"==typeof t&&(t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),t=this.htmlToDocumentFragment_(t)),this.markerContent_.appendChild(t);for(var e,n=this,i=this.markerContent_.getElementsByTagName("IMG"),r=0;e=i[r];r++)google.maps.event.addDomListener(e,"mousedown",function(t){n.getDraggable()&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1)}),google.maps.event.addDomListener(e,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(t){if(this.ready_){var e="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==t&&(e="-moz-grabbing"),"dragready"==t&&(e="-moz-grab"),"draggable"==t&&(e="pointer")):(("dragging"==t||"dragready"==t)&&(e="move"),"draggable"==t&&(e="pointer")),this.markerWrapper_.style.cursor!=e&&(this.markerWrapper_.style.cursor=e)}},u.prototype.startDrag=function(t){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var e=this.getMap();this.mapDraggable_=e.get("draggable"),e.set("draggable",!1),this.mouseX_=t.clientX,this.mouseY_=t.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(t){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();var e=this.mouseX_-t.clientX,n=this.mouseY_-t.clientY;this.mouseX_=t.clientX,this.mouseY_=t.clientY;var i=parseInt(this.markerWrapper_.style.left,10)-e,r=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),a=new google.maps.Point(i-o.width,r-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(t){if(t){var e=this;this.draggableListener_=google.maps.event.addDomListener(t,"mousedown",function(t){e.startDrag(t)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var e=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){e.stopDrag(),e.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(t,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(t,"mouseup",function(){e.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var t,e=0;t=this.draggingListeners_[e];e++)google.maps.event.removeListener(t);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var t=this.getAnchor();if("object"==typeof t)return t;var e=new google.maps.Size(0,0);if(!this.markerContent_)return e;var n=this.markerContent_.offsetWidth,i=this.markerContent_.offsetHeight;switch(t){case c.TOP_LEFT:break;case c.TOP:e.width=-n/2;break;case c.TOP_RIGHT:e.width=-n;break;case c.LEFT:e.height=-i/2;break;case c.MIDDLE:e.width=-n/2,e.height=-i/2;break;case c.RIGHT:e.width=-n,e.height=-i/2;break;case c.BOTTOM_LEFT:e.height=-i;break;case c.BOTTOM:e.width=-n/2,e.height=-i;break;case c.BOTTOM_RIGHT:e.width=-n,e.height=-i}return e},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var t=this;google.maps.event.addDomListener(this.markerContent_,"click",function(e){google.maps.event.trigger(t,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(e){google.maps.event.trigger(t,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(e){google.maps.event.trigger(t,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var t=this.getProjection();if(t){var e=this.get("position"),n=t.fromLatLngToDivPixel(e),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+"px",this.markerWrapper_.style.left=n.x+i.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};t.RichMarkerPosition=c,t.InfoBox=e,t.Cluster=r,t.ClusterIcon=i,t.MarkerClusterer=o,t.MarkerLabel_=s,t.MarkerWithLabel=l,t.RichMarker=u}()})}}),function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,n,i){e.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(t,e,n){(function(){t.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(t,e){(function(){var e,n={}.hasOwnProperty;e=function(){function t(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return t.prototype.addNode=function(t){return this._nodes[t]?void 0:(this.nodeSize++,this._nodes[t]={_outEdges:{},_inEdges:{}})},t.prototype.getNode=function(t){return this._nodes[t]},t.prototype.removeNode=function(t){var e,i,r,o,a;if(i=this._nodes[t]){o=i._outEdges;for(r in o)n.call(o,r)&&this.removeEdge(t,r);a=i._inEdges;for(e in a)n.call(a,e)&&this.removeEdge(e,t);return this.nodeSize--,delete this._nodes[t],i}},t.prototype.addEdge=function(t,e,n){var i,r,o;return null==n&&(n=1),!this.getEdge(t,e)&&(r=this._nodes[t],o=this._nodes[e],r&&o)?(i={weight:n},r._outEdges[e]=i,o._inEdges[t]=i,this.edgeSize++,i):void 0},t.prototype.getEdge=function(t,e){var n,i;return n=this._nodes[t],i=this._nodes[e],n&&i?n._outEdges[e]:void 0},t.prototype.removeEdge=function(t,e){var n,i,r;return i=this._nodes[t],r=this._nodes[e],(n=this.getEdge(t,e))?(delete i._outEdges[e],delete r._inEdges[t],this.edgeSize--,n):void 0},t.prototype.getInEdgesOf=function(t){var e,i,r,o;r=this._nodes[t],i=[],o=null!=r?r._inEdges:void 0;for(e in o)n.call(o,e)&&i.push(this.getEdge(e,t));return i},t.prototype.getOutEdgesOf=function(t){var e,i,r,o;e=this._nodes[t],i=[],o=null!=e?e._outEdges:void 0;for(r in o)n.call(o,r)&&i.push(this.getEdge(t,r));return i},t.prototype.getAllEdgesOf=function(t){var e,n,i,r,o,a,s;if(n=this.getInEdgesOf(t),i=this.getOutEdgesOf(t),0===n.length)return i;for(r=this.getEdge(t,t),e=o=0,a=n.length;a>=0?a>o:o>a;e=a>=0?++o:--o)if(n[e]===r){s=[n[n.length-1],n[e]],n[e]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(i)},t.prototype.forEachNode=function(t){var e,i,r;r=this._nodes;for(e in r)n.call(r,e)&&(i=r[e],t(i,e))},t.prototype.forEachEdge=function(t){var e,i,r,o,a,s;a=this._nodes;for(i in a)if(n.call(a,i)){r=a[i],s=r._outEdges;for(o in s)n.call(s,o)&&(e=s[o],t(e))}},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r;e=function(){function t(t){var e,n,i,r,o,a;for(null==t&&(t=[]),this._data=[void 0],i=0,o=t.length;o>i;i++)n=t[i],null!=n&&this._data.push(n);if(this._data.length>1)for(e=r=2,a=this._data.length;a>=2?a>r:r>a;e=a>=2?++r:--r)this._upHeap(e);this.size=this._data.length-1}return t.prototype.add=function(t){return null!=t?(this._data.push(t),this._upHeap(this._data.length-1),this.size++,t):void 0},t.prototype.removeMin=function(){var t;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(t=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),t)},t.prototype.peekMin=function(){return this._data[1]},t.prototype._upHeap=function(t){var e,n;for(e=this._data[t];this._data[t]<this._data[i(t)]&&t>1;)n=[this._data[i(t)],this._data[t]],this._data[t]=n[0],this._data[i(t)]=n[1],t=i(t)},t.prototype._downHeap=function(){var t,e,i;for(t=1;n(t<this._data.length)&&(e=n(t),e<this._data.length-1&&this._data[r(t)]<this._data[e]&&(e=r(t)),this._data[e]<this._data[t]);)i=[this._data[t],this._data[e]],this._data[e]=i[0],this._data[t]=i[1],t=e},t}(),i=function(t){return t>>1},n=function(t){return t<<1},r=function(t){return(t<<1)+1},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=t.length;i>n;n++)e=t[n],this.add(e)}return t.prototype.at=function(t){var e,n,i,r,o;if(-this.size<=t&&t<this.size){if(t=this._adjust(t),2*t<this.size)for(e=this.head,n=i=1;t>=i;n=i+=1)e=e.next;else for(e=this.tail,n=r=1,o=this.size-t-1;o>=r;n=r+=1)e=e.prev;return e}},t.prototype.add=function(t,e){var n,i,r,o,a;return null==e&&(e=this.size),-this.size<=e&&e<=this.size?(i={value:t},e=this._adjust(e),0===this.size?this.head=i:0===e?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(n=this.at(e-1),o=[n.next,i,i,n],i.next=o[0],null!=(a=n.next)?a.prev=o[1]:void 0,n.next=o[2],i.prev=o[3]),e===this.size&&(this.tail=i),this.size++,t):void 0},t.prototype.removeAt=function(t){var e,n,i;return null==t&&(t=this.size-1),-this.size<=t&&t<this.size&&0!==this.size?(t=this._adjust(t),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===t?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(e=this.at(t),n=e.value,e.prev.next=e.next,null!=(i=e.next)&&(i.prev=e.prev),t===this.size-1&&(this.tail=e.prev)),this.size--,n):void 0},t.prototype.remove=function(t){var e;if(null!=t){for(e=this.head;e&&e.value!==t;)e=e.next;if(e)return 1===this.size?this.head.value=this.tail.value=void 0:e===this.head?(this.head=this.head.next,this.head.prev=void 0):e===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(e.prev.next=e.next,e.next.prev=e.prev),this.size--,t}},t.prototype.indexOf=function(t,e){var n,i;if(null==e&&(e=0),null==this.head.value&&!this.head.next||e>=this.size)return-1;for(e=Math.max(0,this._adjust(e)),n=this.at(e),i=e;n&&n.value!==t;)n=n.next,i++;return i===this.size?-1:i},t.prototype._adjust=function(t){return 0>t?this.size+t:t},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r,o={}.hasOwnProperty;n="_mapId_",e=function(){function t(e){var n,i;this._content={},this._itemId=0,this._id=t._newMapId(),this.size=0;for(n in e)o.call(e,n)&&(i=e[n],this.set(n,i))}return t._mapIdTracker=0,t._newMapId=function(){return this._mapIdTracker++},t.prototype.hash=function(t,e){var o,a;return null==e&&(e=!1),a=i(t),r(t)?(o=n+this._id,e&&!t[o]&&(t[o]=this._itemId++),o+"_"+t[o]):a+"_"+t},t.prototype.set=function(t,e){return this.has(t)||this.size++,this._content[this.hash(t,!0)]=[e,t],e},t.prototype.get=function(t){var e;return null!=(e=this._content[this.hash(t)])?e[0]:void 0},t.prototype.has=function(t){return this.hash(t)in this._content},t.prototype["delete"]=function(t){var e;return e=this.hash(t),e in this._content?(delete this._content[e],r(t)&&delete t[n+this._id],this.size--,!0):!1},t.prototype.forEach=function(t){var e,n,i;i=this._content;for(e in i)o.call(i,e)&&(n=i[e],t(n[1],n[0]))},t}(),r=function(t){var e,n,r,o,a;for(e=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(t),o=0,a=e.length;a>o;o++)if(n=e[o],r===n)return!1;return!0},i=function(t){return Object.prototype.toString.apply(t).match(/\[object (.+)\]/)[1]},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){null==t&&(t=[]),this._content=t,this._dequeueIndex=0,this.size=this._content.length}return t.prototype.enqueue=function(t){return this.size++,this._content.push(t),t},t.prototype.dequeue=function(){var t;if(0!==this.size)return this.size--,t=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),t},t.prototype.peek=function(){return this._content[this._dequeueIndex]},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g;n=0,i=1,r=2,s=3,o=1,e=2,a=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root,this.size=0,n=0,i=t.length;i>n;n++)e=t[n],null!=e&&this.add(e)}return t.prototype.add=function(t){var a,d,h,p;if(null!=t){if(this.size++,h={value:t,_color:o},this._root){if(d=l(this._root,function(e){return t===e.value?n:t<e.value?e._left?i:(h._parent=e,e._left=h,s):e._right?r:(h._parent=e,e._right=h,s)}),null!=d)return}else this._root=h;for(a=h;;){if(a===this._root){a._color=e;break}if(a._parent._color===e)break;{if((null!=(p=g(a))?p._color:void 0)!==o){!c(a)&&c(a._parent)?(this._rotateLeft(a._parent),a=a._left):c(a)&&!c(a._parent)&&(this._rotateRight(a._parent),a=a._right),a._parent._color=e,u(a)._color=o,c(a)?this._rotateRight(u(a)):this._rotateLeft(u(a));break}a._parent._color=e,g(a)._color=e,u(a)._color=o,a=u(a)}}return t}},t.prototype.has=function(t){var e;return e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}),e?!0:!1},t.prototype.peekMin=function(){var t;return null!=(t=p(this._root))?t.value:void 0},t.prototype.peekMax=function(){var t;return null!=(t=h(this._root))?t.value:void 0},t.prototype.remove=function(t){var e;return(e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}))?(this._removeNode(this._root,e),this.size--,t):void 0},t.prototype.removeMin=function(){var t,e;return(t=p(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype.removeMax=function(){var t,e;return(t=h(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype._removeNode=function(t,n){var i,r,a,s,l,u,h,g,m,v;if(n._left&&n._right&&(r=p(n._right),n.value=r.value,n=r),r=n._left||n._right,r||(r={color:e,_right:void 0,_left:void 0,isLeaf:!0}),r._parent=n._parent,null!=(a=n._parent)&&(a[d(n)]=r),n._color===e)if(r._color===o)r._color=e,r._parent||(this._root=r);else for(;;){if(!r._parent){r.isLeaf?this._root=void 0:this._root=r;break}if(i=f(r),(null!=i?i._color:void 0)===o&&(r._parent._color=o,i._color=e,c(r)?this._rotateLeft(r._parent):this._rotateRight(r._parent)),i=f(r),r._parent._color!==e||i&&(i._color!==e||i._left&&i._left._color!==e||i._right&&i._right._color!==e)){if(!(r._parent._color!==o||i&&(i._color!==e||i._left&&(null!=(s=i._left)?s._color:void 0)!==e||i._right&&(null!=(l=i._right)?l._color:void 0)!==e))){null!=i&&(i._color=o),r._parent._color=e;break}if((null!=i?i._color:void 0)===e){!c(r)||i._right&&i._right._color!==e||(null!=(u=i._left)?u._color:void 0)!==o?c(r)||i._left&&i._left._color!==e||(null!=(g=i._right)?g._color:void 0)!==o||(i._color=o,null!=(m=i._right)&&(m._color=e),this._rotateLeft(i)):(i._color=o,null!=(h=i._left)&&(h._color=e),this._rotateRight(i));break}i=f(r),i._color=r._parent._color,c(r)?(i._right._color=e,this._rotateRight(r._parent)):(i._left._color=e,this._rotateLeft(r._parent))}else null!=i&&(i._color=o),r.isLeaf&&(r._parent[d(r)]=void 0),r=r._parent}return r.isLeaf&&null!=(v=r._parent)?v[d(r)]=void 0:void 0},t.prototype._rotateLeft=function(t){var e,n;return null!=(e=t._parent)&&(e[d(t)]=t._right),t._right._parent=t._parent,t._parent=t._right,t._right=t._right._left,t._parent._left=t,null!=(n=t._right)&&(n._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t.prototype._rotateRight=function(t){var e,n;return null!=(e=t._parent)&&(e[d(t)]=t._left),t._left._parent=t._parent,t._parent=t._left,t._left=t._left._right,t._parent._right=t,null!=(n=t._left)&&(n._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t}(),c=function(t){return t===t._parent._left},d=function(t){return c(t)?"_left":"_right"},l=function(t,e){var o,a,l;for(a=t,l=void 0;a;){if(o=e(a),o===n){l=a;break}if(o===i)a=a._left;else if(o===r)a=a._right;else if(o===s)break}return l},p=function(t){return l(t,function(t){return t._left?i:n})},h=function(t){return l(t,function(t){return t._right?r:n})},u=function(t){var e;return null!=(e=t._parent)?e._parent:void 0},g=function(t){return u(t)?c(t._parent)?u(t)._right:u(t)._left:void 0},f=function(t){return c(t)?t._parent._right:t._parent._left},t.exports=a}).call(this)},function(t,e,n){(function(){var e,i,r,o,a={}.hasOwnProperty;e=n(6),r="end",i=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root={},this.size=0,n=0,i=t.length;i>n;n++)e=t[n],this.add(e)}return t.prototype.add=function(t){var e,n,i,o;if(null!=t){for(this.size++,e=this._root,i=0,o=t.length;o>i;i++)n=t[i],null==e[n]&&(e[n]={}),e=e[n];return e[r]=!0,t}},t.prototype.has=function(t){var e,n,i,o;if(null==t)return!1;for(e=this._root,i=0,o=t.length;o>i;i++){if(n=t[i],null==e[n])return!1;e=e[n]}return e[r]?!0:!1},t.prototype.longestPrefixOf=function(t){var e,n,i,r,o;if(null==t)return"";for(e=this._root,i="",r=0,o=t.length;o>r&&(n=t[r],null!=e[n]);r++)i+=n,e=e[n];return i},t.prototype.wordsWithPrefix=function(t){var n,i,o,s,l,u,c,d,h,p;if(null==t)return[];for(null!=t||(t=""),c=[],i=this._root,d=0,h=t.length;h>d;d++)if(o=t[d],i=i[o],null==i)return[];for(l=new e,l.enqueue([i,""]);0!==l.size;){p=l.dequeue(),s=p[0],n=p[1],s[r]&&c.push(t+n);for(o in s)a.call(s,o)&&(u=s[o],l.enqueue([u,n+o]))}return c},t.prototype.remove=function(t){var e,n,i,a,s,l,u,c;if(null!=t){for(e=this._root,a=[],s=0,u=t.length;u>s;s++){if(i=t[s],null==e[i])return;e=e[i],a.push([i,e])}if(e[r]){if(this.size--,delete e[r],o(e,1))return t;for(n=l=c=a.length-1;(1>=c?1>=l:l>=1)&&!o(a[n][1],1);n=1>=c?++l:--l)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],t}}},t}(),o=function(t,e){var n,i;if(0===e)return!0;i=0;for(n in t)if(a.call(t,n)&&(i++,i>=e))return!0;return!1},t.exports=i}).call(this)}]),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(e){var n=this;return+function(){/** @preserve OverlappingMarkerSpiderfier
https://github.com/jawj/OverlappingMarkerSpiderfier
Copyright (c) 2011 - 2013 George MacKerron
Released under the MIT licence: http://opensource.org/licenses/mit-license
Note: The Google Maps API v3 must be included *before* this code
 */
var e={}.hasOwnProperty,n=[].slice;this.OverlappingMarkerSpiderfier=function(){function i(t,n){var i,o,a,s,l,u;this.map=t,null==n&&(n={});for(o in n)e.call(n,o)&&(u=n[o],this[o]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],a=0,s=l.length;s>a;a++)i=l[a],r.addListener(this.map,i,function(t){return function(){return t.unspiderfy()}}(this))}var r,o,a,s,l,u,c,d,h,p,f;for(d=i.prototype,h=[i,d],a=0,u=h.length;u>a;a++)f=h[a],f.VERSION="0.3.3";return o=void 0,r=void 0,c=void 0,p=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=p/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,s=d.legColors.highlighted,i.initializeGoogleMaps=function(t){return o=t.maps,r=o.event,c=o.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",s[c.HYBRID]=s[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",s[c.TERRAIN]=s[c.ROADMAP]="#f00",this.ProjHelper=function(t){return this.setMap(t)},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(t){var e;return null!=t._oms?this:(t._oms=!0,e=[r.addListener(t,this.event,function(e){return function(n){return e.spiderListener(t,n)}}(this))],this.markersWontHide||e.push(r.addListener(t,"visible_changed",function(e){return function(){return e.markerChangeListener(t,!1)}}(this))),this.markersWontMove||e.push(r.addListener(t,"position_changed",function(e){return function(){return e.markerChangeListener(t,!0)}}(this))),this.markerListenerRefs.push(e),this.markers.push(t),this)},d.markerChangeListener=function(t,e){return null==t._omsData||!e&&t.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(e?t:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(t){var e,n,i,o,a;if(null!=t._omsData&&this.unspiderfy(),e=this.arrIndexOf(this.markers,t),0>e)return this;for(a=this.markerListenerRefs.splice(e,1)[0],n=0,i=a.length;i>n;n++)o=a[n],r.removeListener(o);return delete t._oms,this.markers.splice(e,1),this},d.clearMarkers=function(){var t,e,n,i,o,a,s,l,u;for(this.unspiderfy(),u=this.markers,t=e=0,n=u.length;n>e;t=++e){for(s=u[t],a=this.markerListenerRefs[t],l=0,i=a.length;i>l;l++)o=a[l],r.removeListener(o);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(t,e){var n;return(null!=(n=this.listeners)[t]?n[t]:n[t]=[]).push(e),this},d.removeListener=function(t,e){var n;return n=this.arrIndexOf(this.listeners[t],e),0>n||this.listeners[t].splice(n,1),this},d.clearListeners=function(t){return this.listeners[t]=[],this},d.trigger=function(){var t,e,i,r,o,a,s,l;for(e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],s=null!=(a=this.listeners[e])?a:[],l=[],r=0,o=s.length;o>r;r++)i=s[r],l.push(i.apply(null,t));return l},d.generatePtsCircle=function(t,e){var n,i,r,a,s,l,u,c;for(r=this.circleFootSeparation*(2+t),l=r/p,i=p/t,c=[],a=s=0,u=t;u>=0?u>s:s>u;a=u>=0?++s:--s)n=this.circleStartAngle+a*i,c.push(new o.Point(e.x+l*Math.cos(n),e.y+l*Math.sin(n)));return c},d.generatePtsSpiral=function(t,e){var n,i,r,a,s,l,u;for(a=this.spiralLengthStart,n=0,u=[],i=r=0,l=t;l>=0?l>r:r>l;i=l>=0?++r:--r)n+=this.spiralFootSeparation/a+5e-4*i,s=new o.Point(e.x+a*Math.cos(n),e.y+a*Math.sin(n)),a+=p*this.spiralLengthFactor/n,u.push(s);return u},d.spiderListener=function(e,n){var i,r,o,a,s,l,u,c,h,p,f,g,m;if(c=null!=e._omsData,c&&this.keepSpiderfied||("mouseover"===this.event?(i=this,r=function(){return i.unspiderfy()},t.clearTimeout(d.timeout),d.timeout=setTimeout(r,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,n);for(p=[],f=[],h=this.nearbyDistance,g=h*h,u=this.llToPt(e.position),m=this.markers,o=0,a=m.length;a>o;o++)s=m[o],null!=s.map&&s.getVisible()&&(l=this.llToPt(s.position),this.ptDistanceSq(l,u)<g?p.push({marker:s,markerPt:l}):f.push(s));return 1===p.length?this.trigger("click",e,n):this.spiderfy(p,f)},d.markersNearMarker=function(t,e){var n,i,r,o,a,s,l,u,c,d,h;if(null==e&&(e=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(l=this.nearbyDistance,u=l*l,a=this.llToPt(t.position),s=[],c=this.markers,n=0,i=c.length;i>n&&(r=c[n],!(r!==t&&null!=r.map&&r.getVisible()&&(o=this.llToPt(null!=(d=null!=(h=r._omsData)?h.usualPosition:void 0)?d:r.position),this.ptDistanceSq(o,a)<u&&(s.push(r),e))));n++);return s},d.markersNearAnyOtherMarker=function(){var t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,g=f*f,h=function(){var t,e,n,i,r,o;for(n=this.markers,o=[],t=0,e=n.length;e>t;t++)s=n[t],o.push({pt:this.llToPt(null!=(i=null!=(r=s._omsData)?r.usualPosition:void 0)?i:s.position),willSpiderfy:!1});return o}.call(this),v=this.markers,e=i=0,r=v.length;r>i;e=++i)if(l=v[e],null!=l.map&&l.getVisible()&&(u=h[e],!u.willSpiderfy))for(y=this.markers,n=p=0,o=y.length;o>p;n=++p)if(c=y[n],n!==e&&null!=c.map&&c.getVisible()&&(d=h[n],(!(e>n)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,w=[],t=m=0,a=b.length;a>m;t=++m)s=b[t],h[t].willSpiderfy&&w.push(s);return w},d.makeHighlightListenerFuncs=function(t){return{highlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.highlighted[e.map.mapTypeId],zIndex:e.highlightedLegZIndex})}}(this),unhighlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.usual[e.map.mapTypeId],zIndex:e.usualLegZIndex})}}(this)}},d.spiderfy=function(t,e){var n,i,a,s,l,u,c,d,h,p,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,p=t.length,n=this.ptAverage(function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)d=t[e],i.push(d.markerPt);return i}()),s=p>=this.circleSpiralSwitchover?this.generatePtsSpiral(p,n).reverse():this.generatePtsCircle(p,n),f=function(){var e,n,d;for(d=[],e=0,n=s.length;n>e;e++)a=s[e],i=this.ptToLl(a),h=this.minExtract(t,function(t){return function(e){return t.ptDistanceSq(e.markerPt,a)}}(this)),c=h.marker,u=new o.Polyline({map:this.map,path:[c.position,i],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:r.addListener(c,"mouseover",l.highlight),unhighlight:r.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(i),c.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,e))},d.unspiderfy=function(t){var e,n,i,o,a,s,l;if(null==t&&(t=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],a=[],s=this.markers,e=0,n=s.length;n>e;e++)o=s[e],null!=o._omsData?(o._omsData.leg.setMap(null),o!==t&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),i=o._omsData.hightlightListeners,null!=i&&(r.removeListener(i.highlight),r.removeListener(i.unhighlight)),delete o._omsData,l.push(o)):a.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,a),this},d.ptDistanceSq=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,n*n+i*i},d.ptAverage=function(t){var e,n,i,r,a,s;for(a=s=0,e=0,n=t.length;n>e;e++)r=t[e],a+=r.x,s+=r.y;return i=t.length,new o.Point(a/i,s/i)},d.llToPt=function(t){return this.projHelper.getProjection().fromLatLngToDivPixel(t)},d.ptToLl=function(t){return this.projHelper.getProjection().fromDivPixelToLatLng(t)},d.minExtract=function(t,e){var n,i,r,o,a,s,l;for(r=a=0,s=t.length;s>a;r=++a)o=t[r],l=e(o),("undefined"==typeof n||null===n||i>l)&&(i=l,n=r);return t.splice(n,1)[0]},d.arrIndexOf=function(t,e){var n,i,r,o;if(null!=t.indexOf)return t.indexOf(e);for(n=i=0,r=t.length;r>i;n=++i)if(o=t[n],o===e)return n;return-1},i}()}.apply(n),e.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(t.google)}),this.OverlappingMarkerSpiderfier}]),e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(e,n){return{init:_.once(function(){(function(){var i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t.NgMapCluster=function(t){function i(t){i.__super__.constructor.call(this,t),this.markers_=new n}return r(i,t),i.prototype.addMarker=function(t){var e,n;if(this.isMarkerAlreadyAdded_(t)){var i=this.markers_.get(t.key);if(i.getPosition().lat()==t.getPosition().lat()&&i.getPosition().lon()==t.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();return t.isAdded=!0,this.markers_.push(t),e=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?t.getMap()!==this.map_&&t.setMap(this.map_):e<this.minClusterSize_?t.getMap()!==this.map_&&t.setMap(this.map_):e===this.minClusterSize_?this.markers_.each(function(t){t.setMap(null)}):t.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(t){return e.isNullOrUndefined(this.markers_.get(t.key))},i.prototype.getBounds=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(e){t.extend(e.getPosition())}),t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},i}(Cluster),t.NgMapMarkerClusterer=function(t){function e(t,i,r){e.__super__.constructor.call(this,t,i,r),this.markers_=new n}return r(e,t),e.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},e.prototype.removeMarker_=function(t){return this.markers_.get(t.key)?(t.setMap(null),this.markers_.remove(t.key),!0):!1},e.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(t+this.batchSize_,this.markers_.length),s=this.markers_.values();for(e=t;a>e;e++)n=s[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0);else{for(e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},e.prototype.addToClosestCluster_=function(t){var e,n,i,r,o=4e4,a=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,t.getPosition()),o>n&&(o=n,a=i));a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(i=new NgMapCluster(this),i.addMarker(t),this.clusters_.push(i))},e.prototype.redraw_=function(){this.createClusters_(0)},e.prototype.resetViewport_=function(t){var e;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[],this.markers_.each(function(e){e.isAdded=!1,t&&e.setMap(null)})},e.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)"constructor"!==e&&(this.prototype[e]=t.prototype[e]);return this}.apply(t,[e])},ClusterIcon.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},e}(MarkerClusterer)}).call(this)})}}])}(window,angular),/**
 * angular-strap
 * @version v2.3.12 - 2017-01-26
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e,n){"use strict";function i(t,n,i,r,o,a){function s(t,n){return angular.element((n||e).querySelectorAll(t))}function l(t){return u[t]?u[t]:u[t]=n.get(t,{cache:a}).then(function(t){return t.data})}this.compile=function(e){e.template&&/\.html$/.test(e.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),e.templateUrl=e.template,e.template="");var n=e.templateUrl,a=e.template||"",u=e.controller,c=e.controllerAs,d=e.resolve||{},h=e.locals||{},p=e.transformTemplate||angular.identity,f=e.bindToController;if(angular.forEach(d,function(t,e){angular.isString(t)?d[e]=i.get(t):d[e]=i.invoke(t)}),angular.extend(d,h),a)d.$template=t.when(a);else{if(!n)throw new Error("Missing `template` / `templateUrl` option.");d.$template=l(n)}return e.titleTemplate&&(d.$template=t.all([d.$template,l(e.titleTemplate)]).then(function(t){var e=angular.element(t[0]);return s('[ng-bind="title"]',e[0]).removeAttr("ng-bind").html(t[1]),e[0].outerHTML})),e.contentTemplate&&(d.$template=t.all([d.$template,l(e.contentTemplate)]).then(function(t){var n=angular.element(t[0]),i=s('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(t[1]);return e.templateUrl||i.next().remove(),n[0].outerHTML})),t.all(d).then(function(t){var n=p(t.$template);e.html&&(n=n.replace(/ng-bind="/gi,'ng-bind-html="'));var i=angular.element("<div>").html(n.trim()).contents(),a=r(i);return{locals:t,element:i,link:function(e){if(t.$scope=e,u){var n=o(u,t,!0);f&&angular.extend(n.instance,t);var r=angular.isObject(n)?n:n();i.data("$ngControllerController",r),i.children().data("$ngControllerController",r),c&&(e[c]=r)}return a.apply(null,arguments)}}})};var u={}}i.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var t=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(e,n,i,r,o){function a(e,n,a){var l={},u=angular.extend({},t,a);l=i(e,u);var c=a.scope,d=l.$scope;d.$resetMatches=function(){d.$matches=[],d.$activeIndex=u.autoSelect?0:-1},d.$resetMatches(),d.$activate=function(t){d.$$postDigest(function(){l.activate(t)})},d.$select=function(t,e){d.$$postDigest(function(){l.select(t)})},d.$isVisible=function(){return l.$isVisible()},l.update=function(t){d.$matches=t,d.$activeIndex>=t.length&&(d.$activeIndex=u.autoSelect?0:-1),s(d),r(l.$applyPlacement)},l.activate=function(t){d.$activeIndex=t},l.select=function(t){if(-1!==t){var e=d.$matches[t].value;n.$setViewValue(e),n.$render(),d.$resetMatches(),c&&c.$digest(),d.$emit(u.prefixEvent+".select",e,t,l),angular.isDefined(u.onSelect)&&angular.isFunction(u.onSelect)&&u.onSelect(e,t,l)}},l.$isVisible=function(){return u.minLength&&n?d.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=u.minLength:!!d.$matches.length},l.$getIndex=function(t){var e;for(e=d.$matches.length;e--&&!angular.equals(d.$matches[e].value,t););return e},l.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},l.$$updateScrollTop=function(t,e){if(e>-1&&e<t.children.length){var n=t.children[e],i=n.offsetTop,r=n.offsetTop+n.clientHeight,o=t.scrollTop,a=t.scrollTop+t.clientHeight;r>=o&&o>i?t.scrollTop=Math.max(0,t.scrollTop-t.clientHeight):r>a&&(t.scrollTop=i)}},l.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(!l.$isVisible()||13===t.keyCode&&-1===d.$activeIndex||(t.preventDefault(),t.stopPropagation()),13===t.keyCode&&d.$matches.length?l.select(d.$activeIndex):38===t.keyCode&&d.$activeIndex>0?d.$activeIndex--:40===t.keyCode&&d.$activeIndex<d.$matches.length-1?d.$activeIndex++:angular.isUndefined(d.$activeIndex)&&(d.$activeIndex=0),l.$$updateScrollTop(l.$element[0],d.$activeIndex),d.$digest())};var h=l.show;l.show=function(){h(),o(function(){l.$element&&(l.$element.on("mousedown",l.$onMouseDown),u.keyboard&&e&&e.on("keydown",l.$onKeyDown))},0,!1)};var p=l.hide;return l.hide=function(){l.$element&&l.$element.off("mousedown",l.$onMouseDown),u.keyboard&&e&&e.off("keydown",l.$onKeyDown),u.autoSelect||l.activate(-1),p()},l}function s(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}return a.defaults=t,a}]}).filter("bsAsyncFilter",["$filter",function(t){return function(e,n,i){return e&&angular.isFunction(e.then)?e.then(function(e){return t("filter")(e,n,i)}):t("filter")(e,n,i)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(t,e,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,a){e.off("change");var s={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(t){angular.isDefined(n[t])&&(s[t]=n[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","trimValue","filter"],function(t){angular.isDefined(n[t])&&l.test(n[t])&&(s[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(e){var i="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(n[i])&&(s[e]=t.$eval(n[i]))}),e.attr("autocomplete")||e.attr("autocomplete","off");var u=angular.isDefined(s.filter)?s.filter:o.filter,c=s.limit||o.limit,d=s.comparator||o.comparator,h=n.bsOptions;u&&(h+=" | "+u+":$viewValue",d&&(h+=":"+d)),c&&(h+=" | limitTo:"+c);var p=r(h),f=i(e,a,s);if(s.watchOptions){var g=p.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();t.$watchCollection(g,function(e,n){p.valuesFn(t,a).then(function(t){f.update(t),a.$render()})})}t.$watch(n.ngModel,function(e,n){t.$modelValue=e,p.valuesFn(t,a).then(function(t){return s.selectMode&&!t.length&&e.length>0?void a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1)):(t.length>c&&(t=t.slice(0,c)),f.update(t),void a.$render())})}),a.$formatters.push(function(t){var e=p.displayValue(t);return e?e:angular.isDefined(t)&&"object"!=typeof t?t:""}),a.$render=function(){if(a.$isEmpty(a.$viewValue))return e.val("");var t=f.$getIndex(a.$modelValue),n=-1!==t?f.$scope.$matches[t].label:a.$viewValue;n=angular.isObject(n)?p.displayValue(n):n;var i=n?n.toString().replace(/<(?:.|\n)*?>/gm,""):"",r=e[0].selectionStart,o=e[0].selectionEnd;e.val(s.trimValue===!1?i:i.trim()),e[0].setSelectionRange(r,o)},t.$on("$destroy",function(){f&&f.destroy(),s=null,f=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var t=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",titleTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,mouseDownPreventDefault:!0,mouseDownStopPropagation:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,i,r,o,a,s,l,u,c,d,h){function p(o,a){function s(){N.$emit(P.prefixEvent+".show",M),angular.isDefined(P.onShow)&&angular.isFunction(P.onShow)&&P.onShow(M)}function p(){if(N.$emit(P.prefixEvent+".hide",M),angular.isDefined(P.onHide)&&angular.isFunction(P.onHide)&&P.onHide(M),F===U){if(V&&"focus"===P.trigger)return o[0].blur();A()}}function m(){var t=P.trigger.split(" ");angular.forEach(t,function(t){"click"===t||"contextmenu"===t?o.on(t,M.toggle):"manual"!==t&&(o.on("hover"===t?"mouseenter":"focus",M.enter),o.on("hover"===t?"mouseleave":"blur",M.leave),"button"===L&&"hover"!==t&&o.on(v?"touchstart":"mousedown",M.$onFocusElementMouseDown))})}function b(){for(var t=P.trigger.split(" "),e=t.length;e--;){var n=t[e];"click"===n||"contextmenu"===n?o.off(n,M.toggle):"manual"!==n&&(o.off("hover"===n?"mouseenter":"focus",M.enter),o.off("hover"===n?"mouseleave":"blur",M.leave),"button"===L&&"hover"!==n&&o.off(v?"touchstart":"mousedown",M.$onFocusElementMouseDown))}}function w(){"focus"!==P.trigger?F.on("keyup",M.$onKeyUp):o.on("keyup",M.$onFocusKeyUp)}function _(){"focus"!==P.trigger?F.off("keyup",M.$onKeyUp):o.off("keyup",M.$onFocusKeyUp)}function C(){h(function(){F.on("click",x),y.on("click",M.hide),W=!0},0,!1)}function k(){W&&(F.off("click",x),y.off("click",M.hide),W=!1)}function x(t){t.stopPropagation()}function S(t){t=t||P.target||o;var i=t[0],r="BODY"===i.tagName,a=i.getBoundingClientRect(),s={};for(var l in a)s[l]=a[l];null===s.width&&(s=angular.extend({},s,{width:a.right-a.left,height:a.bottom-a.top}));var u=r?{top:0,left:0}:c.offset(i),d={scroll:r?e.documentElement.scrollTop||e.body.scrollTop:t.prop("scrollTop")||0},h=r?{width:e.documentElement.clientWidth,height:n.innerHeight}:null;return angular.extend({},s,d,h,u)}function $(t,e,n,i){var r,o=t.split("-");switch(o[0]){case"right":r={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":r={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":r={top:e.top+e.height/2-i/2,left:e.left-n};break;default:r={top:e.top-i,left:e.left+e.width/2-n/2}}if(!o[1])return r;if("top"===o[0]||"bottom"===o[0])switch(o[1]){case"left":r.left=e.left;break;case"right":r.left=e.left+e.width-n}else if("left"===o[0]||"right"===o[0])switch(o[1]){case"top":r.top=e.top-i+e.height;break;case"bottom":r.top=e.top}return r}function D(t,e){var n=F[0],i=n.offsetWidth,r=n.offsetHeight,o=parseInt(c.css(n,"margin-top"),10),a=parseInt(c.css(n,"margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top=t.top+o,t.left=t.left+a,c.setOffset(n,angular.extend({using:function(t){F.css({top:Math.round(t.top)+"px",left:Math.round(t.left)+"px",right:""})}},t),0);var s=n.offsetWidth,l=n.offsetHeight;if("top"===e&&l!==r&&(t.top=t.top+r-l),!/top-left|top-right|bottom-left|bottom-right/.test(e)){var u=T(e,t,s,l);if(u.left?t.left+=u.left:t.top+=u.top,c.setOffset(n,t),/top|right|bottom|left/.test(e)){var d=/top|bottom/.test(e),h=d?2*u.left-i+s:2*u.top-r+l,p=d?"offsetWidth":"offsetHeight";E(h,n[p],d)}}}function T(t,e,n,i){var r={top:0,left:0};if(!M.$viewport)return r;var o=P.viewport&&P.viewport.padding||0,a=S(M.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r}function E(t,e,n){var i=g(".tooltip-arrow, .arrow",F[0]);i.css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")}function A(){clearTimeout(R),M.$isShown&&null!==F&&(P.autoClose&&k(),P.keyboard&&_()),j&&(j.$destroy(),j=null),F&&(F.remove(),F=M.$element=null)}var M={},P=M.$options=angular.extend({},t,a),O=M.$promise=r.compile(P),N=M.$scope=P.scope&&P.scope.$new()||i.$new(),L=o[0].nodeName.toLowerCase();if(P.delay&&angular.isString(P.delay)){var I=P.delay.split(",").map(parseFloat);P.delay=I.length>1?{show:I[0],hide:I[1]}:I[0]}M.$id=P.id||o.attr("id")||"",P.title&&(N.title=u.trustAsHtml(P.title)),N.$setEnabled=function(t){N.$$postDigest(function(){M.setEnabled(t)})},N.$hide=function(){N.$$postDigest(function(){M.hide()})},N.$show=function(){N.$$postDigest(function(){M.show()})},N.$toggle=function(){N.$$postDigest(function(){M.toggle()})},M.$isShown=N.$isShown=!1;var R,B,H,F,z,j;O.then(function(t){H=t,M.init()}),M.init=function(){P.delay&&angular.isNumber(P.delay)&&(P.delay={show:P.delay,hide:P.delay}),"self"===P.container?z=o:angular.isElement(P.container)?z=P.container:P.container&&(z=g(P.container)),m(),P.target&&(P.target=angular.isElement(P.target)?P.target:g(P.target)),P.show&&N.$$postDigest(function(){"focus"===P.trigger?o[0].focus():M.show()})},M.destroy=function(){b(),A(),N.$destroy()},M.enter=function(){return clearTimeout(R),B="in",P.delay&&P.delay.show?void(R=setTimeout(function(){"in"===B&&M.show()},P.delay.show)):M.show()},M.show=function(){if(P.bsEnabled&&!M.$isShown){N.$emit(P.prefixEvent+".show.before",M),angular.isDefined(P.onBeforeShow)&&angular.isFunction(P.onBeforeShow)&&P.onBeforeShow(M);var t,e;P.container?(t=z,e=z[0].lastChild?angular.element(z[0].lastChild):null):(t=null,e=o),F&&A(),j=M.$scope.$new(),F=M.$element=H.link(j,function(t,e){}),F.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),P.animation&&F.addClass(P.animation),P.type&&F.addClass(P.prefixClass+"-"+P.type),P.customClass&&F.addClass(P.customClass),e?e.after(F):t.prepend(F),M.$isShown=N.$isShown=!0,f(N),M.$applyPlacement(),angular.version.minor<=2?l.enter(F,t,e,s):l.enter(F,t,e).then(s),f(N),d(function(){F&&F.css({visibility:"visible"}),P.keyboard&&("focus"!==P.trigger&&M.focus(),w())}),P.autoClose&&C()}},M.leave=function(){return clearTimeout(R),B="out",P.delay&&P.delay.hide?void(R=setTimeout(function(){"out"===B&&M.hide()},P.delay.hide)):M.hide()};var V,U;M.hide=function(t){M.$isShown&&(N.$emit(P.prefixEvent+".hide.before",M),angular.isDefined(P.onBeforeHide)&&angular.isFunction(P.onBeforeHide)&&P.onBeforeHide(M),V=t,U=F,null!==F&&(angular.version.minor<=2?l.leave(F,p):l.leave(F).then(p)),M.$isShown=N.$isShown=!1,f(N),P.keyboard&&null!==F&&_(),P.autoClose&&null!==F&&k())},M.toggle=function(t){t&&t.preventDefault(),M.$isShown?M.leave():M.enter()},M.focus=function(){F[0].focus()},M.setEnabled=function(t){P.bsEnabled=t},M.setViewport=function(t){P.viewport=t},M.$applyPlacement=function(){if(F){var e=P.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||t.placement),F.addClass(P.placement);var r=S(),o=F.prop("offsetWidth"),a=F.prop("offsetHeight");if(M.$viewport=P.viewport&&g(P.viewport.selector||P.viewport),i){var s=e,l=S(M.$viewport);/bottom/.test(s)&&r.bottom+a>l.bottom?e=s.replace("bottom","top"):/top/.test(s)&&r.top-a<l.top&&(e=s.replace("top","bottom")),/left/.test(s)&&r.left-o<l.left?e=e.replace("left","right"):/right/.test(s)&&r.right+o>l.width&&(e=e.replace("right","left")),F.removeClass(s).addClass(e)}var u=$(e,r,o,a);D(u,e)}},M.$onKeyUp=function(t){27===t.which&&M.$isShown&&(M.hide(),t.stopPropagation())},M.$onFocusKeyUp=function(t){27===t.which&&(o[0].blur(),t.stopPropagation())},M.$onFocusElementMouseDown=function(t){P.mouseDownPreventDefault&&t.preventDefault(),P.mouseDownStopPropagation&&t.stopPropagation(),M.$isShown?o[0].blur():o[0].focus()};var W=!1;return M}function f(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function g(t,n){return angular.element((n||e).querySelectorAll(t))}var m=/(ip[ao]d|iphone|android)/gi.test(n.navigator.userAgent),v="createTouch"in n.document&&m,y=angular.element(n.document);return p}]}).directive("bsTooltip",["$window","$location","$sce","$parse","$tooltip","$$rAF",function(t,e,n,i,r,o){return{restrict:"EAC",scope:!0,link:function(t,e,i,a){var s,l={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","titleTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(t){angular.isDefined(i[t])&&(l[t]=i[t])});var u=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(i[t])&&u.test(i[t])&&(l[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(i[n])&&(l[e]=t.$eval(i[n]))});var c=e.attr("data-target");angular.isDefined(c)&&(u.test(c)?l.target=!1:l.target=c),t.hasOwnProperty("title")||(t.title=""),i.$observe("title",function(e){if(angular.isDefined(e)||!t.hasOwnProperty("title")){var i=t.title;t.title=n.trustAsHtml(e),angular.isDefined(i)&&o(function(){s&&s.$applyPlacement()})}}),i.$observe("disabled",function(t){t&&s.$isShown&&s.hide()}),i.bsTooltip&&t.$watch(i.bsTooltip,function(e,n){angular.isObject(e)?angular.extend(t,e):t.title=e,angular.isDefined(n)&&o(function(){s&&s.$applyPlacement()})},!0),i.bsShow&&t.$watch(i.bsShow,function(t,e){s&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(tooltip),?/i)),t===!0?s.show():s.hide())}),i.bsEnabled&&t.$watch(i.bsEnabled,function(t,e){s&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(tooltip),?/i)),t===!1?s.setEnabled(!1):s.setEnabled(!0))}),i.viewport&&t.$watch(i.viewport,function(t){s&&angular.isDefined(t)&&s.setViewport(t)}),s=r(e,l),t.$on("$destroy",function(){s&&s.destroy(),l=null,s=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var t=this.defaults={animation:"am-fade",defaultDate:"auto",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(e,n,i,r,o,a,s){function l(e,n,i){function r(t){var e=6e4*f.minuteStep;return new Date(Math.floor(t.getTime()/e)*e)}function l(t,n){var i=t+n;if(e[0].createTextRange){var r=e[0].createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",i),r.select()}else e[0].setSelectionRange?e[0].setSelectionRange(t,i):angular.isUndefined(e[0].selectionStart)&&(e[0].selectionStart=t,e[0].selectionEnd=i)}function d(){e[0].focus()}var h=a(e,angular.extend({},t,i)),p=i.scope,f=h.$options,g=h.$scope,m=f.lang,v=function(t,e,n){return o.formatDate(t,e,m,n)},y=0,b=f.roundDisplay?r(new Date):new Date,w=n.$dateValue||b,_={hour:w.getHours(),meridian:w.getHours()<12,minute:w.getMinutes(),second:w.getSeconds(),millisecond:w.getMilliseconds()},C=o.getDatetimeFormat(f.timeFormat,m),k=o.hoursFormat(C),x=o.timeSeparator(C),S=o.minutesFormat(C),$=o.secondsFormat(C),D=o.showSeconds(C),T=o.showAM(C);g.$iconUp=f.iconUp,g.$iconDown=f.iconDown,g.$select=function(t,e){h.select(t,e)},g.$moveIndex=function(t,e){h.$moveIndex(t,e)},g.$switchMeridian=function(t){h.switchMeridian(t)},h.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())?(h.$date=t,angular.extend(_,{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),h.$build()):h.$isBuilt||h.$build()},h.select=function(t,e,i){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue="today"===f.defaultDate?new Date:new Date(1970,0,1)),angular.isDate(t)||(t=new Date(t)),0===e?n.$dateValue.setHours(t.getHours()):1===e?n.$dateValue.setMinutes(t.getMinutes()):2===e&&n.$dateValue.setSeconds(t.getSeconds()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),f.autoclose&&!i&&s(function(){h.hide(!0)})},h.switchMeridian=function(t){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var e=(t||n.$dateValue).getHours();n.$dateValue.setHours(12>e?e+12:e-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},h.$build=function(){var t,e,n=g.midIndex=parseInt(f.length/2,10),i=[];for(t=0;t<f.length;t++)e=new Date(1970,0,1,_.hour-(n-t)*f.hourStep),i.push({date:e,label:v(e,k),selected:h.$date&&h.$isSelected(e,0),disabled:h.$isDisabled(e,0)});var r,o=[];for(t=0;t<f.length;t++)r=new Date(1970,0,1,0,_.minute-(n-t)*f.minuteStep),o.push({date:r,label:v(r,S),selected:h.$date&&h.$isSelected(r,1),disabled:h.$isDisabled(r,1)});var a,s=[];for(t=0;t<f.length;t++)a=new Date(1970,0,1,0,0,_.second-(n-t)*f.secondStep),s.push({date:a,label:v(a,$),selected:h.$date&&h.$isSelected(a,2),disabled:h.$isDisabled(a,2)});var l=[];for(t=0;t<f.length;t++)D?l.push([i[t],o[t],s[t]]):l.push([i[t],o[t]]);g.rows=l,g.showSeconds=D,g.showAM=T,g.isAM=(h.$date||i[n].date).getHours()<12,g.timeSeparator=x,h.$isBuilt=!0},h.$isSelected=function(t,e){return h.$date?0===e?t.getHours()===h.$date.getHours():1===e?t.getMinutes()===h.$date.getMinutes():2===e?t.getSeconds()===h.$date.getSeconds():void 0:!1},h.$isDisabled=function(t,e){var n;return 0===e?n=t.getTime()+6e4*_.minute+1e3*_.second:1===e?n=t.getTime()+36e5*_.hour+1e3*_.second:2===e&&(n=t.getTime()+36e5*_.hour+6e4*_.minute),n<1*f.minTime||n>1*f.maxTime},g.$arrowAction=function(t,e){"picker"===f.arrowBehavior?h.$setTimeByStep(t,e):h.$moveIndex(t,e)},h.$setTimeByStep=function(t,e){var n=new Date(h.$date||w),i=n.getHours(),r=n.getMinutes(),o=n.getSeconds();0===e?n.setHours(i-parseInt(f.hourStep,10)*t):1===e?n.setMinutes(r-parseInt(f.minuteStep,10)*t):2===e&&n.setSeconds(o-parseInt(f.secondStep,10)*t),h.select(n,e,!0)},h.$moveIndex=function(t,e){var n;0===e?(n=new Date(1970,0,1,_.hour+t*f.length,_.minute,_.second),angular.extend(_,{hour:n.getHours()})):1===e?(n=new Date(1970,0,1,_.hour,_.minute+t*f.length*f.minuteStep,_.second),angular.extend(_,{minute:n.getMinutes()})):2===e&&(n=new Date(1970,0,1,_.hour,_.minute,_.second+t*f.length*f.secondStep),angular.extend(_,{second:n.getSeconds()})),h.$build()},h.$onMouseDown=function(t){if("input"!==t.target.nodeName.toLowerCase()&&t.preventDefault(),t.stopPropagation(),c){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},h.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return void h.hide(!0);var e=new Date(h.$date),n=e.getHours(),i=v(e,k).length,r=e.getMinutes(),o=v(e,S).length,a=e.getSeconds(),s=v(e,$).length,u=1,c=/(37|39)/.test(t.keyCode),d=2+1*D+1*T;c&&(37===t.keyCode?y=1>y?d-1:y-1:39===t.keyCode&&(y=d-1>y?y+1:0));var g=[0,i],m=0;38===t.keyCode&&(m=-1),40===t.keyCode&&(m=1);var b=2===y&&D,w=2===y&&!D||3===y&&D;0===y?(e.setHours(n+m*parseInt(f.hourStep,10)),i=v(e,k).length,g=[0,i]):1===y?(e.setMinutes(r+m*parseInt(f.minuteStep,10)),o=v(e,S).length,g=[i+u,o]):b?(e.setSeconds(a+m*parseInt(f.secondStep,10)),s=v(e,$).length,g=[i+u+o+u,s]):w&&(c||h.switchMeridian(),g=[i+u+o+u+(s+u)*D,2]),h.select(e,y,!0),l(g[0],g[1]),p.$digest()}};var E=h.init;h.init=function(){return u&&f.useNative?(e.prop("type","time"),void e.css("-webkit-appearance","textfield")):(c&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",d)),void E())};var A=h.destroy;h.destroy=function(){u&&f.useNative&&e.off("click",d),A()};var M=h.show;h.show=function(){!c&&e.attr("readonly")||e.attr("disabled")||(M(),s(function(){h.$element&&h.$element.on(c?"touchstart":"mousedown",h.$onMouseDown),f.keyboard&&e&&e.on("keydown",h.$onKeyDown)},0,!1))};var P=h.hide;return h.hide=function(t){h.$isShown&&(h.$element&&h.$element.off(c?"touchstart":"mousedown",h.$onMouseDown),f.keyboard&&e&&e.off("keydown",h.$onKeyDown),P(t))},h}var u=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),c="createTouch"in e.document&&u;return t.lang||(t.lang=o.getDefaultLocale()),l.defaults=t,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(t,e,i,r,o,a){var s=a.defaults,l=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(t,e,i,u){function c(t){if(angular.isDate(t)){var e=isNaN(h.minTime)||new Date(t.getTime()).setFullYear(1970,0,1)>=h.minTime,n=isNaN(h.maxTime)||new Date(t.getTime()).setFullYear(1970,0,1)<=h.maxTime,i=e&&n;u.$setValidity("date",i),u.$setValidity("min",e),u.$setValidity("max",n),i&&(u.$dateValue=t)}}function d(){return!u.$dateValue||isNaN(u.$dateValue.getTime())?"":m(u.$dateValue,h.timeFormat)}var h={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent","defaultDate"],function(t){angular.isDefined(i[t])&&(h[t]=i[t])});var p=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(t){angular.isDefined(i[t])&&p.test(i[t])&&(h[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(i[n])&&(h[e]=t.$eval(i[n]))}),l&&(h.useNative||s.useNative)&&(h.timeFormat="HH:mm");var f=a(e,u,h);h=f.$options;var g=h.lang,m=function(t,e,n){return r.formatDate(t,e,g,n)};i.bsShow&&t.$watch(i.bsShow,function(t,e){f&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(timepicker),?/i)),t===!0?f.show():f.hide())});var v=o({format:h.timeFormat,lang:g});angular.forEach(["minTime","maxTime"],function(t){angular.isDefined(i[t])&&i.$observe(t,function(e){f.$options[t]=v.getTimeForAttribute(t,e),isNaN(f.$options[t])||f.$build(),c(u.$dateValue)})}),t.$watch(i.ngModel,function(t,e){f.update(u.$dateValue)},!0),u.$parsers.unshift(function(t){var e;if(!t)return u.$setValidity("date",!0),null;var i=angular.isDate(t)?t:v.parse(t,u.$dateValue);return!i||isNaN(i.getTime())?(u.$setValidity("date",!1),n):(c(i),"string"===h.timeType?(e=v.timezoneOffsetAdjust(i,h.timezone,!0),m(e,h.modelTimeFormat||h.timeFormat)):(e=v.timezoneOffsetAdjust(u.$dateValue,h.timezone,!0),"number"===h.timeType?e.getTime():"unix"===h.timeType?e.getTime()/1e3:"iso"===h.timeType?e.toISOString():new Date(e)))}),u.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===h.timeType?v.parse(t,null,h.modelTimeFormat):"unix"===h.timeType?new Date(1e3*t):new Date(t),u.$dateValue=v.timezoneOffsetAdjust(e,h.timezone),d()}),u.$render=function(){e.val(d())},t.$on("$destroy",function(){f&&f.destroy(),h=null,f=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var t=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},e=this.controller=function(e,n,i){var r=this;r.$options=angular.copy(t),angular.forEach(["animation","navClass","activeClass"],function(t){angular.isDefined(i[t])&&(r.$options[t]=i[t])}),e.$navClass=r.$options.navClass,e.$activeClass=r.$options.activeClass,r.$panes=e.$panes=[],r.$activePaneChangeListeners=r.$viewChangeListeners=[],r.$push=function(t){angular.isUndefined(r.$panes.$active)&&e.$setActive(t.name||0),r.$panes.push(t)},r.$remove=function(t){var e,n=r.$panes.indexOf(t),i=r.$panes.$active;e=angular.isString(i)?r.$panes.map(function(t){return t.name}).indexOf(i):r.$panes.$active,r.$panes.splice(n,1),e>n?e--:n===e&&e===r.$panes.length&&e--,e>=0&&e<r.$panes.length?r.$setActive(r.$panes[e].name||e):r.$setActive()},r.$setActive=e.$setActive=function(t){r.$panes.$active=t,r.$activePaneChangeListeners.forEach(function(t){t()})},r.$isActive=e.$isActive=function(t,e){return r.$panes.$active===t.name||r.$panes.$active===e}};this.$get=function(){var n={};return n.defaults=t,n.controller=e,n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(t,e,n,i){var r=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(t,e){return e.template||r.template},link:function(t,e,n,r){var o=r[0],a=r[1];if(o&&(a.$activePaneChangeListeners.push(function(){o.$setViewValue(a.$panes.$active)}),o.$formatters.push(function(t){return a.$setActive(t),t})),n.bsActivePane){var s=i(n.bsActivePane);a.$activePaneChangeListeners.push(function(){s.assign(t,a.$panes.$active)}),t.$watch(n.bsActivePane,function(t,e){a.$setActive(t)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(t,e,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(t,i,r,o){function a(){var n=s.$panes.indexOf(t);e[s.$isActive(t,n)?"addClass":"removeClass"](i,s.$options.activeClass)}var s=o[1];i.addClass("tab-pane"),r.$observe("title",function(e,i){t.title=n.trustAsHtml(e)}),t.name=r.name,s.$options.animation&&i.addClass(s.$options.animation),r.$observe("disabled",function(e,n){t.disabled=t.$eval(e)}),s.$push(t),t.$on("$destroy",function(){s.$remove(t)}),s.$activePaneChangeListeners.push(function(){a()}),a()}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var t=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok",toggle:!1};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(e,i,r,o,a){function s(r,s,l){var c={},d=angular.extend({},t,l);c=o(r,d);var h=c.$scope;h.$matches=[],d.multiple?h.$activeIndex=[]:h.$activeIndex=-1,h.$isMultiple=d.multiple,h.$showAllNoneButtons=d.allNoneButtons&&d.multiple,h.$iconCheckmark=d.iconCheckmark,h.$allText=d.allText,h.$noneText=d.noneText,h.$activate=function(t){h.$$postDigest(function(){c.activate(t)})},h.$select=function(t,e){h.$$postDigest(function(){c.select(t)})},h.$isVisible=function(){return c.$isVisible()},h.$isActive=function(t){return c.$isActive(t)},h.$selectAll=function(){for(var t=0;t<h.$matches.length;t++)h.$isActive(t)||h.$select(t)},h.$selectNone=function(){for(var t=0;t<h.$matches.length;t++)h.$isActive(t)&&h.$select(t)},c.update=function(t){h.$matches=t,c.$updateActiveIndex()},c.activate=function(t){return d.multiple?(c.$isActive(t)?h.$activeIndex.splice(h.$activeIndex.indexOf(t),1):h.$activeIndex.push(t),d.sort&&h.$activeIndex.sort(function(t,e){return t-e})):h.$activeIndex=t,h.$activeIndex},c.select=function(t){if(!(angular.isUndefined(t)||0>t||t>=h.$matches.length)){var e=h.$matches[t].value;h.$apply(function(){c.activate(t),d.multiple?s.$setViewValue(h.$activeIndex.map(function(t){return angular.isUndefined(h.$matches[t])?null:h.$matches[t].value})):(d.toggle?s.$setViewValue(e===s.$modelValue?n:e):s.$setViewValue(e),c.hide())}),h.$emit(d.prefixEvent+".select",e,t,c),angular.isDefined(d.onSelect)&&angular.isFunction(d.onSelect)&&d.onSelect(e,t,c)}},c.$updateActiveIndex=function(){d.multiple?angular.isArray(s.$modelValue)?h.$activeIndex=s.$modelValue.map(function(t){return c.$getIndex(t)}):h.$activeIndex=[]:angular.isDefined(s.$modelValue)&&h.$matches.length?h.$activeIndex=c.$getIndex(s.$modelValue):h.$activeIndex=-1},c.$isVisible=function(){return d.minLength&&s?h.$matches.length&&s.$viewValue.length>=d.minLength:h.$matches.length},c.$isActive=function(t){return d.multiple?-1!==h.$activeIndex.indexOf(t):h.$activeIndex===t},c.$getIndex=function(t){var e;for(e=h.$matches.length;e--&&!angular.equals(h.$matches[e].value,t););return e},c.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),u){var e,n=angular.element(t.target);if("A"!==t.target.nodeName)for(var i=n.parent();!e&&i.length>0;)"A"===i[0].nodeName&&(e=i),i=i.parent();e?angular.element(e).triggerHandler("click"):n.triggerHandler("click")}},c.$onKeyDown=function(t){return/(9|13|38|40)/.test(t.keyCode)?(9!==t.keyCode&&(t.preventDefault(),t.stopPropagation()),d.multiple&&9===t.keyCode?c.hide():d.multiple||13!==t.keyCode&&9!==t.keyCode?void(d.multiple||(38===t.keyCode&&h.$activeIndex>0?h.$activeIndex--:38===t.keyCode&&h.$activeIndex<0?h.$activeIndex=h.$matches.length-1:40===t.keyCode&&h.$activeIndex<h.$matches.length-1?h.$activeIndex++:angular.isUndefined(h.$activeIndex)&&(h.$activeIndex=0),h.$digest())):c.select(h.$activeIndex)):void 0},c.$isIE=function(){var t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0;
},c.$selectScrollFix=function(t){"UL"===i[0].activeElement.tagName&&(t.preventDefault(),t.stopImmediatePropagation(),t.target.focus())};var p=c.show;c.show=function(){p(),d.multiple&&c.$element.addClass("select-multiple"),a(function(){c.$element.on(u?"touchstart":"mousedown",c.$onMouseDown),d.keyboard&&r.on("keydown",c.$onKeyDown)},0,!1)};var f=c.hide;return c.hide=function(){!d.multiple&&angular.isUndefined(s.$modelValue)&&(h.$activeIndex=-1),c.$element.off(u?"touchstart":"mousedown",c.$onMouseDown),d.keyboard&&r.off("keydown",c.$onKeyDown),f(!0)},c}var l=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),u="createTouch"in e.document&&l;return s.defaults=t,s}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(t,e,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,a){var s={scope:t,placeholder:o.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent","toggle"],function(t){angular.isDefined(n[t])&&(s[t]=n[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(t){angular.isDefined(n[t])&&l.test(n[t])&&(s[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(e){var i="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(n[i])&&(s[e]=t.$eval(n[i]))});var u=e.attr("data-multiple");if(angular.isDefined(u)&&(l.test(u)?s.multiple=!1:s.multiple=u),"select"===e[0].nodeName.toLowerCase()){var c=e;c.css("display","none"),e=angular.element('<button type="button" class="btn btn-default"></button>'),c.after(e)}var d=r(n.bsOptions),h=i(e,a,s);h.$isIE()&&e[0].addEventListener("blur",h.$selectScrollFix);var p=d.$match[7].replace(/\|.+/,"").trim();t.$watch(p,function(e,n){d.valuesFn(t,a).then(function(t){h.update(t),a.$render()})},!0),t.$watch(n.ngModel,function(t,e){h.$updateActiveIndex(),a.$render()},!0),a.$render=function(){var t,n;s.multiple&&angular.isArray(a.$modelValue)?(t=a.$modelValue.map(function(t){return n=h.$getIndex(t),-1!==n?h.$scope.$matches[n].label:!1}).filter(angular.isDefined),t=t.length>(s.maxLength||o.maxLength)?t.length+" "+(s.maxLengthHtml||o.maxLengthHtml):t.join(", ")):(n=h.$getIndex(a.$modelValue),t=-1!==n?h.$scope.$matches[n].label:!1),e.html((t||s.placeholder)+(s.caretHtml||o.caretHtml))},s.multiple&&(a.$isEmpty=function(t){return!t||0===t.length}),t.$on("$destroy",function(){h&&h.destroy(),s=null,h=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var t=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(i,r,o,a,s,l){function u(t,e){return t[0].nodeName&&t[0].nodeName.toLowerCase()===e.toLowerCase()}function c(r){var c=angular.extend({},n,r);c.element||(c.element=p);var f=u(c.element,"body"),g=f?d:c.element,m=f?"window":c.id;if(t[m])return t[m].$$count++,t[m];var v,y,b,w,_,C,k,x,S={},$=S.$trackedElements=[],D=[];return S.init=function(){this.$$count=1,w=s(this.checkPosition,c.debounce),_=l(this.checkPosition,c.throttle),g.on("click",this.checkPositionWithEventLoop),d.on("resize",w),g.on("scroll",_),C=s(this.checkOffsets,c.debounce),v=o.$on("$viewContentLoaded",C),y=o.$on("$includeContentLoaded",C),C(),m&&(t[m]=S)},S.destroy=function(){this.$$count--,this.$$count>0||(g.off("click",this.checkPositionWithEventLoop),d.off("resize",w),g.off("scroll",_),v(),y(),m&&delete t[m])},S.checkPosition=function(){if(D.length){if(x=(f?i.pageYOffset:g.prop("scrollTop"))||0,k=Math.max(i.innerHeight,h.prop("clientHeight")),x<D[0].offsetTop&&b!==D[0].target)return S.$activateElement(D[0]);for(var t=D.length;t--;)if(!angular.isUndefined(D[t].offsetTop)&&null!==D[t].offsetTop&&b!==D[t].target&&!(x<D[t].offsetTop||D[t+1]&&x>D[t+1].offsetTop))return S.$activateElement(D[t])}},S.checkPositionWithEventLoop=function(){setTimeout(S.checkPosition,1)},S.$activateElement=function(t){if(b){var e=S.$getTrackedElement(b);e&&(e.source.removeClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().removeClass("active"))}b=t.target,t.source.addClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().addClass("active")},S.$getTrackedElement=function(t){return $.filter(function(e){return e.target===t})[0]},S.checkOffsets=function(){angular.forEach($,function(t){var n=e.querySelector(t.target);t.offsetTop=n?a.offset(n).top:null,c.offset&&null!==t.offsetTop&&(t.offsetTop-=1*c.offset)}),D=$.filter(function(t){return null!==t.offsetTop}).sort(function(t,e){return t.offsetTop-e.offsetTop}),w()},S.trackElement=function(t,e){$.push({target:t,source:e})},S.untrackElement=function(t,e){for(var n,i=$.length;i--;)if($[i].target===t&&$[i].source===e){n=i;break}$.splice(n,1)},S.activate=function(t){$[t].addClass("active")},S.init(),S}var d=angular.element(i),h=angular.element(r.prop("documentElement")),p=angular.element(i.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,i){return{restrict:"EAC",link:function(t,e,n){var r={scope:t};angular.forEach(["offset","target"],function(t){angular.isDefined(n[t])&&(r[t]=n[t])});var o=i(r);o.trackElement(r.target,e),t.$on("$destroy",function(){o&&(o.untrackElement(r.target,e),o.destroy()),r=null,o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,i){return{restrict:"A",compile:function(t,e){var n=t[0].querySelectorAll("li > a[href]");angular.forEach(n,function(t){var e=angular.element(t);e.parent().attr("bs-scrollspy","").attr("data-target",e.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var t=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(e){function n(n,i){var r=angular.extend({},t,i),o=e(n,r);return r.content&&(o.$scope.content=r.content),o}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(t,e,n){var i=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,o){var a,s={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent","bsEnabled"],function(t){angular.isDefined(o[t])&&(s[t]=o[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(t){angular.isDefined(o[t])&&l.test(o[t])&&(s[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(o[n])&&(s[e]=t.$eval(o[n]))});var u=r.attr("data-target");angular.isDefined(u)&&(l.test(u)?s.target=!1:s.target=u),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(r,o){t[n]=e.trustAsHtml(r),angular.isDefined(o)&&i(function(){a&&a.$applyPlacement()})})}),o.bsPopover&&t.$watch(o.bsPopover,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e,angular.isDefined(n)&&i(function(){a&&a.$applyPlacement()})},!0),o.bsShow&&t.$watch(o.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(popover),?/i)),t===!0?a.show():a.hide())}),o.bsEnabled&&t.$watch(o.bsEnabled,function(t){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(popover),?/i)),t===!1?a.setEnabled(!1):a.setEnabled(!0))}),o.viewport&&t.$watch(o.viewport,function(t){a&&angular.isDefined(t)&&a.setViewport(t)}),a=n(r,s),t.$on("$destroy",function(){a&&a.destroy(),s=null,a=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var t=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:t}}}).directive("bsNavbar",["$window","$location","$navbar",function(t,e,n){var i=n.defaults;return{restrict:"A",link:function(t,n,r,o){var a=angular.copy(i);angular.forEach(Object.keys(i),function(t){angular.isDefined(r[t])&&(a[t]=r[t])}),t.$watch(function(){return e.path()},function(t,e){var i=n[0].querySelectorAll("li["+a.routeAttr+"]");angular.forEach(i,function(e){var n=angular.element(e),i=n.attr(a.routeAttr).replace("/","\\/");a.strict&&(i="^"+i+"$");var r=new RegExp(i,"i");r.test(t)?n.addClass(a.activeClass):n.removeClass(a.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var t=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null,zIndex:null};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(n,i,r,o,a,s,l){function u(e){function n(){D.$emit(S.prefixEvent+".show",x),angular.isDefined(S.onShow)&&angular.isFunction(S.onShow)&&S.onShow(x)}function a(){D.$emit(S.prefixEvent+".hide",x),angular.isDefined(S.onHide)&&angular.isFunction(S.onHide)&&S.onHide(x),d(".modal").length<=0&&f.removeClass(S.prefixClass+"-open"),S.animation&&f.removeClass(S.prefixClass+"-with-"+S.animation)}function l(){S.backdrop&&(E.on("click",_),M.on("click",_),M.on("wheel",C))}function u(){S.backdrop&&(E.off("click",_),M.off("click",_),M.off("wheel",C))}function b(){S.keyboard&&E.on("keyup",x.$onKeyUp)}function w(){S.keyboard&&E.off("keyup",x.$onKeyUp)}function _(t){t.target===t.currentTarget&&("static"===S.backdrop?x.focus():x.hide())}function C(t){t.preventDefault()}function k(){x.$isShown&&null!==E&&(u(),w()),A&&(A.$destroy(),A=null),E&&(E.remove(),E=x.$element=null)}var x={},S=x.$options=angular.extend({},t,e),$=x.$promise=r.compile(S),D=x.$scope=S.scope&&S.scope.$new()||i.$new();S.element||S.container||(S.container="body"),S.zIndex&&(m=parseInt(S.zIndex,10),v=m-10),x.$id=S.id||S.element&&S.element.attr("id")||"",h(["title","content"],function(t){S[t]&&(D[t]=s.trustAsHtml(S[t]))}),D.$hide=function(){D.$$postDigest(function(){x.hide()})},D.$show=function(){D.$$postDigest(function(){x.show()})},D.$toggle=function(){D.$$postDigest(function(){x.toggle()})},x.$isShown=D.$isShown=!1;var T,E,A,M=angular.element('<div class="'+S.prefixClass+'-backdrop"/>');return M.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),$.then(function(t){T=t,x.init()}),x.init=function(){S.show&&D.$$postDigest(function(){x.show()})},x.destroy=function(){k(),M&&(M.remove(),M=null),D.$destroy()},x.show=function(){if(!x.$isShown){var t,e;if(angular.isElement(S.container)?(t=S.container,e=S.container[0].lastChild?angular.element(S.container[0].lastChild):null):S.container?(t=d(S.container),e=t[0]&&t[0].lastChild?angular.element(t[0].lastChild):null):(t=null,e=S.element),E&&k(),A=x.$scope.$new(),E=x.$element=T.link(A,function(t,e){}),S.backdrop&&(E.css({"z-index":m+20*g}),M.css({"z-index":v+20*g}),g++),!D.$emit(S.prefixEvent+".show.before",x).defaultPrevented){angular.isDefined(S.onBeforeShow)&&angular.isFunction(S.onBeforeShow)&&S.onBeforeShow(x),E.css({display:"block"}).addClass(S.placement),S.customClass&&E.addClass(S.customClass),S.size&&y[S.size]&&angular.element(d(".modal-dialog",E[0])).addClass(y[S.size]),S.animation&&(S.backdrop&&M.addClass(S.backdropAnimation),E.addClass(S.animation)),S.backdrop&&o.enter(M,f,null),angular.version.minor<=2?o.enter(E,t,e,n):o.enter(E,t,e).then(n),x.$isShown=D.$isShown=!0,c(D);var i=E[0];p(function(){i.focus()}),f.addClass(S.prefixClass+"-open"),S.animation&&f.addClass(S.prefixClass+"-with-"+S.animation),l(),b()}}},x.hide=function(){x.$isShown&&(D.$emit(S.prefixEvent+".hide.before",x).defaultPrevented||(angular.isDefined(S.onBeforeHide)&&angular.isFunction(S.onBeforeHide)&&S.onBeforeHide(x),angular.version.minor<=2?o.leave(E,a):o.leave(E).then(a),S.backdrop&&(g--,o.leave(M)),x.$isShown=D.$isShown=!1,c(D),u(),w()))},x.toggle=function(){x.$isShown?x.hide():x.show()},x.focus=function(){E[0].focus()},x.$onKeyUp=function(t){27===t.which&&x.$isShown&&(x.hide(),t.stopPropagation())},x}function c(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function d(t,n){return angular.element((n||e).querySelectorAll(t))}var h=angular.forEach,p=n.requestAnimationFrame||n.setTimeout,f=angular.element(n.document.body),g=0,m=1050,v=1040,y={lg:"modal-lg",sm:"modal-sm"};return u}]}).directive("bsModal",["$window","$sce","$parse","$modal",function(t,e,n,i){return{restrict:"EAC",scope:!0,link:function(t,n,r,o){var a={scope:t,element:n,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass","size","zIndex"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])}),a.modalClass&&(a.customClass=a.modalClass);var s=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(r[t])&&s.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(r[n])&&(a[e]=t.$eval(r[n]))}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i,r){t[n]=e.trustAsHtml(i)})}),r.bsModal&&t.$watch(r.bsModal,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var l=i(a);n.on(r.trigger||"click",l.toggle),t.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var t=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(e,n){function i(i,r){function o(t,e){return t.map(function(t,n){var i,r,o={};return o[c]=t,i=u(e,o),r=p(e,o),{label:i,value:r,index:n}})}var a={},s=angular.extend({},t,r);a.$values=[];var l,u,c,d,h,p,f;return a.init=function(){a.$match=l=i.match(s.regexp),u=e(l[2]||l[1]),c=l[4]||l[6],d=l[5],h=e(l[3]||""),p=e(l[2]?l[1]:c),f=e(l[7])},a.valuesFn=function(t,e){return n.when(f(t,e)).then(function(e){return angular.isArray(e)||(e=[]),a.$values=e.length?o(e,t):[],a.$values})},a.displayValue=function(t){var e={};return e[c]=t,u(e)},a.init(),a}return i}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){function e(t){var e=t.ownerDocument,r=t.offsetParent||e;if(i(r,"#document"))return e.documentElement;for(;r&&!i(r,"html")&&"static"===n.css(r,"position");)r=r.offsetParent;return r||e.documentElement}var n={},i=n.nodeName=function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()};return n.css=function(e,n,i){var r;return r=e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n],i===!0?parseFloat(r)||0:r},n.offset=function(e){var n=e.getBoundingClientRect(),i=e.ownerDocument;return{width:n.width||e.offsetWidth,height:n.height||e.offsetHeight,top:n.top+(t.pageYOffset||i.documentElement.scrollTop)-(i.documentElement.clientTop||0),left:n.left+(t.pageXOffset||i.documentElement.scrollLeft)-(i.documentElement.clientLeft||0)}},n.setOffset=function(t,e,i){var r,o,a,s,l,u,c,d=n.css(t,"position"),h=angular.element(t),p={};"static"===d&&(t.style.position="relative"),l=n.offset(t),a=n.css(t,"top"),u=n.css(t,"left"),c=("absolute"===d||"fixed"===d)&&(a+u).indexOf("auto")>-1,c?(r=n.position(t),s=r.top,o=r.left):(s=parseFloat(a)||0,o=parseFloat(u)||0),angular.isFunction(e)&&(e=e.call(t,i,l)),null!==e.top&&(p.top=e.top-l.top+s),null!==e.left&&(p.left=e.left-l.left+o),"using"in e?e.using.call(h,p):h.css({top:p.top+"px",left:p.left+"px"})},n.position=function(t){var r,o,a={top:0,left:0};return"fixed"===n.css(t,"position")?o=t.getBoundingClientRect():(r=e(t),o=n.offset(t),i(r,"html")||(a=n.offset(r)),a.top+=n.css(r,"borderTopWidth",!0),a.left+=n.css(r,"borderLeftWidth",!0)),{width:t.offsetWidth,height:t.offsetHeight,top:o.top-a.top-n.css(t,"marginTop",!0),left:o.left-a.left-n.css(t,"marginLeft",!0)}},n.height=function(t,e){var i=t.offsetHeight;return e?i+=n.css(t,"marginTop",!0)+n.css(t,"marginBottom",!0):i-=n.css(t,"paddingTop",!0)+n.css(t,"paddingBottom",!0)+n.css(t,"borderTopWidth",!0)+n.css(t,"borderBottomWidth",!0),i},n.width=function(t,e){var i=t.offsetWidth;return e?i+=n.css(t,"marginLeft",!0)+n.css(t,"marginRight",!0):i-=n.css(t,"paddingLeft",!0)+n.css(t,"paddingRight",!0)+n.css(t,"borderLeftWidth",!0)+n.css(t,"borderRightWidth",!0),i},n}),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(t){return function(e,n,i){var r=null;return function(){var o=this,a=arguments,s=i&&!r;return r&&t.cancel(r),r=t(function(){r=null,i||e.apply(o,a)},n,!1),s&&e.apply(o,a),r}}}]).factory("throttle",["$timeout",function(t){return function(e,n,i){var r=null;return i||(i={}),function(){var o=this,a=arguments;r||(i.leading!==!1&&e.apply(o,a),r=t(function(){r=null,i.trailing!==!1&&e.apply(o,a)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(t){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function n(){}function i(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t,e){for(var n=t.length,i=e.toString().toLowerCase(),r=0;n>r;r++)if(t[r].toLowerCase()===i)return r;return-1}e.prototype.setMilliseconds=function(t){this.milliseconds=t},e.prototype.setSeconds=function(t){this.seconds=t},e.prototype.setMinutes=function(t){this.minutes=t},e.prototype.setHours=function(t){this.hours=t},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(t){this.day=t},e.prototype.setMonth=function(t){this.month=t},e.prototype.setFullYear=function(t){this.year=t},e.prototype.fromDate=function(t){return this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var o=e.prototype,a=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(t,s){var l=function(l){function u(t){var e=c(t);return f(e)}function c(t){var e=d(t),n=e.replace(/''/g,"\\'"),i=/('(?:\\'|.)*?')/,r=n.split(i),o=Object.keys(_),a=[];return angular.forEach(r,function(t){if(h(t))t=p(t);else for(var e=0;e<o.length;e++)t=t.split(o[e]).join("${"+e+"}");a.push(t)}),a.join("")}function d(t){return t.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]")}function h(t){return/^'.*'$/.test(t)}function p(t){return t.replace(/^'(.*)'$/,"$1")}function f(t){for(var e=Object.keys(_),n=t,i=0;i<e.length;i++)n=n.split("${"+i+"}").join("("+_[e[i]]+")");return new RegExp("^"+n+"$",["i"])}function g(t){var e=c(t);return m(e)}function m(t){for(var e,n,i,r,o=Object.keys(_),a=new RegExp("\\${(\\d+)}","g"),s=[];null!==(e=a.exec(t));)n=e[1],i=o[n],r=C[i],s.push(r);return s}var v,y,b=angular.extend({},a,l),w={},_={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:b.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:t.DATETIME_FORMATS.DAY.join("|"),EEE:t.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:b.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:t.DATETIME_FORMATS.MONTH.join("|"),MMM:t.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:b.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},C={sss:o.setMilliseconds,ss:o.setSeconds,s:o.setSeconds,mm:o.setMinutes,m:o.setMinutes,HH:o.setHours,H:o.setHours,hh:o.setHours,h:o.setHours,EEEE:n,EEE:n,dd:o.setDate,d:o.setDate,a:function(t){var e=this.getHours()%12;return this.setHours(t.match(/pm/i)?e+12:e)},MMMM:function(e){return this.setMonth(r(t.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(r(t.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(t){return this.setMonth(1*t-1)},M:function(t){return this.setMonth(1*t-1)},yyyy:o.setFullYear,yy:function(t){return this.setFullYear(2e3+1*t)},y:function(t){return 50>=1*t&&2===t.length?this.setFullYear(2e3+1*t):this.setFullYear(1*t)}};return w.init=function(){w.$format=t.DATETIME_FORMATS[b.format]||b.format,v=u(w.$format),y=g(w.$format)},w.isValid=function(t){return angular.isDate(t)?!isNaN(t.getTime()):v.test(t)},w.parse=function(n,i,r,o){r&&(r=t.DATETIME_FORMATS[r]||r),angular.isDate(n)&&(n=s(n,r||w.$format,o));var a=r?u(r):v,l=r?g(r):y,c=a.exec(n);if(!c)return!1;for(var d=i&&!isNaN(i.getTime())?(new e).fromDate(i):(new e).fromDate(new Date(1970,0,1,0)),h=0;h<c.length-1;h++)l[h]&&l[h].call(d,c[h+1]);var p=d.toDate();return parseInt(d.day,10)!==p.getDate()?!1:p},w.getDateForAttribute=function(t,e){var n;if("today"===e){var r=new Date;n=new Date(r.getFullYear(),r.getMonth(),r.getDate()+("maxDate"===t?1:0),0,0,0,"minDate"===t?0:-1)}else n=angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)):i(e)?new Date(parseInt(e,10)):angular.isString(e)&&0===e.length?"minDate"===t?-(1/0):+(1/0):new Date(e);return n},w.getTimeForAttribute=function(t,e){var n;return n="now"===e?(new Date).setFullYear(1970,0,1):angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)).setFullYear(1970,0,1):i(e)?new Date(parseInt(e,10)).setFullYear(1970,0,1):angular.isString(e)&&0===e.length?"minTime"===t?-(1/0):+(1/0):w.parse(e,new Date(1970,0,1,0))},w.daylightSavingAdjust=function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},w.timezoneOffsetAdjust=function(t,e,n){return t?(e&&"UTC"===e&&(t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+(n?-1:1)*t.getTimezoneOffset())),t):null},w.init(),w};return l}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(t,e){function n(t){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(t).slice(1)}this.getDefaultLocale=function(){return t.id},this.getDatetimeFormat=function(e,n){return t.DATETIME_FORMATS[e]||e},this.weekdaysShort=function(e){return t.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(t){return n(t)[0]},this.minutesFormat=function(t){return n(t)[2]},this.secondsFormat=function(t){return n(t)[4]},this.timeSeparator=function(t){return n(t)[1]},this.showSeconds=function(t){return!!n(t)[4]},this.showAM=function(t){return!!n(t)[5]},this.formatDate=function(t,n,i,r){return e(t,n,r)}}]),angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",i),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var t=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(e,n,i,r){function o(e,o){function l(t){return t.target!==e[0]?t.target!==e[0]&&u.hide():void 0}var u={},c=angular.extend({},t,o);u.$scope=c.scope&&c.scope.$new()||n.$new(),u=i(e,c);var d=e.parent();u.$onKeyDown=function(t){if(/(38|40)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();var e=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(e.length){var n;angular.forEach(e,function(t,e){s&&s.call(t,":focus")&&(n=e)}),38===t.keyCode&&n>0?n--:40===t.keyCode&&n<e.length-1?n++:angular.isUndefined(n)&&(n=0),e.eq(n)[0].focus()}}};var h=u.show;u.show=function(){h(),r(function(){c.keyboard&&u.$element&&u.$element.on("keydown",u.$onKeyDown),a.on("click",l)},0,!1),d.hasClass("dropdown")&&d.addClass("open")};var p=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element&&u.$element.off("keydown",u.$onKeyDown),a.off("click",l),d.hasClass("dropdown")&&d.removeClass("open"),p())};var f=u.destroy;return u.destroy=function(){a.off("click",l),f()},u}var a=angular.element(e.document.body),s=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(t,e,i){return{restrict:"EAC",scope:!0,compile:function(t,e){if(!e.bsDropdown){for(var r=t[0].nextSibling;r&&1!==r.nodeType;)r=r.nextSibling;r&&r.className.split(" ").indexOf("dropdown-menu")>=0&&(e.template=r.outerHTML,e.templateUrl=n,r.parentNode.removeChild(r))}return function(t,n,r){var o={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(t){angular.isDefined(e[t])&&(o[t]=e[t])});var a=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(r[t])&&a.test(r[t])&&(o[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(r[n])&&(o[e]=t.$eval(r[n]))}),r.bsDropdown&&t.$watch(r.bsDropdown,function(e,n){t.content=e},!0);var s=i(n,o);r.bsShow&&t.$watch(r.bsShow,function(t,e){s&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(dropdown),?/i)),t===!0?s.show():s.hide())}),t.$on("$destroy",function(){s&&s.destroy(),o=null,s=null})}}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var t=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:t}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(t){var n=angular.element(t);n.attr("bs-checkbox",""),n.attr("ng-model",e.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(t,e){var n=t.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(t,r,o,a){var s=n,l="INPUT"===r[0].nodeName,u=l?r.parent():r,c=angular.isDefined(o.trueValue)?o.trueValue:!0;i.test(o.trueValue)&&(c=t.$eval(o.trueValue));var d=angular.isDefined(o.falseValue)?o.falseValue:!1;i.test(o.falseValue)&&(d=t.$eval(o.falseValue));var h="boolean"!=typeof c||"boolean"!=typeof d;h&&(a.$parsers.push(function(t){return t?c:d}),a.$formatters.push(function(t){return angular.equals(t,c)})),a.$render=function(){var t=!!a.$viewValue;e(function(){l&&(r[0].checked=t),u.toggleClass(s.activeClass,t)})},r.bind(s.toggleEvent,function(){t.$apply(function(){l||a.$setViewValue(!u.hasClass("active")),a.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(t){angular.element(t).attr("bs-radio",""),angular.element(t).attr("ng-model",e.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(t,e){var n=t.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(t,r,o,a){var s,l=n,u="INPUT"===r[0].nodeName,c=u?r.parent():r;o.$observe("value",function(e){s="boolean"!=typeof e&&i.test(e)?t.$eval(e):e,a.$render()}),a.$render=function(){var t=angular.equals(a.$viewValue,s);e(function(){u&&(r[0].checked=t),c.toggleClass(l.activeClass,t)})},r.bind(l.toggleEvent,function(){t.$apply(function(){a.$setViewValue(s),a.$render()})})}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var t=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",hasToday:!1,hasClear:!1,iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(e,n,i,r,o,a,s,l){function u(e,n,i){function r(t){t.selected=u.$isSelected(t.date)}function o(){e[0].focus()}var u=s(e,angular.extend({},t,i)),h=i.scope,p=u.$options,f=u.$scope;p.startView&&(p.startView-=p.minView);var g=a(u);u.$views=g.views;var m=g.viewDate;f.$mode=p.startView,f.$iconLeft=p.iconLeft,f.$iconRight=p.iconRight,f.$hasToday=p.hasToday,f.$hasClear=p.hasClear;var v=u.$views[f.$mode];f.$select=function(t,e){e||u.select(t)},f.$selectPane=function(t){u.$selectPane(t)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},f.$setToday=function(){p.autoclose?(u.setMode(0),u.select(new Date)):u.select(new Date,!0)},f.$clear=function(){p.autoclose?(u.setMode(0),u.select(null)):u.select(null,!0)},u.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())&&(u.$date=t,v.update.call(v,t)),u.$build(!0)},u.updateDisabledDates=function(t){p.disabledDateRanges=t;for(var e=0,n=f.rows.length;n>e;e++)angular.forEach(f.rows[e],u.$setDisabledEl)},u.select=function(t,e){angular.isDate(t)?(!angular.isDate(n.$dateValue)||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(t)):n.$dateValue=null,!f.$mode||e?(n.$setViewValue(angular.copy(t)),n.$render(),p.autoclose&&!e&&l(function(){u.hide(!0)})):(angular.extend(m,{year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(t){f.$mode=t,v=u.$views[f.$mode],u.$build()},u.$build=function(t){t===!0&&v.built||(t!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var t=0,e=f.rows.length;e>t;t++)angular.forEach(f.rows[t],r)},u.$isSelected=function(t){return v.isSelected(t)},u.$setDisabledEl=function(t){t.disabled=v.isDisabled(t.date)},u.$selectPane=function(t){var e=v.steps,n=new Date(Date.UTC(m.year+(e.year||0)*t,m.month+(e.month||0)*t,1));angular.extend(m,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),d){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},u.$onKeyDown=function(t){
if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return void(f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0));v.onKeyDown(t),h.$digest()}};var y=u.init;u.init=function(){return c&&p.useNative?(e.prop("type","date"),void e.css("-webkit-appearance","textfield")):(d&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",o)),void y())};var b=u.destroy;u.destroy=function(){c&&p.useNative&&e.off("click",o),b()};var w=u.show;u.show=function(){!d&&e.attr("readonly")||e.attr("disabled")||(w(),l(function(){u.$isShown&&(u.$element.on(d?"touchstart":"mousedown",u.$onMouseDown),p.keyboard&&e.on("keydown",u.$onKeyDown))},0,!1))};var _=u.hide;return u.hide=function(t){u.$isShown&&(u.$element.off(d?"touchstart":"mousedown",u.$onMouseDown),p.keyboard&&e.off("keydown",u.$onKeyDown),_(t))},u}var c=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),d="createTouch"in e.document&&c;return t.lang||(t.lang=o.getDefaultLocale()),u.defaults=t,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(t,e,n,i,r,o){var a=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(t,e,n,s){function l(t){return t&&t.length?t:null}function u(t){if(angular.isDate(t)){var e=isNaN(p.$options.minDate)||t.getTime()>=p.$options.minDate,n=isNaN(p.$options.maxDate)||t.getTime()<=p.$options.maxDate,i=e&&n;s.$setValidity("date",i),s.$setValidity("min",e),s.$setValidity("max",n),i&&(s.$dateValue=t)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?"":g(s.$dateValue,d.dateFormat)}var d={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent","hasToday","hasClear"],function(t){angular.isDefined(n[t])&&(d[t]=n[t])});var h=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","hasToday","hasClear"],function(t){angular.isDefined(n[t])&&h.test(n[t])&&(d[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var i="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(n[i])&&(d[e]=t.$eval(n[i]))});var p=o(e,s,d);d=p.$options,a&&d.useNative&&(d.dateFormat="yyyy-MM-dd");var f=d.lang,g=function(t,e){return i.formatDate(t,e,f)},m=r({format:d.dateFormat,lang:f,strict:d.strictFormat});n.bsShow&&t.$watch(n.bsShow,function(t,e){p&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(datepicker),?/i)),t===!0?p.show():p.hide())}),angular.forEach(["minDate","maxDate"],function(t){angular.isDefined(n[t])&&n.$observe(t,function(e){p.$options[t]=m.getDateForAttribute(t,e),isNaN(p.$options[t])||p.$build(!1),u(s.$dateValue)})}),angular.isDefined(n.dateFormat)&&n.$observe("dateFormat",function(t){p.$options.dateFormat=t}),t.$watch(n.ngModel,function(t,e){p.update(s.$dateValue)},!0),angular.isDefined(n.disabledDates)&&t.$watch(n.disabledDates,function(t,e){t=l(t),e=l(e),t&&p.updateDisabledDates(t)}),s.$parsers.unshift(function(t){var e;if(!t)return s.$setValidity("date",!0),null;var n=m.parse(t,s.$dateValue);return!n||isNaN(n.getTime())?void s.$setValidity("date",!1):(u(n),"string"===d.dateType?(e=m.timezoneOffsetAdjust(n,d.timezone,!0),g(e,d.modelDateFormat||d.dateFormat)):(e=m.timezoneOffsetAdjust(s.$dateValue,d.timezone,!0),"number"===d.dateType?e.getTime():"unix"===d.dateType?e.getTime()/1e3:"iso"===d.dateType?e.toISOString():new Date(e)))}),s.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===d.dateType?m.parse(t,null,d.modelDateFormat):"unix"===d.dateType?new Date(1e3*t):new Date(t),s.$dateValue=m.timezoneOffsetAdjust(e,d.timezone),c()}),s.$render=function(){e.val(c())},t.$on("$destroy",function(){p&&p.destroy(),d=null,p=null})}}}]).provider("datepickerViews",function(){function t(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n}function e(t,e){return(t%e+e)%e}this.$get=["$dateFormatter","$dateParser","$sce",function(n,i,r){return function(o){var a=o.$scope,s=o.$options,l=s.lang,u=function(t,e){return n.formatDate(t,e,l)},c=i({format:s.dateFormat,lang:l,strict:s.strictFormat}),d=n.weekdaysShort(l),h=d.slice(s.startWeek).concat(d.slice(0,s.startWeek)),p=r.trustAsHtml('<th class="dow text-center">'+h.join('</th><th class="dow text-center">')+"</th>"),f=o.$date||(s.startDate?c.getDateForAttribute("startDate",s.startDate):new Date),g={year:f.getFullYear(),month:f.getMonth(),date:f.getDate()},m=[{format:s.dayFormat,split:7,steps:{month:1},update:function(t,e){!this.built||e||t.getFullYear()!==g.year||t.getMonth()!==g.month?(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):(t.getDate()!==g.date||1===t.getDate())&&(g.date=o.$date.getDate(),o.$updateSelected())},build:function(){var n=new Date(g.year,g.month,1),i=n.getTimezoneOffset(),r=new Date(+n-864e5*e(n.getDay()-s.startWeek,7)),l=r.getTimezoneOffset(),d=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==i&&(r=new Date(+r+6e4*(l-i)));for(var h,f=[],m=0;42>m;m++)h=c.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+m)),f.push({date:h,isToday:h.toDateString()===d,label:u(h,this.format),selected:o.$date&&this.isSelected(h),muted:h.getMonth()!==g.month,disabled:this.isDisabled(h)});a.title=u(n,s.monthTitleFormat),a.showLabels=!0,a.labels=p,a.rows=t(f,this.split),a.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()&&t.getMonth()===o.$date.getMonth()&&t.getDate()===o.$date.getDate()},isDisabled:function(t){var e=t.getTime();if(e<s.minDate||e>s.maxDate)return!0;if(-1!==s.daysOfWeekDisabled.indexOf(t.getDay()))return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(e>=s.disabledDateRanges[n].start&&e<=s.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(t){if(o.$date){var e,n=o.$date.getTime();37===t.keyCode?e=new Date(n-864e5):38===t.keyCode?e=new Date(n-6048e5):39===t.keyCode?e=new Date(n+864e5):40===t.keyCode&&(e=new Date(n+6048e5)),this.isDisabled(e)||o.select(e,!0)}}},{name:"month",format:s.monthFormat,split:4,steps:{year:1},update:function(t,e){this.built&&t.getFullYear()===g.year?t.getMonth()!==g.month&&(angular.extend(g,{month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected()):(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build())},build:function(){for(var e,n=[],i=0;12>i;i++)e=new Date(g.year,i,1),n.push({date:e,label:u(e,this.format),selected:o.$isSelected(e),disabled:this.isDisabled(e)});a.title=u(e,s.yearTitleFormat),a.showLabels=!1,a.rows=t(n,this.split),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()&&t.getMonth()===o.$date.getMonth()},isDisabled:function(t){var e=+new Date(t.getFullYear(),t.getMonth()+1,0);return e<s.minDate||t.getTime()>s.maxDate},onKeyDown:function(t){if(o.$date){var e=o.$date.getMonth(),n=new Date(o.$date);37===t.keyCode?n.setMonth(e-1):38===t.keyCode?n.setMonth(e-4):39===t.keyCode?n.setMonth(e+1):40===t.keyCode&&n.setMonth(e+4),this.isDisabled(n)||o.select(n,!0)}}},{name:"year",format:s.yearFormat,split:4,steps:{year:12},update:function(t,e){!this.built||e||parseInt(t.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):t.getFullYear()!==g.year&&(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected())},build:function(){for(var e,n=g.year-g.year%(3*this.split),i=[],r=0;12>r;r++)e=new Date(n+r,0,1),i.push({date:e,label:u(e,this.format),selected:o.$isSelected(e),disabled:this.isDisabled(e)});a.title=i[0].label+"-"+i[i.length-1].label,a.showLabels=!1,a.rows=t(i,this.split),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()},isDisabled:function(t){var e=+new Date(t.getFullYear()+1,0,0);return e<s.minDate||t.getTime()>s.maxDate},onKeyDown:function(t){if(o.$date){var e=o.$date.getFullYear(),n=new Date(o.$date);37===t.keyCode?n.setYear(e-1):38===t.keyCode?n.setYear(e-4):39===t.keyCode?n.setYear(e+1):40===t.keyCode&&n.setYear(e+4),this.isDisabled(n)||o.select(n,!0)}}}];return{views:s.minView?Array.prototype.slice.call(m,s.minView):m,viewDate:g}}}]}),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var t=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},e=this.controller=function(e,n,i){function r(t){for(var e=l.$targets.$active,n=0;n<e.length;n++)t<e[n]&&(e[n]=e[n]-1),e[n]===l.$targets.length&&(e[n]=l.$targets.length-1)}function o(t){var e=l.$targets.$active;return-1!==e.indexOf(t)}function a(t){var e=l.$targets.$active.indexOf(t);-1!==e&&l.$targets.$active.splice(e,1)}function s(t){l.$options.allowMultiple||l.$targets.$active.splice(0,1),-1===l.$targets.$active.indexOf(t)&&l.$targets.$active.push(t)}var l=this;l.$options=angular.copy(t),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(t){angular.isDefined(i[t])&&(l.$options[t]=i[t])});var u=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(t){angular.isDefined(i[t])&&u.test(i[t])&&(l.$options[t]=!1)}),l.$toggles=[],l.$targets=[],l.$viewChangeListeners=[],l.$registerToggle=function(t){l.$toggles.push(t)},l.$registerTarget=function(t){l.$targets.push(t)},l.$unregisterToggle=function(t){var e=l.$toggles.indexOf(t);l.$toggles.splice(e,1)},l.$unregisterTarget=function(t){var e=l.$targets.indexOf(t);l.$targets.splice(e,1),l.$options.allowMultiple&&a(t),r(e),l.$viewChangeListeners.forEach(function(t){t()})},l.$targets.$active=l.$options.startCollapsed?[]:[0],l.$setActive=e.$setActive=function(t){angular.isArray(t)?l.$targets.$active=t:!l.$options.disallowToggle&&o(t)?a(t):s(t),l.$viewChangeListeners.forEach(function(t){t()})},l.$activeIndexes=function(){return l.$options.allowMultiple?l.$targets.$active:1===l.$targets.$active.length?l.$targets.$active[0]:-1}};this.$get=function(){var n={};return n.defaults=t,n.controller=e,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(t,e,n){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(t,e,n,i){var r=i[0],o=i[1];r&&(o.$viewChangeListeners.push(function(){r.$setViewValue(o.$activeIndexes())}),r.$formatters.push(function(t){if(angular.isArray(t))o.$setActive(t);else{var e=o.$activeIndexes();angular.isArray(e)?-1===e.indexOf(1*t)&&o.$setActive(1*t):e!==1*t&&o.$setActive(1*t)}return t}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(t,e,n,i){var r=i[1];e.attr("data-toggle","collapse"),r.$registerToggle(e),t.$on("$destroy",function(){r.$unregisterToggle(e)}),e.on("click",function(){if(!n.disabled){var i=n.bsCollapseToggle&&"bs-collapse-toggle"!==n.bsCollapseToggle?n.bsCollapseToggle:r.$toggles.indexOf(e);r.$setActive(1*i),t.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(t){return{require:["^?ngModel","^bsCollapse"],link:function(e,n,i,r){function o(){var e=a.$targets.indexOf(n),i=a.$activeIndexes(),r="removeClass";angular.isArray(i)?-1!==i.indexOf(e)&&(r="addClass"):e===i&&(r="addClass"),t[r](n,a.$options.activeClass)}var a=r[1];n.addClass("collapse"),a.$options.animation&&n.addClass(a.$options.animation),a.$registerTarget(n),e.$on("$destroy",function(){a.$unregisterTarget(n)}),a.$viewChangeListeners.push(function(){o()}),o()}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var t=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(e){function n(n){var i={},r=angular.extend({},t,n);return i=e(r)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,i,r,o){var a={scope:t,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])});var s=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(r[t])&&s.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(r[n])&&(a[e]=t.$eval(r[n]))}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i,r){t[n]=e.trustAsHtml(i)})}),r.bsAside&&t.$watch(r.bsAside,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var l=n(a);i.on(r.trigger||"click",l.toggle),t.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var t=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(e,n){function i(i){var r={},o=angular.extend({},t,i);r=e(o),r.$scope.dismissable=!!o.dismissable,o.type&&(r.$scope.type=o.type);var a=r.show;return o.duration&&(r.show=function(){a(),n(function(){r.hide()},1e3*o.duration)}),r}return i}]}).directive("bsAlert",["$window","$sce","$alert",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,i,r,o){var a={scope:t,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])});var s=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(t){angular.isDefined(r[t])&&s.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(e){var n="bs"+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(r[n])&&(a[e]=t.$eval(r[n]))}),t.hasOwnProperty("title")||(t.title=""),angular.forEach(["title","content","type"],function(n){r[n]&&r.$observe(n,function(i,r){t[n]=e.trustAsHtml(i)})}),r.bsAlert&&t.$watch(r.bsAlert,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var l=n(a);i.on(r.trigger||"click",l.toggle),t.$on("$destroy",function(){l&&l.destroy(),a=null,l=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var t=this.defaults={offsetTop:"auto",inlineStyles:!0,setWidth:!0};this.$get=["$window","debounce","dimensions",function(e,n,i){function r(r,s){function l(t,e,n){var i=u(),r=c();return y>=i?"top":null!==t?i+t<=e.top?"middle":"bottom":null!==b&&e.top+n+m>=r-b?"bottom":"middle"}function u(){return p[0]===e?e.pageYOffset:p[0].scrollTop}function c(){return p[0]===e?e.document.body.scrollHeight:p[0].scrollHeight}var d={},h=angular.extend({},t,s),p=h.target,f="affix affix-top affix-bottom",g=!1,m=0,v=0,y=0,b=0,w=null,_=null,C=r.parent();if(h.offsetParent)if(h.offsetParent.match(/^\d+$/))for(var k=0;k<1*h.offsetParent-1;k++)C=C.parent();else C=angular.element(h.offsetParent);return d.init=function(){this.$parseOffsets(),v=i.offset(r[0]).top+m,g=h.setWidth&&!r[0].style.width,p.on("scroll",this.checkPosition),p.on("click",this.checkPositionWithEventLoop),a.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},d.destroy=function(){p.off("scroll",this.checkPosition),p.off("click",this.checkPositionWithEventLoop),a.off("resize",this.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var t=u(),e=i.offset(r[0]),n=i.height(r[0]),a=l(_,e,n);w!==a&&(w=a,"top"===a?(_=null,g&&r.css("width",""),h.inlineStyles&&(r.css("position",h.offsetParent?"":"relative"),r.css("top",""))):"bottom"===a?(_=h.offsetUnpin?-(1*h.offsetUnpin):e.top-t,g&&r.css("width",""),h.inlineStyles&&(r.css("position",h.offsetParent?"":"relative"),r.css("top",h.offsetParent?"":o[0].offsetHeight-b-n-v+"px"))):(_=null,g&&r.css("width",r[0].offsetWidth+"px"),h.inlineStyles&&(r.css("position","fixed"),r.css("top",m+"px"))),r.removeClass(f).addClass("affix"+("middle"!==a?"-"+a:"")))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var t=r[0].style.position,e=r[0].style.top;h.inlineStyles&&(r.css("position",h.offsetParent?"":"relative"),r.css("top","")),h.offsetTop&&("auto"===h.offsetTop&&(h.offsetTop="+0"),h.offsetTop.match(/^[-+]\d+$/)?(m=1*-h.offsetTop,y=h.offsetParent?i.offset(C[0]).top+1*h.offsetTop:i.offset(r[0]).top-i.css(r[0],"marginTop",!0)+1*h.offsetTop):y=1*h.offsetTop),h.offsetBottom&&(b=h.offsetParent&&h.offsetBottom.match(/^[-+]\d+$/)?c()-(i.offset(C[0]).top+i.height(C[0]))+1*h.offsetBottom+1:1*h.offsetBottom),h.inlineStyles&&(r.css("position",t),r.css("top",e))},d.init(),d}var o=angular.element(e.document.body),a=angular.element(e);return r}]}).directive("bsAffix",["$affix","$window","$timeout",function(t,e,n){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(i,r,o,a){var s={scope:i,target:a?a.$element:angular.element(e)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles","setWidth"],function(t){if(angular.isDefined(o[t])){var e=o[t];/true/i.test(e)&&(e=!0),/false/i.test(e)&&(e=!1),s[t]=e}});var l;n(function(){l=t(r,s)}),i.$on("$destroy",function(){l&&l.destroy(),s=null,l=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(t){this.$element=t}]}}),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"])}(window,document),/**
 * angular-strap
 * @version v2.3.12 - 2017-01-26
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e,n){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(t){t.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <span ng-if="title"><strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span> </span><span ng-if="!title" ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(t){t.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(t){t.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date, el.disabled)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody><tfoot><tr><td colspan="{{ rows[0].length }}"><div class="btn-group btn-group-justified" role="group"><div class="btn-group" role="group" ng-if="$hasToday"><button type="button" class="btn btn-default today" ng-click="$setToday()" ng-disabled="isTodayDisabled"><strong style="text-transform: capitalize">Today</strong></button></div><div class="btn-group" role="group" ng-if="$hasClear"><button type="button" class="btn btn-default clear" ng-click="$clear()"><strong style="text-transform: capitalize">Clear</strong></button></div></div></td></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(t){t.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(t){t.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(t){t.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(t){t.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(t){t.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title" href=""></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(t){t.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showSeconds"><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td ng-if="showSeconds" class="text-center"><button tabindex="-1" ng-if="row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(t){t.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(t){t.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),
//! license : MIT
//! momentjs.com
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Nn.apply(null,arguments)}function e(t){Nn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,i){return Tt(t,e,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=s(NaN);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function h(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=u(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),In.length>0)for(n in In)i=In[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function p(e){h(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Rn===!1&&(Rn=!0,t.updateOffset(this),Rn=!1)}function f(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=g(e)),n}function v(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&m(t[i])!==m(e[i]))&&a++;return a+o}function y(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,i,r,o=0;o<t.length;){for(r=b(t[o]).split("-"),e=r.length,n=b(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=_(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&v(r,n,!0)>=e-1)break;e--}o++}return null}function _(t){var e=null;if(!Bn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ln._abbr,require("./locale/"+t),C(e)}catch(n){}return Bn[t]}function C(t,e){var n;return t&&(n="undefined"==typeof e?x(t):k(t,e),n&&(Ln=n)),Ln._abbr}function k(t,e){return null!==e?(e.abbr=t,Bn[t]=Bn[t]||new y,Bn[t].set(e),C(t),Bn[t]):(delete Bn[t],null)}function x(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ln;if(!n(t)){if(e=_(t))return e;t=[t]}return w(t)}function S(t,e){var n=t.toLowerCase();Hn[n]=Hn[n+"s"]=Hn[e]=t}function $(t){return"string"==typeof t?Hn[t]||Hn[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)o(t,n)&&(e=$(n),e&&(i[e]=t[n]));return i}function T(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):E(this,e)}}function E(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function M(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=$(t),"function"==typeof this[t])return this[t](e);return this}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Vn[t]=r),e&&(Vn[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(Vn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,n,i=t.match(Fn);for(e=0,n=i.length;n>e;e++)Vn[i[e]]?i[e]=Vn[i[e]]:i[e]=N(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function I(t,e){return t.isValid()?(e=R(e,t.localeData()),jn[e]=jn[e]||L(e),jn[e](t)):t.localeData().invalidDate()}function R(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zn.lastIndex=0;i>=0&&zn.test(t);)t=t.replace(zn,n),zn.lastIndex=0,i-=1;return t}function B(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function H(t,e,n){ri[t]=B(e)?e:function(t){return t&&n?n:e}}function F(t,e){return o(ri,t)?ri[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)oi[t[n]]=i}function V(t,e){j(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function U(t,e,n){null!=e&&o(oi,t)&&oi[t](e,n._a,n,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function G(t){return this._months[t.month()]}function q(t){return this._monthsShort[t.month()]}function K(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function Y(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function Z(e){return null!=e?(Y(this,e),t.updateOffset(this,!0),this):E(this,"Month")}function J(){return W(this.year(),this.month())}function X(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[si]<0||n[si]>11?si:n[li]<1||n[li]>W(n[ai],n[si])?li:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[ci]||0!==n[di]||0!==n[hi])?ui:n[ci]<0||n[ci]>59?ci:n[di]<0||n[di]>59?di:n[hi]<0||n[hi]>999?hi:-1,u(t)._overflowDayOfYear&&(ai>e||e>li)&&(e=li),u(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return a(function(){return n&&(Q(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){gi[t]||(Q(e),gi[t]=!0)}function nt(t){var e,n,i=t._i,r=mi.exec(i);if(r){for(u(t).iso=!0,e=0,n=vi.length;n>e;e++)if(vi[e][1].exec(i)){t._f=vi[e][0];break}for(e=0,n=yi.length;n>e;e++)if(yi[e][1].exec(i)){t._f+=(r[6]||" ")+yi[e][0];break}i.match(ei)&&(t._f+="Z"),_t(t)}else t._isValid=!1}function it(e){var n=bi.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function rt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return 1970>t&&s.setFullYear(t),s}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return st(t)?366:365}function st(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return st(this.year())}function ut(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=Et(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ct(t){return ut(t,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function ht(){return this._week.doy}function pt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function gt(t,e,n,i,r){var o,a=6+r-i,s=ot(t,0,1+a),l=s.getUTCDay();return r>l&&(l+=7),n=null!=n?1*n:r,o=1+a+7*(e-1)-l+n,{year:o>0?t:t-1,dayOfYear:o>0?o:at(t-1)+o}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,n){return null!=t?t:null!=e?e:n}function yt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bt(t){var e,n,i,r,o=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[li]&&null==t._a[si]&&wt(t),t._dayOfYear&&(r=vt(t._a[ai],i[ai]),t._dayOfYear>at(r)&&(u(t)._overflowDayOfYear=!0),n=ot(r,0,t._dayOfYear),t._a[si]=n.getUTCMonth(),t._a[li]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ui]&&0===t._a[ci]&&0===t._a[di]&&0===t._a[hi]&&(t._nextDay=!0,t._a[ui]=0),t._d=(t._useUTC?ot:rt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ui]=24)}}function wt(t){var e,n,i,r,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=vt(e.GG,t._a[ai],ut(Et(),1,4).year),i=vt(e.W,1),r=vt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=vt(e.gg,t._a[ai],ut(Et(),o,a).year),i=vt(e.w,1),null!=e.d?(r=e.d,o>r&&++i):r=null!=e.e?e.e+o:o),s=gt(n,i,r,a,o),t._a[ai]=s.year,t._dayOfYear=s.dayOfYear}function _t(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],u(e).empty=!0;var n,i,r,o,a,s=""+e._i,l=s.length,c=0;for(r=R(e._f,e._locale).match(Fn)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(F(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&u(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Vn[o]?(i?u(e).empty=!1:u(e).unusedTokens.push(o),U(o,i,e)):e._strict&&!i&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),u(e).bigHour===!0&&e._a[ui]<=12&&e._a[ui]>0&&(u(e).bigHour=void 0),e._a[ui]=Ct(e._locale,e._a[ui],e._meridiem),bt(e),X(e)}function Ct(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function kt(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=h({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],_t(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||i>o)&&(i=o,n=e));a(t,n||e)}function xt(t){if(!t._d){var e=D(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],bt(t)}}function St(t){var e=new p(X($t(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function $t(t){var e=t._i,r=t._f;return t._locale=t._locale||x(t._l),null===e||void 0===r&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),f(e)?new p(X(e)):(n(r)?kt(t):r?_t(t):i(e)?t._d=e:Dt(t),t))}function Dt(e){var o=e._i;void 0===o?e._d=new Date:i(o)?e._d=new Date(+o):"string"==typeof o?it(e):n(o)?(e._a=r(o.slice(0),function(t){return parseInt(t,10)}),bt(e)):"object"==typeof o?xt(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function Tt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,St(o)}function Et(t,e,n,i){return Tt(t,e,n,i,!1)}function At(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Et();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Mt(){var t=[].slice.call(arguments,0);return At("isBefore",t)}function Pt(){var t=[].slice.call(arguments,0);return At("isAfter",t)}function Ot(t){var e=D(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=x(),this._bubble()}function Nt(t){return t instanceof Ot}function Lt(t,e){O(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+P(~~(t/60),2)+e+P(~~t%60,2)})}function It(t){var e=(t||"").match(ei)||[],n=e[e.length-1]||[],i=(n+"").match(xi)||["-",0,0],r=+(60*i[1])+m(i[2]);return"+"===i[0]?r:-r}function Rt(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(f(e)||i(e)?+e:+Et(e))-+r,r._d.setTime(+r._d+o),t.updateOffset(r,!1),r):Et(e).local()}function Bt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ht(e,n){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=It(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Bt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?ee(this,Zt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Bt(this)}function Ft(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function jt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Bt(this),"m")),this}function Vt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(It(this._i)),this}function Ut(t){return t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(h(t,this),t=$t(t),t._a){var e=t._isUTC?s(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!this._isUTC}function Kt(){return this._isUTC}function Yt(){return this._isUTC&&0===this._offset}function Zt(t,e){var n,i,r,a=t,s=null;return Nt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=Si.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:m(s[li])*n,h:m(s[ui])*n,m:m(s[ci])*n,s:m(s[di])*n,ms:m(s[hi])*n}):(s=$i.exec(t))?(n="-"===s[1]?-1:1,a={y:Jt(s[2],n),M:Jt(s[3],n),d:Jt(s[4],n),h:Jt(s[5],n),m:Jt(s[6],n),s:Jt(s[7],n),w:Jt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Qt(Et(a.from),Et(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Ot(a),Nt(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function Jt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return e=Rt(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Zt(n,i),ee(this,r,t),this}}function ee(e,n,i,r){var o=n._milliseconds,a=n._days,s=n._months;r=null==r?!0:r,o&&e._d.setTime(+e._d+o*i),a&&A(e,"Date",E(e,"Date")+a*i),s&&Y(e,E(e,"Month")+s*i),r&&t.updateOffset(e,a||s)}function ne(t,e){var n=t||Et(),i=Rt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Et(n)))}function ie(){return new p(this)}function re(t,e){var n;return e=$("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Et(t),+this>+t):(n=f(t)?+t:+Et(t),n<+this.clone().startOf(e))}function oe(t,e){var n;return e=$("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Et(t),+t>+this):(n=f(t)?+t:+Et(t),+this.clone().endOf(e)<n)}function ae(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function se(t,e){var n;return e=$(e||"millisecond"),"millisecond"===e?(t=f(t)?t:Et(t),+this===+t):(n=+Et(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function le(t,e,n){var i,r,o=Rt(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=$(e),"year"===e||"month"===e||"quarter"===e?(r=ue(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:g(r)}function ue(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function he(e){var n=I(this,e||t.defaultFormat);return this.localeData().postformat(n)}function pe(t,e){return this.isValid()?Zt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(Et(),t)}function ge(t,e){return this.isValid()?Zt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(Et(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=x(t),null!=e&&(this._locale=e),this)}function ye(){return this._locale}function be(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=$(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function _e(){return+this._d-6e4*(this._offset||0)}function Ce(){return Math.floor(+this/1e3)}function ke(){return this._offset?new Date(+this):this._d}function xe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Se(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function $e(){return c(this)}function De(){return a({},u(this))}function Te(){return u(this).overflow}function Ee(t,e){O(0,[t,t.length],0,e)}function Ae(t,e,n){return ut(Et([t,11,31+e-n]),e,n).week}function Me(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Pe(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Oe(){return Ae(this.year(),1,4)}function Ne(){var t=this.localeData()._week;return Ae(this.year(),t.dow,t.doy)}function Le(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ie(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Re(t){return this._weekdays[t.day()]}function Be(t){return this._weekdaysShort[t.day()]}function He(t){return this._weekdaysMin[t.day()]}function Fe(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Et([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ie(t,this.localeData()),this.add(t-e,"d")):e}function je(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ue(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function We(t,e){return e._meridiemParse}function Ge(t){return"p"===(t+"").toLowerCase().charAt(0)}function qe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ke(t,e){e[hi]=m(1e3*("0."+t))}function Ye(){return this._isUTC?"UTC":""}function Ze(){return this._isUTC?"Coordinated Universal Time":""}function Je(t){return Et(1e3*t)}function Xe(){return Et.apply(null,arguments).parseZone()}function Qe(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function an(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function sn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(t,e,n,i){var r=x(),o=s().set(i,e);return r[n](o,t)}function un(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ln(t,e,n,r);var o,a=[];for(o=0;i>o;o++)a[o]=ln(t,o,n,r);return a}function cn(t,e){return un(t,e,"months",12,"month")}function dn(t,e){return un(t,e,"monthsShort",12,"month")}function hn(t,e){return un(t,e,"weekdays",7,"day")}function pn(t,e){return un(t,e,"weekdaysShort",7,"day")}function fn(t,e){return un(t,e,"weekdaysMin",7,"day")}function gn(){var t=this._data;return this._milliseconds=Yi(this._milliseconds),this._days=Yi(this._days),this._months=Yi(this._months),t.milliseconds=Yi(t.milliseconds),t.seconds=Yi(t.seconds),t.minutes=Yi(t.minutes),t.hours=Yi(t.hours),t.months=Yi(t.months),t.years=Yi(t.years),this}function mn(t,e,n,i){var r=Zt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function vn(t,e){return mn(this,t,e,1)}function yn(t,e){return mn(this,t,e,-1)}function bn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*bn(Cn(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=g(o/1e3),l.seconds=t%60,e=g(t/60),l.minutes=e%60,n=g(e/60),l.hours=n%24,a+=g(n/24),r=g(_n(a)),s+=r,a-=bn(Cn(r)),i=g(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function _n(t){return 4800*t/146097}function Cn(t){return 146097*t/4800}function kn(t){var e,n,i=this._milliseconds;if(t=$(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+_n(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Cn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function xn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Sn(t){return function(){return this.as(t)}}function $n(t){return t=$(t),this[t+"s"]()}function Dn(t){return function(){return this._data[t]}}function Tn(){return g(this.days()/7)}function En(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function An(t,e,n){var i=Zt(t).abs(),r=dr(i.as("s")),o=dr(i.as("m")),a=dr(i.as("h")),s=dr(i.as("d")),l=dr(i.as("M")),u=dr(i.as("y")),c=r<hr.s&&["s",r]||1===o&&["m"]||o<hr.m&&["mm",o]||1===a&&["h"]||a<hr.h&&["hh",a]||1===s&&["d"]||s<hr.d&&["dd",s]||1===l&&["M"]||l<hr.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,En.apply(null,c)}function Mn(t,e){return void 0===hr[t]?!1:void 0===e?hr[t]:(hr[t]=e,!0)}function Pn(t){var e=this.localeData(),n=An(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function On(){var t,e,n,i=pr(this._milliseconds)/1e3,r=pr(this._days),o=pr(this._months);t=g(i/60),e=g(t/60),i%=60,t%=60,n=g(o/12),o%=12;var a=n,s=o,l=r,u=e,c=t,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Nn,Ln,In=t.momentProperties=[],Rn=!1,Bn={},Hn={},Fn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Vn={},Un=/\d/,Wn=/\d\d/,Gn=/\d{3}/,qn=/\d{4}/,Kn=/[+-]?\d{6}/,Yn=/\d\d?/,Zn=/\d{1,3}/,Jn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,Qn=/\d+/,ti=/[+-]?\d+/,ei=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},oi={},ai=0,si=1,li=2,ui=3,ci=4,di=5,hi=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),H("M",Yn),H("MM",Yn,Wn),H("MMM",ii),H("MMMM",ii),j(["M","MM"],function(t,e){e[si]=m(t)-1}),j(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[si]=r:u(n).invalidMonth=t});var pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gi={};t.suppressDeprecationWarnings=!1;var mi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),S("year","y"),H("Y",ti),H("YY",Yn,Wn),H("YYYY",Jn,qn),H("YYYYY",Xn,Kn),H("YYYYYY",Xn,Kn),j(["YYYYY","YYYYYY"],ai),j("YYYY",function(e,n){n[ai]=2===e.length?t.parseTwoDigitYear(e):m(e)}),j("YY",function(e,n){n[ai]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var wi=T("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),H("w",Yn),H("ww",Yn,Wn),H("W",Yn),H("WW",Yn,Wn),V(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=m(t)});var _i={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),H("DDD",Zn),H("DDDD",Gn),j(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),t.ISO_8601=function(){};var Ci=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this>t?this:t}),ki=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return t>this?this:t});Lt("Z",":"),Lt("ZZ",""),H("Z",ei),H("ZZ",ei),j(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=It(t)});var xi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Si=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$i=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Zt.fn=Ot.prototype;var Di=te(1,"add"),Ti=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ei=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ee("gggg","weekYear"),Ee("ggggg","weekYear"),Ee("GGGG","isoWeekYear"),Ee("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),H("G",ti),H("g",ti),H("GG",Yn,Wn),H("gg",Yn,Wn),H("GGGG",Jn,qn),H("gggg",Jn,qn),H("GGGGG",Xn,Kn),H("ggggg",Xn,Kn),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=m(t)}),V(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),O("Q",0,0,"quarter"),S("quarter","Q"),H("Q",Un),j("Q",function(t,e){e[si]=3*(m(t)-1)}),O("D",["DD",2],"Do","date"),S("date","D"),H("D",Yn),H("DD",Yn,Wn),H("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),j(["D","DD"],li),j("Do",function(t,e){e[li]=m(t.match(Yn)[0],10)});var Ai=T("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),H("d",Yn),H("e",Yn),H("E",Yn),H("dd",ii),H("ddd",ii),H("dddd",ii),V(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:u(n).invalidWeekday=t}),V(["d","e","E"],function(t,e,n,i){e[i]=m(t)});var Mi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),Ue("a",!0),Ue("A",!1),S("hour","h"),H("a",We),H("A",We),H("H",Yn),H("h",Yn),H("HH",Yn,Wn),H("hh",Yn,Wn),j(["H","HH"],ui),j(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),j(["h","hh"],function(t,e,n){e[ui]=m(t),u(n).bigHour=!0});var Ni=/[ap]\.?m?\.?/i,Li=T("Hours",!0);O("m",["mm",2],0,"minute"),S("minute","m"),H("m",Yn),H("mm",Yn,Wn),j(["m","mm"],ci);var Ii=T("Minutes",!1);O("s",["ss",2],0,"second"),S("second","s"),H("s",Yn),H("ss",Yn,Wn),j(["s","ss"],di);var Ri=T("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),H("S",Zn,Un),H("SS",Zn,Wn),H("SSS",Zn,Gn);var Bi;for(Bi="SSSS";Bi.length<=9;Bi+="S")H(Bi,Qn);for(Bi="S";Bi.length<=9;Bi+="S")j(Bi,Ke);var Hi=T("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var Fi=p.prototype;Fi.add=Di,Fi.calendar=ne,Fi.clone=ie,Fi.diff=le,Fi.endOf=we,Fi.format=he,Fi.from=pe,Fi.fromNow=fe,Fi.to=ge,Fi.toNow=me,Fi.get=M,Fi.invalidAt=Te,Fi.isAfter=re,Fi.isBefore=oe,Fi.isBetween=ae,Fi.isSame=se,Fi.isValid=$e,Fi.lang=Ei,Fi.locale=ve,Fi.localeData=ye,Fi.max=ki,Fi.min=Ci,Fi.parsingFlags=De,Fi.set=M,Fi.startOf=be,Fi.subtract=Ti,Fi.toArray=xe,Fi.toObject=Se,Fi.toDate=ke,Fi.toISOString=de,Fi.toJSON=de,Fi.toString=ce,Fi.unix=Ce,Fi.valueOf=_e,Fi.year=wi,Fi.isLeapYear=lt,Fi.weekYear=Me,Fi.isoWeekYear=Pe,Fi.quarter=Fi.quarters=Le,Fi.month=Z,Fi.daysInMonth=J,Fi.week=Fi.weeks=pt,Fi.isoWeek=Fi.isoWeeks=ft,Fi.weeksInYear=Ne,Fi.isoWeeksInYear=Oe,Fi.date=Ai,Fi.day=Fi.days=ze,Fi.weekday=je,Fi.isoWeekday=Ve,Fi.dayOfYear=mt,Fi.hour=Fi.hours=Li,Fi.minute=Fi.minutes=Ii,Fi.second=Fi.seconds=Ri,
Fi.millisecond=Fi.milliseconds=Hi,Fi.utcOffset=Ht,Fi.utc=zt,Fi.local=jt,Fi.parseZone=Vt,Fi.hasAlignedHourOffset=Ut,Fi.isDST=Wt,Fi.isDSTShifted=Gt,Fi.isLocal=qt,Fi.isUtcOffset=Kt,Fi.isUtc=Yt,Fi.isUTC=Yt,Fi.zoneAbbr=Ye,Fi.zoneName=Ze,Fi.dates=tt("dates accessor is deprecated. Use date instead.",Ai),Fi.months=tt("months accessor is deprecated. Use month instead",Z),Fi.years=tt("years accessor is deprecated. Use year instead",wi),Fi.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ft);var zi=Fi,ji={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Vi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ui="Invalid date",Wi="%d",Gi=/\d{1,2}/,qi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ki=y.prototype;Ki._calendar=ji,Ki.calendar=Qe,Ki._longDateFormat=Vi,Ki.longDateFormat=tn,Ki._invalidDate=Ui,Ki.invalidDate=en,Ki._ordinal=Wi,Ki.ordinal=nn,Ki._ordinalParse=Gi,Ki.preparse=rn,Ki.postformat=rn,Ki._relativeTime=qi,Ki.relativeTime=on,Ki.pastFuture=an,Ki.set=sn,Ki.months=G,Ki._months=pi,Ki.monthsShort=q,Ki._monthsShort=fi,Ki.monthsParse=K,Ki.week=ct,Ki._week=_i,Ki.firstDayOfYear=ht,Ki.firstDayOfWeek=dt,Ki.weekdays=Re,Ki._weekdays=Mi,Ki.weekdaysMin=He,Ki._weekdaysMin=Oi,Ki.weekdaysShort=Be,Ki._weekdaysShort=Pi,Ki.weekdaysParse=Fe,Ki.isPM=Ge,Ki._meridiemParse=Ni,Ki.meridiem=qe,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",C),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",x);var Yi=Math.abs,Zi=Sn("ms"),Ji=Sn("s"),Xi=Sn("m"),Qi=Sn("h"),tr=Sn("d"),er=Sn("w"),nr=Sn("M"),ir=Sn("y"),rr=Dn("milliseconds"),or=Dn("seconds"),ar=Dn("minutes"),sr=Dn("hours"),lr=Dn("days"),ur=Dn("months"),cr=Dn("years"),dr=Math.round,hr={s:45,m:45,h:22,d:26,M:11},pr=Math.abs,fr=Ot.prototype;fr.abs=gn,fr.add=vn,fr.subtract=yn,fr.as=kn,fr.asMilliseconds=Zi,fr.asSeconds=Ji,fr.asMinutes=Xi,fr.asHours=Qi,fr.asDays=tr,fr.asWeeks=er,fr.asMonths=nr,fr.asYears=ir,fr.valueOf=xn,fr._bubble=wn,fr.get=$n,fr.milliseconds=rr,fr.seconds=or,fr.minutes=ar,fr.hours=sr,fr.days=lr,fr.weeks=Tn,fr.months=ur,fr.years=cr,fr.humanize=Pn,fr.toISOString=On,fr.toString=On,fr.toJSON=On,fr.locale=ve,fr.localeData=ye,fr.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),fr.lang=Ei,O("X",0,0,"unix"),O("x",0,0,"valueOf"),H("x",ti),H("X",ni),j("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),j("x",function(t,e,n){n._d=new Date(m(t))}),t.version="2.10.6",e(Et),t.fn=zi,t.min=Mt,t.max=Pt,t.utc=s,t.unix=Je,t.months=cn,t.isDate=i,t.locale=C,t.invalid=d,t.duration=Zt,t.isMoment=f,t.weekdays=hn,t.parseZone=Xe,t.localeData=x,t.isDuration=Nt,t.monthsShort=dn,t.weekdaysMin=fn,t.defineLocale=k,t.weekdaysShort=pn,t.normalizeUnits=$,t.relativeTimeThreshold=Mn;var gr=t;return gr}),/**
* @version: 2.1.25
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2017 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.daterangepicker.com/
*/
function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(n,i){return t.daterangepicker=e(n,i)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery"),n.fn||(n.fn={})),module.exports=e(require("moment"),n)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var n=function(n,i,r){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof i||null===i)&&(i={}),i=e.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof e||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e(i.parentEl&&e(i.parentEl).length?i.parentEl:this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){var o=document.createElement("textarea");o.innerHTML=i.locale.customRangeLabel;var a=o.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var l,u,c;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&e(this.element).is("input[type=text]")){var d=e(this.element).val(),h=d.split(this.locale.separator);l=u=null,2==h.length?(l=t(h[0],this.locale.format),u=t(h[1],this.locale.format)):this.singleDatePicker&&""!==d&&(l=t(d,this.locale.format),u=t(d,this.locale.format)),null!==l&&null!==u&&(this.setStartDate(l),this.setEndDate(u))}if("object"==typeof i.ranges){for(c in i.ranges){l="string"==typeof i.ranges[c][0]?t(i.ranges[c][0],this.locale.format):t(i.ranges[c][0]),u="string"==typeof i.ranges[c][1]?t(i.ranges[c][1],this.locale.format):t(i.ranges[c][1]),this.minDate&&l.isBefore(this.minDate)&&(l=this.minDate.clone());var p=this.maxDate;if(this.dateLimit&&p&&l.clone().add(this.dateLimit).isAfter(p)&&(p=l.clone().add(this.dateLimit)),p&&u.isAfter(p)&&(u=p.clone()),!(this.minDate&&u.isBefore(this.minDate,this.timepicker?"minute":"day")||p&&l.isAfter(p,this.timepicker?"minute":"day"))){var o=document.createElement("textarea");o.innerHTML=c;var a=o.value;this.ranges[a]=[l,u]}}var f="<ul>";for(c in this.ranges)f+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&12>t&&(t+=12),"AM"===i&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&12>t&&(t+=12),"AM"===i&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i="left"==n?this.leftCalendar:this.rightCalendar,r=i.month.month(),o=i.month.year(),a=i.month.hour(),s=i.month.minute(),l=i.month.second(),u=t([o,r]).daysInMonth(),c=t([o,r,1]),d=t([o,r,u]),h=t(c).subtract(1,"month").month(),p=t(c).subtract(1,"month").year(),f=t([p,h]).daysInMonth(),g=c.day(),i=[];i.firstDay=c,i.lastDay=d;for(var m=0;6>m;m++)i[m]=[];var v=f-g+this.locale.firstDay+1;v>f&&(v-=7),g==this.locale.firstDay&&(v=f-6);for(var y,b,w=t([p,h,v,12,s,l]),m=0,y=0,b=0;42>m;m++,y++,w=t(w).add(24,"hour"))m>0&&y%7===0&&(y=0,b++),i[b][y]=w.clone().hour(a).minute(s).second(l),w.hour(12),this.minDate&&i[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[b][y].isBefore(this.minDate)&&"left"==n&&(i[b][y]=this.minDate.clone()),this.maxDate&&i[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[b][y].isAfter(this.maxDate)&&"right"==n&&(i[b][y]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var _="left"==n?this.minDate:this.startDate,C=this.maxDate,k=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),x='<table class="table-condensed">';x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),x+=_&&!_.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?"<th></th>":'<th class="prev available"><i class="fa fa-'+k.left+" glyphicon glyphicon-"+k.left+'"></i></th>';var S=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var $=i[1][1].month(),D=i[1][1].year(),T=C&&C.year()||D+5,E=_&&_.year()||D-50,A=D==E,M=D==T,P='<select class="monthselect">',O=0;12>O;O++)P+=(!A||O>=_.month())&&(!M||O<=C.month())?"<option value='"+O+"'"+(O===$?" selected='selected'":"")+">"+this.locale.monthNames[O]+"</option>":"<option value='"+O+"'"+(O===$?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[O]+"</option>";P+="</select>";for(var N='<select class="yearselect">',L=E;T>=L;L++)N+='<option value="'+L+'"'+(L===D?' selected="selected"':"")+">"+L+"</option>";N+="</select>",S=P+N}if(x+='<th colspan="5" class="month">'+S+"</th>",x+=C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+k.right+" glyphicon glyphicon-"+k.right+'"></i></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){x+="<th>"+e+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.dateLimit){var I=this.startDate.clone().add(this.dateLimit).endOf("day");(!C||I.isBefore(C))&&(C=I)}for(var b=0;6>b;b++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+i[b][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+i[b][0].isoWeek()+"</td>");for(var y=0;7>y;y++){var R=[];i[b][y].isSame(new Date,"day")&&R.push("today"),i[b][y].isoWeekday()>5&&R.push("weekend"),i[b][y].month()!=i[1][1].month()&&R.push("off"),this.minDate&&i[b][y].isBefore(this.minDate,"day")&&R.push("off","disabled"),C&&i[b][y].isAfter(C,"day")&&R.push("off","disabled"),this.isInvalidDate(i[b][y])&&R.push("off","disabled"),i[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&i[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&i[b][y]>this.startDate&&i[b][y]<this.endDate&&R.push("in-range");var B=this.isCustomDate(i[b][y]);B!==!1&&("string"==typeof B?R.push(B):Array.prototype.push.apply(R,B));for(var H="",F=!1,m=0;m<R.length;m++)H+=R[m]+" ","disabled"==R[m]&&(F=!0);F||(H+="available"),x+='<td class="'+H.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+i[b][y].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(x)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var o=this.container.find(".calendar.right .calendar-time div");if(""!=o.html()&&(n.hour(o.find(".hourselect option:selected").val()||n.hour()),n.minute(o.find(".minuteselect option:selected").val()||n.minute()),n.second(o.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,u=s;l>=u;u++){var c=u;this.timePicker24Hour||(c=n.hour()>=12?12==u?12:u+12:12==u?0:u);var d=n.clone().hour(c),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),r&&d.minute(0).isAfter(r)&&(h=!0),e+=c!=n.hour()||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":'<option value="'+u+'" selected="selected">'+u+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var u=0;60>u;u+=this.timePickerIncrement){var p=10>u?"0"+u:u,d=n.clone().minute(u),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),r&&d.second(0).isAfter(r)&&(h=!0),e+=n.minute()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+u+'">'+p+"</option>":'<option value="'+u+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var u=0;60>u;u++){var p=10>u?"0"+u:u,d=n.clone().second(u),h=!1;i&&d.isBefore(i)&&(h=!0),r&&d.isAfter(r)&&(h=!0),e+=n.second()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+u+'">'+p+"</option>":'<option value="'+u+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),e+=n.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,n={top:0,left:0},i=e(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,u=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),r=i.substr(1,1),o=i.substr(3,1),c=e(n).parents(".calendar"),d=c.hasClass("left")?s.calendar[r][o]:l.calendar[r][o];d.isAfter(u)&&d.isBefore(a)||d.isSame(a,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&12>s&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&12>s&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".calendar."+i),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){
var s=n.find(".ampmselect").val();"PM"===s&&12>r&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var u=this.endDate.clone();u.hour(r),u.minute(o),u.second(a),this.setEndDate(u)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var i=e(n.target).closest(".calendar").hasClass("right"),r=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),o=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);r.isValid()&&o.isValid()&&(i&&o.isBefore(r)&&(r=o.clone()),this.setStartDate(r),this.setEndDate(o),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active");var n=e(t.target).closest(".calendar").hasClass("right");n&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var n=this.container.find('input[name="daterangepicker_end"]').val(),i=t(n,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(n=t(this.element.val(),this.locale.format),i=n),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){(9===t.keyCode||13===t.keyCode)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){return this.each(function(){var r=e(this);r.data("daterangepicker")&&r.data("daterangepicker").remove(),r.data("daterangepicker",new n(r,t,i))}),this},n}),function(){var t;t=angular.module("daterangepicker",[]),t.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}),t.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(t,e,n,i){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(t,e,n,r){var o,a,s,l,u,c,d,h,p,f,g,m,v,y;return l=function(){var t,e;return e=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(t){return null!=t?t.locale:void 0}).filter(function(t){return!!t})),t=angular.extend.apply(angular,arguments),t.locale=e,t},v=$(e),m=t.opts,y=l({},i,m),u=null,o=function(){return u.setStartDate(),u.setEndDate()},c=function(t){return function(e){return u&&e?t(moment(e)):void 0}},h=c(function(t){return u.endDate<t&&u.setEndDate(t),y.startDate=t,u.setStartDate(t)}),d=c(function(t){return u.startDate>t&&u.setStartDate(t),y.endDate=t,u.setEndDate(t)}),p=function(t){return function(e,n){return e&&n?t(moment(e),moment(n)):!0}},g=p(function(t,e){return t.isBefore(e)||t.isSame(e,"day")}),f=p(function(t,e){return t.isAfter(e)||t.isSame(e,"day")}),r.$formatters.push(function(t){var e;return e=function(t){return moment.isMoment(t)?t.format(y.locale.format):moment(t).format(y.locale.format)},y.singleDatePicker&&t?e(t):t.startDate?[e(t.startDate),e(t.endDate)].join(y.locale.separator):""}),r.$render=function(){return r.$modelValue&&r.$modelValue.startDate?(h(r.$modelValue.startDate),d(r.$modelValue.endDate)):o(),v.val(r.$viewValue)},r.$parsers.push(function(t){var e,n,i;return e=function(t){return moment(t,y.locale.format)},n={startDate:null,endDate:null},angular.isString(t)&&t.length>0&&(y.singleDatePicker?n=e(t):(i=t.split(y.locale.separator).map(e),n.startDate=i[0],n.endDate=i[1])),n}),r.$isEmpty=function(t){return!(angular.isString(t)&&t.length>0)},a=function(){var e,n;v.daterangepicker(angular.extend(y,{autoUpdateInput:!1}),function(e,n){return t.$apply(function(){return t.model=y.singleDatePicker?e:{startDate:e,endDate:n}})}),u=v.data("daterangepicker"),n=[];for(e in y.eventHandlers)n.push(v.on(e,function(e){var n;return n=e.type+"."+e.namespace,t.$evalAsync(y.eventHandlers[n])}));return n},a(),t.$watch("model.startDate",function(t){return h(t)}),t.$watch("model.endDate",function(t){return d(t)}),s=function(e,i,o,s){return n[e]?(r.$validators[e]=function(t){return t&&i(y[s],t[o])},t.$watch(e,function(t){return y[s]=t?moment(t):!1,a()})):void 0},s("min",g,"startDate","minDate"),s("max",f,"endDate","maxDate"),n.options&&t.$watch("opts",function(t){return y=l(y,t),a()},!0),n.clearable&&t.$watch("clearable",function(e){return e&&(y=l(y,{locale:{cancelLabel:y.clearLabel}})),a(),e?v.on("cancel.daterangepicker",function(){return t.$apply(function(){return t.model=y.singleDatePicker?null:{startDate:null,endDate:null}})}):void 0}),t.$on("$destroy",function(){return null!=u?u.remove():void 0})}}}])}.call(this),/*!
 * FullCalendar v2.7.3
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return K(t,Yt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Yt)?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function o(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function a(){t("body").addClass("fc-not-allowed")}function s(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),a=[],s=[],l=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?o:r,d=t(i).outerHeight(!0);u>d?(a.push(i),s.push(d),l.push(t(i).height())):c+=d}),i&&(n-=c,r=Math.floor(n/a.length),o=Math.floor(n-r*(a.length-1))),t(a).each(function(e,n){var i=e===a.length-1?o:r,u=s[e],c=l[e],d=i-(u-c);i>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function d(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function h(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function p(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function f(t,e){var n=t.offset(),i=m(t),r=n.left+b(t,"border-left-width")+i.left-(e?e.left:0),o=n.top+b(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function g(t,e){var n=t.offset(),i=n.left+b(t,"border-left-width")+b(t,"padding-left")-(e?e.left:0),r=n.top+b(t,"border-top-width")+b(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function m(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return v()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function v(){return null===Zt&&(Zt=y()),Zt}function y(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function b(t,e){return parseFloat(t.css(e))||0}function w(t){return 1==t.which&&!t.ctrlKey}function _(t){if(void 0!==t.pageX)return t.pageX;var e=t.originalEvent.touches;return e?e[0].pageX:void 0}function C(t){if(void 0!==t.pageY)return t.pageY;var e=t.originalEvent.touches;return e?e[0].pageY:void 0}function k(t){return/^touch/.test(t.type)}function x(t){t.addClass("fc-unselectable").on("selectstart",S)}function S(t){t.preventDefault()}function $(t){return window.addEventListener?(window.addEventListener("scroll",t,!0),!0):!1}function D(t){return window.removeEventListener?(window.removeEventListener("scroll",t,!0),!0):!1}function T(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function E(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function A(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function M(t,e){return{left:t.left-e.left,top:t.top-e.top}}function P(e){var n,i,r=[],o=[];for("string"==typeof e?o=e.split(/\s*,\s*/):"function"==typeof e?o=[e]:t.isArray(e)&&(o=e),n=0;n<o.length;n++)i=o[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function O(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=N(t,e,n[i]))return r;return 0}function N(t,e,n){return n.func?n.func(t,e):L(t[n.field],e[n.field])*(n.order||1)}function L(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function I(t,e){var n,i,r,o,a=t.start,s=t.end,l=e.start,u=e.end;return s>l&&u>a?(a>=l?(n=a.clone(),r=!0):(n=l.clone(),r=!1),u>=s?(i=s.clone(),o=!0):(i=u.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}):void 0}function R(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function B(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function H(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function F(t,e){var n,i,r;for(n=0;n<Xt.length&&(i=Xt[n],r=z(i,t,e),!(r>=1&&st(r)));n++);return i}function z(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function j(t,e,n){var i;return W(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&st(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function V(t,e){var n,i;return W(t)||W(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&st(n)&&Math.abs(i)>=1&&st(i)?n/i:t.asDays()/e.asDays())}function U(t,n){var i;return W(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&st(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function W(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function G(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function q(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function K(t,e){var n,i,r,o,a,s,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;o>=0;o--)if(a=t[o][i],"object"==typeof a)r.unshift(a);else if(void 0!==a){l[i]=a;break}r.length&&(l[i]=K(r))}for(n=t.length-1;n>=0;n--){s=t[n];for(i in s)i in l||(l[i]=s[i])}return l}function Y(t){var e=function(){};return e.prototype=t,new e}function Z(t,e){for(var n in t)X(t,n)&&(e[n]=t[n])}function J(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function X(t,e){return ne.call(t,e)}function Q(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function tt(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;r<e.length;r++)o=e[r].apply(n,i)||o;return o}}function et(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function nt(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function it(t){return t.replace(/&.*?;/g,"")}function rt(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function ot(t){return t.charAt(0).toUpperCase()+t.slice(1)}function at(t,e){return t-e}function st(t){return t%1===0}function lt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function ut(t,e,n){var i,r,o,a,s,l=function(){var u=+new Date-a;e>u?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,a=+new Date;var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}}function ct(n,i,r){var o,a,s,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),ht(u,l)):G(u)||void 0===u?l=e.apply(null,n):(o=!1,a=!1,c?ie.test(u)?(u+="-01",n=[u],o=!0,a=!0):(s=re.exec(u))&&(o=!s[5],a=!0):t.isArray(u)&&(a=!0),l=i||o?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(a?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function dt(t,n){var i,r,o=!1,a=!1,s=t.length,l=[];for(i=0;s>i;i++)r=t[i],e.isMoment(r)||(r=qt.moment.parseZone(r)),o=o||r._ambigTime,a=a||r._ambigZone,l.push(r);for(i=0;s>i;i++)r=l[i],n||!o||r._ambigTime?a&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function ht(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function pt(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function ft(t,e){return ae.format.call(t,e)}function gt(t,e){return mt(t,_t(e))}function mt(t,e){var n,i="";for(n=0;n<e.length;n++)i+=vt(t,e[n]);return i}function vt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?se[n]?se[n](t):ft(t,n):e.maybe&&(i=mt(t,e.maybe),i.match(/[1-9]/))?i:""}function yt(t,e,n,i,r){var o;return t=qt.moment.parseZone(t),e=qt.moment.parseZone(e),o=(t.localeData||t.lang).call(t),n=o.longDateFormat(n)||n,i=i||" - ",bt(t,e,_t(n),i,r)}function bt(t,e,n,i,r){var o,a,s,l,u=t.clone().stripZone(),c=e.clone().stripZone(),d="",h="",p="",f="",g="";for(a=0;a<n.length&&(o=wt(t,e,u,c,n[a]),o!==!1);a++)d+=o;for(s=n.length-1;s>a&&(o=wt(t,e,u,c,n[s]),o!==!1);s--)h=o+h;for(l=a;s>=l;l++)p+=vt(t,n[l]),f+=vt(e,n[l]);return(p||f)&&(g=r?f+i+p:p+i+f),d+g+h}function wt(t,e,n,i,r){var o,a;return"string"==typeof r?r:(o=r.token)&&(a=le[o.charAt(0)],a&&n.isSame(i,a))?ft(t,o):!1}function _t(t){return t in ue?ue[t]:ue[t]=Ct(t)}function Ct(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:Ct(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function kt(){}function xt(t,e){var n;return X(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=Y(t.prototype),Z(e,n.prototype),J(e,n.prototype),Z(t,n),n}function St(t,e){Z(e,t.prototype)}function $t(t,e){return t||e?t&&e?t.component===e.component&&Dt(t,e)&&Dt(e,t):!1:!0}function Dt(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function Tt(t){var e=At(t);return"background"===e||"inverse-background"===e}function Et(t){return"inverse-background"===At(t)}function At(t){return et((t.source||{}).rendering,t.rendering)}function Mt(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function Pt(t,e){return t.start-e.start}function Ot(n){var i,r,o,a,s=qt.dataAttrPrefix;return s&&(s+="-"),i=n.data(s+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),o=i.duration,a=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(s+"start")),null==r&&(r=n.data(s+"time")),null==o&&(o=n.data(s+"duration")),null==a&&(a=n.data(s+"stick")),r=null!=r?e.duration(r):null,o=null!=o?e.duration(o):null,a=Boolean(a),{eventProps:i,startTime:r,duration:o,stick:a}}function Nt(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Lt(t,e){return t.leftCol-e.leftCol}function It(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Ht(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Rt(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],o=e+1;o<t.length;o++)Ht(r,t[o],r.forwardSegs)}function Bt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],Bt(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Ht(t,e,n){n=n||[];for(var i=0;i<e.length;i++)Ft(t,e[i])&&n.push(e[i]);return n}function Ft(t,e){return t.bottom>e.top&&t.top<e.bottom}function zt(n,i){function r(){W?s()&&(c(),l()):o()}function o(){G=F.theme?"ui":"fc",n.addClass("fc"),F.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),F.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),W=t("<div class='fc-view-container'/>").prependTo(n),V=H.header=new Ut(H,F),U=V.render(),U&&n.prepend(U),l(F.defaultView),F.handleWindowResize&&(Z=ut(h,F.windowResizeDelay),t(window).resize(Z))}function a(){q&&q.removeElement(),V.removeElement(),W.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Z&&t(window).unbind("resize",Z)}function s(){return n.is(":visible")}function l(e){nt++,q&&e&&q.type!==e&&(V.deactivateButton(q.type),O(),q.removeElement(),q=H.view=null),!q&&e&&(q=H.view=et[e]||(et[e]=H.instantiateView(e)),q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(W)),V.activateButton(e)),q&&(J=q.massageCurrentDate(J),q.displaying&&J.isWithin(q.intervalStart,q.intervalEnd)||s()&&(q.display(J),N(),w(),_(),m())),N(),nt--}function u(t){return s()?(t&&d(),nt++,q.updateSize(!0),nt--,!0):void 0}function c(){s()&&d()}function d(){K="number"==typeof F.contentHeight?F.contentHeight:"number"==typeof F.height?F.height-(U?U.outerHeight(!0):0):Math.round(W.width()/Math.max(F.aspectRatio,.5))}function h(t){!nt&&t.target===window&&q.start&&u(!0)&&q.trigger("windowResize",tt)}function p(){g(),v()}function f(){s()&&(O(),q.displayEvents(it),N())}function g(){O(),q.clearEvents(),N()}function m(){!F.lazyFetching||X(q.start,q.end)?v():f()}function v(){Q(q.start,q.end)}function y(t){it=t,f()}function b(){f()}function w(){V.updateTitle(q.title)}function _(){var t=H.getNow();t.isWithin(q.intervalStart,q.intervalEnd)?V.disableButton("today"):V.enableButton("today")}function C(t,e){q.select(H.buildSelectSpan.apply(H,arguments))}function k(){q&&q.unselect()}function x(){J=q.computePrevDate(J),l()}function S(){J=q.computeNextDate(J),l()}function $(){J.add(-1,"years"),l()}function D(){J.add(1,"years"),l()}function T(){J=H.getNow(),l()}function E(t){J=H.moment(t).stripZone(),l()}function A(t){J.add(e.duration(t)),l()}function M(t,e){var n;e=e||"day",n=H.getViewSpec(e)||H.getUnitViewSpec(e),J=t.clone(),l(n?n.type:null)}function P(){return H.applyTimezone(J)}function O(){W.css({width:"100%",height:W.height(),overflow:"hidden"})}function N(){W.css({width:"",height:"",overflow:""})}function L(){return H}function I(){return q}function R(t,e){return void 0===e?F[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(F[t]=e,u(!0)))}function B(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,n),F[t]?F[t].apply(e,n):void 0}var H=this;H.initOptions(i||{});var F=this.options;H.render=r,H.destroy=a,H.refetchEvents=p,H.reportEvents=y,H.reportEventChange=b,H.rerenderEvents=f,H.changeView=l,H.select=C,H.unselect=k,H.prev=x,H.next=S,H.prevYear=$,H.nextYear=D,H.today=T,H.gotoDate=E,H.incrementDate=A,H.zoomTo=M,H.getDate=P,H.getCalendar=L,H.getView=I,H.option=R,H.trigger=B;var z=Y(Vt(F.lang));if(F.monthNames&&(z._months=F.monthNames),F.monthNamesShort&&(z._monthsShort=F.monthNamesShort),F.dayNames&&(z._weekdays=F.dayNames),F.dayNamesShort&&(z._weekdaysShort=F.dayNamesShort),null!=F.firstDay){var j=Y(z._week);j.dow=F.firstDay,z._week=j}z._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(F.weekNumberCalculation),H.defaultAllDayEventDuration=e.duration(F.defaultAllDayEventDuration),H.defaultTimedEventDuration=e.duration(F.defaultTimedEventDuration),H.moment=function(){var t;return"local"===F.timezone?(t=qt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===F.timezone?qt.moment.utc.apply(null,arguments):qt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=z:t._lang=z,t},H.getIsAmbigTimezone=function(){return"local"!==F.timezone&&"UTC"!==F.timezone},H.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=H.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()===0&&(n=e)),n},H.getNow=function(){var t=F.now;return"function"==typeof t&&(t=t()),H.moment(t).stripZone()},H.getEventEnd=function(t){return t.end?t.end.clone():H.getDefaultEventEnd(t.allDay,t.start)},H.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(H.defaultAllDayEventDuration):n.add(H.defaultTimedEventDuration),H.getIsAmbigTimezone()&&n.stripZone(),n},H.humanizeDuration=function(t){return(t.locale||t.lang).call(t,F.lang).humanize()},Wt.call(H,F);var V,U,W,G,q,K,Z,J,X=H.isFetchNeeded,Q=H.fetchEvents,tt=n[0],et={},nt=0,it=[];J=null!=F.defaultDate?H.moment(F.defaultDate).stripZone():H.getNow(),H.getSuggestedViewHeight=function(){return void 0===K&&c(),K},H.isHeightAuto=function(){return"auto"===F.contentHeight||"auto"===F.height},H.freezeContentHeight=O,H.unfreezeContentHeight=N,H.initialize()}function jt(e){t.each(Te,function(t,n){null==e[t]&&(e[t]=n(e))})}function Vt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Ut(e,n){function i(){var e=n.header;return p=n.theme?"ui":"fc",e?f=t("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function r(){f.remove(),f=t()}function o(i){var r=t('<div class="fc-'+i+'"/>'),o=n.header[i];return o&&t.each(o.split(" "),function(i){var o,a=t(),s=!0;t.each(this.split(","),function(i,r){var o,l,u,c,d,h,f,m,v,y;"title"==r?(a=a.add(t("<h2>&nbsp;</h2>")),s=!1):((o=(e.options.customButtons||{})[r])?(u=function(t){o.click&&o.click.call(y[0],t)},c="",d=o.text):(l=e.getViewSpec(r))?(u=function(){e.changeView(r)},g.push(r),c=l.buttonTextOverride,d=l.buttonTextDefault):e[r]&&(u=function(){e[r]()},c=(e.overrides.buttonText||{})[r],d=n.buttonText[r]),u&&(h=o?o.themeIcon:n.themeButtonIcons[r],f=o?o.icon:n.buttonIcons[r],m=c?nt(c):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":f&&!n.theme?"<span class='fc-icon fc-icon-"+f+"'></span>":nt(d),v=["fc-"+r+"-button",p+"-button",p+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){y.hasClass(p+"-state-disabled")||(u(t),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),a=a.add(y)))}),s&&a.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),a.length>1?(o=t("<div/>"),s&&o.addClass("fc-button-group"),o.append(a),r.append(o)):r.append(a)}),r}function a(t){f.find("h2").text(t)}function s(t){f.find(".fc-"+t+"-button").addClass(p+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function u(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function d(){return g}var h=this;h.render=i,h.removeElement=r,h.updateTitle=a,h.activateButton=s,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var p,f=t(),g=[]}function Wt(n){function i(t,e){return!N||N>t||e>L}function r(t,e){N=t,L=e,U=[];var n=++j,i=z.length;V=i;for(var r=0;i>r;r++)o(z[r],n)}function o(e,n){a(e,function(i){var r,o,a,s=t.isArray(e.events);if(n==j){if(i)for(r=0;r<i.length;r++)o=i[r],a=s?o:y(o,e),a&&U.push.apply(U,C(a));V--,V||I(U)}})}function a(e,i){var r,o,s=qt.sourceFetchers;for(r=0;r<s.length;r++){if(o=s[r].call(O,e,N.clone(),L.clone(),n.timezone,i),o===!0)return;if("object"==typeof o)return void a(o,i)}var l=e.events;if(l)t.isFunction(l)?(O.pushLoading(),l.call(O,N.clone(),L.clone(),n.timezone,function(t){i(t),O.popLoading()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var c,d=e.success,h=e.error,p=e.complete;c=t.isFunction(e.data)?e.data():e.data;var f=t.extend({},c||{}),g=et(e.startParam,n.startParam),m=et(e.endParam,n.endParam),v=et(e.timezoneParam,n.timezoneParam);g&&(f[g]=N.format()),m&&(f[m]=L.format()),n.timezone&&"local"!=n.timezone&&(f[v]=n.timezone),O.pushLoading(),t.ajax(t.extend({},Ee,e,{data:f,success:function(e){e=e||[];var n=tt(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){tt(h,this,arguments),i()},complete:function(){tt(p,this,arguments),O.popLoading()}}))}else i()}}function s(t){var e=l(t);e&&(z.push(e),V++,o(e,j))}function l(e){var n,i,r=qt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return y(t,n)})),i=0;i<r.length;i++)r[i].call(O,n);return n}}function u(e){z=t.grep(z,function(t){return!c(t,e)}),U=t.grep(U,function(t){return!c(t.source,e)}),I(U)}function c(t,e){return t&&e&&d(t)==d(e)}function d(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=O.moment(t.start),t.end?t.end=O.moment(t.end):t.end=null,k(t,p(t)),I(U)}function p(e){var n={};return t.each(e,function(t,e){f(t)&&void 0!==e&&Q(e)&&(n[t]=e)}),n}function f(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function g(t,e){var n,i,r,o=y(t);if(o){for(n=C(o),i=0;i<n.length;i++)r=n[i],r.source||(e&&(F.events.push(r),r.source=F),U.push(r));return I(U),n}return[]}function m(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),U=t.grep(U,e,!0),i=0;i<z.length;i++)t.isArray(z[i].events)&&(z[i].events=t.grep(z[i].events,e,!0));I(U)}function v(e){return t.isFunction(e)?t.grep(U,e):null!=e?(e+="",t.grep(U,function(t){return t._id==e})):U}function y(i,r){var o,a,s,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+Ae++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],o=i.start||i.date,a=i.end,q(o)&&(o=e.duration(o)),q(a)&&(a=e.duration(a)),i.dow||e.isDuration(o)||e.isDuration(a))l.start=o?e.duration(o):null,l.end=a?e.duration(a):null,l._recurring=!0;else{if(o&&(o=O.moment(o),!o.isValid()))return!1;a&&(a=O.moment(a),a.isValid()||(a=null)),s=i.allDay,void 0===s&&(s=et(r?r.allDayDefault:void 0,n.allDayDefault)),b(o,a,s,l)}return O.normalizeEvent(l),l}function b(t,e,n,i){i.start=t,i.end=e,i.allDay=n,w(i),Gt(i)}function w(t){_(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(n.forceEventDuration?t.end=O.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function _(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=O.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=O.applyTimezone(t.end.time(0))))}function C(e,n,i){var r,o,a,s,l,u,c,d,h,p=[];if(n=n||N,i=i||L,e)if(e._recurring){if(o=e.dow)for(r={},a=0;a<o.length;a++)r[o[a]]=!0;for(s=n.clone().stripTime();s.isBefore(i);)(!r||r[s.day()])&&(l=e.start,u=e.end,c=s.clone(),d=null,l&&(c=c.time(l)),u&&(d=s.clone().time(u)),h=t.extend({},e),b(c,d,!l&&!u,h),p.push(h)),s.add(1,"days")}else p.push(e);return p}function k(e,n,i){function r(t,e){return i?H(t,e,i):n.allDay?B(t,e):R(t,e)}var o,a,s,l,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),w(n),o={start:e._start.clone(),end:e._end?e._end.clone():O.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},w(o),a=null!==e._end&&null===n.end,s=r(n.start,o.start),n.end?(l=r(n.end,o.end),u=l.subtract(s)):u=null,t.each(n,function(t,e){f(t)&&void 0!==e&&(d[t]=e)}),c=x(v(e._id),a,n.allDay,s,u,d),{dateDelta:s,durationDelta:u,undo:c}}function x(e,n,i,r,o,a){var s=O.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(a,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:i},w(d),n?d.end=null:o&&!d.end&&(d.end=O.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),o&&d.end.add(o),s&&!d.allDay&&(r||o)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,a,d),Gt(u),l.push(function(){t.extend(u,c),Gt(u)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function S(e){var i,r=n.businessHours,o={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},a=O.getView();return r&&(i=t.extend({},o,"object"==typeof r?r:{})),i?(e&&(i.start=null,i.end=null),C(y(i),a.start,a.end)):[]}function $(t,e){var i=e.source||{},r=et(e.constraint,i.constraint,n.eventConstraint),o=et(e.overlap,i.overlap,n.eventOverlap);return E(t,r,o,e)}function D(e,n,i){var r,o;return i&&(r=t.extend({},i,n),o=C(y(r))[0]),o?$(e,o):T(e)}function T(t){return E(t,n.selectConstraint,n.selectOverlap)}function E(t,e,n,i){var r,o,a,s,l,u;if(null!=e){for(r=A(e),o=!1,s=0;s<r.length;s++)if(M(r[s],t)){o=!0;break}if(!o)return!1}for(a=O.getPeerEvents(t,i),s=0;s<a.length;s++)if(l=a[s],P(l,t)){if(n===!1)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(u=et(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(i,l))return!1}}return!0}function A(t){return"businessHours"===t?S():"object"==typeof t?C(y(t)):v(t)}function M(t,e){var n=t.start.clone().stripZone(),i=O.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i}function P(t,e){var n=t.start.clone().stripZone(),i=O.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var O=this;O.isFetchNeeded=i,O.fetchEvents=r,O.addEventSource=s,O.removeEventSource=u,O.updateEvent=h,O.renderEvent=g,O.removeEvents=m,O.clientEvents=v,O.mutateEvent=k,O.normalizeEventDates=w,O.normalizeEventTimes=_;var N,L,I=O.reportEvents,F={events:[]},z=[F],j=0,V=0,U=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&z.push(n)}),O.getBusinessHoursEvents=S,O.isEventSpanAllowed=$,O.isExternalSpanAllowed=D,O.isSelectionSpanAllowed=T,O.getEventCache=function(){return U}}function Gt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var qt=t.fullCalendar={version:"2.7.3",internalApiVersion:4},Kt=qt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var a,s=t(o),l=s.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(a=l[e].apply(l,n),r||(i=a),"destroy"===e&&s.removeData("fullCalendar")):l||(l=new xe(s,e),s.data("fullCalendar",l),l.render())}),i};var Yt=["header","buttonText","buttonIcons","themeButtonIcons"];qt.intersectRanges=I,qt.applyAll=tt,qt.debounce=ut,qt.isInt=st,qt.htmlEscape=nt,qt.cssToStr=rt,qt.proxy=lt,qt.capitaliseFirstLetter=ot,qt.getOuterRect=p,qt.getClientRect=f,qt.getContentRect=g,qt.getScrollbarWidths=m;var Zt=null;qt.preventDefault=S,qt.intersectRects=T,qt.parseFieldSpecs=P,qt.compareByFieldSpecs=O,qt.compareByFieldSpec=N,qt.flexibleCompare=L,qt.computeIntervalUnit=F,qt.divideRangeByDuration=j,qt.divideDurationByDuration=V,qt.multiplyDuration=U,qt.durationHasTime=W;var Jt=["sun","mon","tue","wed","thu","fri","sat"],Xt=["year","month","week","day","hour","minute","second","millisecond"];qt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},qt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):qt.log.apply(qt,arguments)};var Qt,te,ee,ne={}.hasOwnProperty,ie=/^\s*\d{4}-\d\d$/,re=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,oe=e.fn,ae=t.extend({},oe);qt.moment=function(){return ct(arguments)},qt.moment.utc=function(){var t=ct(arguments,!0);return t.hasTime()&&t.utc(),t},qt.moment.parseZone=function(){return ct(arguments,!0,!0)},oe.clone=function(){var t=ae.clone.apply(this,arguments);return ht(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},oe.week=oe.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?ae.isoWeek.apply(this,arguments):ae.week.apply(this,arguments)},oe.time=function(t){if(!this._fullCalendar)return ae.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},oe.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),te(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},oe.hasTime=function(){return!this._ambigTime},oe.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),te(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},oe.hasZone=function(){return!this._ambigZone},oe.local=function(){var t=this.toArray(),e=this._ambigZone;return ae.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&ee(this,t),this},oe.utc=function(){return ae.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){ae[e]&&(oe[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),ae[e].apply(this,arguments)})}),oe.format=function(){return this._fullCalendar&&arguments[0]?gt(this,arguments[0]):this._ambigTime?ft(this,"YYYY-MM-DD"):this._ambigZone?ft(this,"YYYY-MM-DD[T]HH:mm:ss"):ae.format.apply(this,arguments)},oe.toISOString=function(){return this._ambigTime?ft(this,"YYYY-MM-DD"):this._ambigZone?ft(this,"YYYY-MM-DD[T]HH:mm:ss"):ae.toISOString.apply(this,arguments)},oe.isWithin=function(t,e){var n=dt([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},oe.isSame=function(t,e){var n;return this._fullCalendar?e?(n=dt([this,t],!0),ae.isSame.call(n[0],n[1],e)):(t=qt.moment.parseZone(t),ae.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):ae.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){oe[e]=function(t,n){var i;return this._fullCalendar?(i=dt([this,t]),ae[e].call(i[0],i[1],n)):ae[e].apply(this,arguments)}}),Qt="_d"in e()&&"updateOffset"in e,te=Qt?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:pt,ee=Qt?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:pt;var se={t:function(t){return ft(t,"a").charAt(0)},T:function(t){return ft(t,"A").charAt(0)}};qt.formatRange=yt;var le={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ue={};qt.Class=kt,kt.extend=function(){var t,e,n=arguments.length;for(t=0;n>t;t++)e=arguments[t],n-1>t&&St(this,e);return xt(this,e||{})},kt.mixin=function(t){St(this,t)};var ce=qt.EmitterMixin={on:function(e,n){var i=function(t,e){return n.apply(e.context||this,e.args||[])};return n.guid||(n.guid=t.guid++),i.guid=n.guid,t(this).on(e,i),this},off:function(e,n){return t(this).off(e,n),this},trigger:function(e){var n=Array.prototype.slice.call(arguments,1);return t(this).triggerHandler(e,{args:n}),this},triggerWith:function(e,n,i){return t(this).triggerHandler(e,{context:n,args:i}),this}},de=qt.ListenerMixin=function(){var e=0,n={listenerId:null,listenTo:function(e,n,i){if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&this.listenTo(e,r,n[r]);else"string"==typeof n&&e.on(n+"."+this.getListenerNamespace(),t.proxy(i,this))},stopListeningTo:function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=e++),"_listener"+this.listenerId}};return n}(),he={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(t){this.delayUnignoreMouse=ut(lt(this,"unignoreMouse"),t||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1;
}},pe=kt.extend(de,{isHidden:!0,options:null,el:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&this.listenTo(t(document),"mousedown",this.documentMousedown)},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(t(document),"mousedown")},position:function(){var e,n,i,r,o,a=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=h(this.el);r=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),a.viewportConstrain!==!1&&(r=Math.min(r,e+d.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+d.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-s.top,left:o-s.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),fe=qt.CoordCache=kt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var t=h(this.els.eq(0));return t.is(document)?void 0:f(t)},buildElHorizontals:function(){var e=[],n=[];this.els.each(function(i,r){var o=t(r),a=o.offset().left,s=o.outerWidth();e.push(a),n.push(a+s)}),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each(function(i,r){var o=t(r),a=o.offset().top,s=o.outerHeight();e.push(a),n.push(a+s)}),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.lefts,r=this.rights,o=i.length;if(!n||t>=n.left&&t<n.right)for(e=0;o>e;e++)if(t>=i[e]&&t<r[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.boundingRect,i=this.tops,r=this.bottoms,o=i.length;if(!n||t>=n.top&&t<n.bottom)for(e=0;o>e;e++)if(t>=i[e]&&t<r[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]}}),ge=qt.DragListener=kt.extend(de,he,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(t){this.options=t||{},this.handleTouchScrollProxy=lt(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(e,n){var i=k(e);if("mousedown"===e.type){if(this.isIgnoringMouse)return;if(!w(e))return;e.preventDefault()}this.isInteracting||(n=n||{},this.delay=et(n.delay,this.options.delay,0),this.minDistance=et(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=i,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=_(e),this.originY=C(e),this.scrollEl=h(t(e.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(e),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))},handleInteractionStart:function(t){this.trigger("interactionStart",t)},endInteraction:function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(t,e){this.trigger("interactionEnd",t,e||!1)},bindHandlers:function(){var e=this,n=1;this.isTouch?(this.listenTo(t(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(t){n?n--:e.endInteraction(t,!0)}}),!$(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(t(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t(document),{selectstart:S,contextmenu:S})},unbindHandlers:function(){this.stopListeningTo(t(document)),D(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},handleDragStart:function(t){this.trigger("dragStart",t),this.initHrefHack()},handleMove:function(t){var e,n=_(t)-this.originX,i=C(t)-this.originY,r=this.minDistance;this.isDistanceSurpassed||(e=n*n+i*i,e>=r*r&&this.handleDistanceSurpassed(t)),this.isDragging&&this.handleDrag(n,i,t)},handleDrag:function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},endDrag:function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},handleDragEnd:function(t){this.trigger("dragEnd",t),this.destroyHrefHack()},startDelay:function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},handleDelayEnd:function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},handleDistanceSurpassed:function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},handleTouchMove:function(t){this.isDragging&&t.preventDefault(),this.handleMove(t)},handleMouseMove:function(t){this.handleMove(t)},handleTouchScroll:function(t){this.isDragging||this.endInteraction(t,!0)},initHrefHack:function(){var t=this.subjectEl;(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},destroyHrefHack:function(){var t=this.subjectEl,e=this.subjectHref;setTimeout(function(){e&&t.attr("href",e)},0)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+t]&&this["_"+t].apply(this,Array.prototype.slice.call(arguments,1))}});ge.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",ut(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=p(this.scrollEl))},updateAutoScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,a=this.scrollBounds,s=0,l=0;a&&(e=(o-(C(t)-a.top))/o,n=(o-(a.bottom-C(t)))/o,i=(o-(_(t)-a.left))/o,r=(o-(a.right-_(t)))/o,e>=0&&1>=e?s=e*this.scrollSpeed*-1:n>=0&&1>=n&&(s=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(lt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var me=ge.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){ge.call(this,e),this.component=t},handleInteractionStart:function(t){var e,n,i,r=this.subjectEl;this.computeCoords(),t?(n={left:_(t),top:C(t)},i=n,r&&(e=p(r),i=E(i,e)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=T(this.origHit,e)||e),i=A(e)),this.coordAdjust=M(i,n)):(this.origHit=null,this.coordAdjust=null),ge.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(t){var e;ge.prototype.handleDragStart.apply(this,arguments),e=this.queryHit(_(t),C(t)),e&&this.handleHitOver(e)},handleDrag:function(t,e,n){var i;ge.prototype.handleDrag.apply(this,arguments),i=this.queryHit(_(n),C(n)),$t(i,this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),ge.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(t){var e=$t(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){ge.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){ge.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ve=kt.extend(de,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.y0=C(e),this.x0=_(e),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),k(e)?this.listenTo(t(document),"touchmove",this.handleMove):this.listenTo(t(document),"mousemove",this.handleMove))},stop:function(e,n){function i(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(t(document)),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),t.addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(t){this.topDelta=C(t)-this.y0,this.leftDelta=_(t)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ye=qt.Grid=kt.extend(de,he,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?H(t,e,this.largeUnit):R(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(t){this.el=t,x(t),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(e,n){var i=this;this.el.on(e,function(e){return t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length?void 0:n.call(i,e)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(t(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},dayMousedown:function(t){this.isIgnoringMouse||this.dayDragListener.startInteraction(t,{})},dayTouchStart:function(t){var e=this.view;(e.isSelected||e.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(t,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var t,e,n=this,i=this.view,r=i.opt("selectable"),o=new me(this,{scroll:i.opt("dragScroll"),interactionStart:function(){t=o.origHit},dragStart:function(){i.unselect()},hitOver:function(i,o,s){s&&(o||(t=null),r&&(e=n.computeSelection(n.getHitSpan(s),n.getHitSpan(i)),e?n.renderSelection(e):e===!1&&a()))},hitOut:function(){t=null,e=null,n.unrenderSelection(),s()},interactionEnd:function(r,o){o||(t&&!n.isIgnoringMouse&&i.triggerDayClick(n.getHitSpan(t),n.getHitEl(t),r),e&&i.reportSelection(e,r),s())}});return o},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);return this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?Y(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return n&&!this.view.calendar.isSelectionSpanAllowed(n)?!1:n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(at),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,o=this[e+"SegEl"],a="",s=[];if(n.length){for(i=0;i<n.length;i++)a+=this.fillSegHtml(e,n[i]);t(a).each(function(e,i){var a=n[e],l=t(i);o&&(l=o.call(r,a,l)),l&&(l=t(l),l.is(r.fillSegTag)&&(a.el=l,s.push(a)))})}return s},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=rt(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),i=["fc-"+Jt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});ye.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)(Tt(t[e])?n:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,o="",a=[];if(e.length){for(i=0;i<e.length;i++)o+=this.fgSegHtml(e[i],n);t(o).each(function(n,i){var o=e[n],s=r.resolveEventEl(o.event,t(i));s&&(s.data("fc-seg",o),o.el=s,a.push(o))})}return a},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart),this.bindSegHandler("touchend",this.handleSegTouchEnd),this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown),this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(e,n){var i=this;this.el.on(e,".fc-event-container > *",function(e){var r=t(this).data("fc-seg");return!r||i.isDraggingSeg||i.isResizingSeg?void 0:n.call(i,r,e)})},handleSegClick:function(t,e){return this.view.trigger("eventClick",t.el[0],t.event,e)},handleSegMouseover:function(t,e){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=t,t.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",t.el[0],t.event,e))},handleSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,t.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",t.el[0],t.event,e))},handleSegMousedown:function(t,e){var n=this.startSegResize(t,e,{distance:5});!n&&this.view.isEventDraggable(t.event)&&this.buildSegDragListener(t).startInteraction(e,{distance:5})},handleSegTouchStart:function(t,e){var n,i=this.view,r=t.event,o=i.isEventSelected(r),a=i.isEventDraggable(r),s=i.isEventResizable(r),l=!1;o&&s&&(l=this.startSegResize(t,e)),l||!a&&!s||(n=a?this.buildSegDragListener(t):this.buildSegSelectListener(t),n.startInteraction(e,{delay:o?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(t,e){this.tempIgnoreMouse()},startSegResize:function(e,n,i){return t(n.target).is(".fc-resizer")?(this.buildSegResizeListener(e,t(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0):!1},buildSegDragListener:function(t){var e,n,i,r=this,o=this.view,l=o.calendar,u=t.el,c=t.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new me(o,{scroll:o.opt("dragScroll"),subjectEl:u,subjectCenter:!0,interactionStart:function(i){e=!1,n=new ve(t.el,{additionalClass:"fc-dragging",parentEl:o.el,opacity:d.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),n.hide(),n.start(i)},dragStart:function(n){d.isTouch&&!o.isEventSelected(c)&&o.selectEvent(c),e=!0,r.handleSegMouseout(t,n),r.segDragStart(t,n),o.hideEvent(c)},hitOver:function(e,s,u){var h;t.hit&&(u=t.hit),i=r.computeEventDrop(u.component.getHitSpan(u),e.component.getHitSpan(e),c),i&&!l.isEventSpanAllowed(r.eventToSpan(i),c)&&(a(),i=null),i&&(h=o.renderDrag(i,t))?(h.addClass("fc-dragging"),d.isTouch||r.applyDragOpacity(h),n.hide()):n.show(),s&&(i=null)},hitOut:function(){o.unrenderDrag(),n.show(),i=null},hitDone:function(){s()},interactionEnd:function(a){n.stop(!i,function(){e&&(o.unrenderDrag(),o.showEvent(c),r.segDragStop(t,a)),i&&o.reportEventDrop(c,i,this.largeUnit,u,a)}),r.segDragListener=null}});return d},buildSegSelectListener:function(t){var e=this,n=this.view,i=t.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new ge({dragStart:function(t){r.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(t){e.segDragListener=null}});return r},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,a=t.start,s=e.start;return a.hasTime()===s.hasTime()?(i=this.diffDates(s,a),n.allDay&&W(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:s.clone(),end:null,allDay:!s.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,o=this.view;o.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=o.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,o=this.view.calendar,l=Ot(t),u=r.externalDragListener=new me(this,{interactionStart:function(){r.isDraggingExternal=!0},hitOver:function(t){i=r.computeExternalDrop(t.component.getHitSpan(t),l),i&&!o.isExternalSpanAllowed(r.eventToSpan(i),i,l.eventProps)&&(a(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){s(),r.unrenderDrag()},interactionEnd:function(e){i&&r.view.reportExternalDrop(l,i,t,e,n),r.isDraggingExternal=!1,r.externalDragListener=null}});u.startDrag(e)},computeExternalDrop:function(t,e){var n=this.view.calendar,i={start:n.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(t,e){},unrenderDrag:function(){},buildSegResizeListener:function(t,e){var n,i,r=this,o=this.view,l=o.calendar,u=t.el,c=t.event,d=l.getEventEnd(c),h=this.segResizeListener=new me(this,{scroll:o.opt("dragScroll"),subjectEl:u,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.handleSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,s,u){var h=r.getHitSpan(u),p=r.getHitSpan(n);i=e?r.computeEventStartResize(h,p,c):r.computeEventEndResize(h,p,c),i&&(l.isEventSpanAllowed(r.eventToSpan(i),c)?i.start.isSame(c.start)&&i.end.isSame(d)&&(i=null):(a(),i=null)),i&&(o.hideEvent(c),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),o.showEvent(c),s()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&o.reportEventResize(c,i,this.largeUnit,u,e),r.segResizeListener=null}});return h},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,a=this.view.calendar,s=this.diffDates(n[t],e[t]);return r={start:i.start.clone(),end:a.getEventEnd(i),allDay:i.allDay},r.allDay&&W(s)&&(r.allDay=!1,a.normalizeEventTimes(r)),r[t].add(s),r.start.isBefore(r.end)||(o=this.minResizeDuration||(i.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=this.view,r=t.event,o=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return e&&o.push("fc-draggable"),n&&o.push("fc-resizable"),i.isEventSelected(r)&&o.push("fc-selected"),o},getSegSkinCss:function(t){var e=t.event,n=this.view,i=e.source||{},r=e.color,o=i.color,a=n.opt("eventColor");return{"background-color":e.backgroundColor||r||i.backgroundColor||o||n.opt("eventBackgroundColor")||a,"border-color":e.borderColor||r||i.borderColor||o||n.opt("eventBorderColor")||a,color:e.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var i=this,r=Mt(e),o=[];return t.each(r,function(t,e){var r,a=[];for(r=0;r<e.length;r++)a.push(i.eventToRange(e[r]));if(Et(e[0]))for(a=i.invertRanges(a),r=0;r<a.length;r++)o.push.apply(o,i.eventRangeToSegs(a[r],e[0],n));else for(r=0;r<a.length;r++)o.push.apply(o,i.eventRangeToSegs(a[r],e[r],n))}),o},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,n){var i,r=this.eventRangeToSpans(t,e),o=[];for(i=0;i<r.length;i++)o.push.apply(o,this.eventSpanToSegs(r[i],e,n));return o},eventRangeToSpans:function(e,n){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var i,r,o=n?n(t):this.spanToSegs(t);for(i=0;i<o.length;i++)r=o[i],r.event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return o},invertRanges:function(t){var e,n,i=this.view,r=i.start.clone(),o=i.end.clone(),a=[],s=r;for(t.sort(Pt),e=0;e<t.length;e++)n=t[e],n.start>s&&a.push({start:s,end:n.start}),s=n.end;return o>s&&a.push({start:s,end:o}),a},sortEventSegs:function(t){t.sort(lt(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||O(t.event,e.event,this.view.eventOrderSpecs)}}),qt.isBgEvent=Tt,qt.dataAttrPrefix="";var be=qt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,i=this.view,r=this.start.clone(),o=-1,a=[],s=[];r.isBefore(this.end);)i.isHiddenDay(r)?a.push(o+.5):(o++,a.push(o),s.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=s[0].day(),t=1;t<s.length&&s[t].day()!=e;t++);n=Math.ceil(s.length/t)}else n=1,t=s.length;this.dayDates=s,this.dayIndices=a,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,i,r,o,a=this.daysPerRow,s=this.view.computeDayRange(t),l=this.getDateDayIndex(s.start),u=this.getDateDayIndex(s.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)n=e*a,i=n+a-1,r=Math.max(l,n),o=Math.min(u,i),r=Math.ceil(r),o=Math.floor(o),o>=r&&c.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===u});return c},sliceRangeByDay:function(t){var e,n,i,r,o,a,s=this.daysPerRow,l=this.view.computeDayRange(t),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(n=e*s,i=n+s-1,r=n;i>=r;r++)o=Math.max(u,r),a=Math.min(c,r),o=Math.ceil(o),a=Math.floor(a),a>=o&&d.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:a-n,isStart:o===u,isEnd:a===c});return d},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Jt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+nt(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>";
},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(t,e){var n=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},we=qt.DayGrid=ye.extend(be,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,i=this.view,r=this.rowCnt,o=this.colCnt,a="";for(e=0;r>e;e++)a+=this.renderDayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new fe({els:this.rowEls,isVertical:!0}),this.colCoordCache=new fe({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;r>e;e++)for(n=0;o>n;n++)i.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},renderDayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);return null!=i&&null!=n?this.getCellHit(i,n):void 0},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){return this.renderHighlight(this.eventToSpan(t)),e&&!e.el.closest(this.el).length?this.renderEventLocationHelper(t,e):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,r=[],o=this.eventToSegs(e);return o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(e,o){var a,s=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');a=n&&n.row===e?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",a).find("table").append(i[e].tbodyEl),s.append(l),r.push(l[0])}),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,o,a,s=[];for(n=this.renderFillSegEls(e,n),r=0;r<n.length;r++)o=n[r],a=this.renderFillRow(e,o,i),this.rowEls.eq(o.row).append(a),s.push(a[0]);return this.elsByFill[e]=t(s),n},renderFillRow:function(e,n,i){var r,o,a=this.colCnt,s=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),o=r.find("tr"),s>0&&o.append('<td colspan="'+s+'"/>'),o.append(n.el.attr("colspan",l-s)),a>l&&o.append('<td colspan="'+(a-l)+'"/>'),this.bookendCells(o),r}});we.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ye.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ye.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return ye.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,a=r.isEventDraggable(o),s=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),u=this.getSegClasses(t,a,s||l),c=rt(this.getSegSkinCss(t)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(o),n&&(d='<span class="fc-time">'+nt(n)+"</span>")),i='<span class="fc-title">'+(nt(o.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(o.url?' href="'+nt(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>a;)c=(v[r-1]||[])[a],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),s.append(c)),m[r][a]=c,v[r][a]=c,a++}var r,o,a,s,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),p=Math.max(1,h.length),f=t("<tbody/>"),g=[],m=[],v=[];for(r=0;p>r;r++){if(o=h[r],a=0,s=t("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(u=o[l],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[r][a]=c;a<=u.rightCol;)m[r][a]=c,g[r][a]=u,a++;s.append(c)}i(d),this.bookendCells(s),f.append(s)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Nt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Lt);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),we.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){o=Math.max(o,t(n).outerHeight())}var i,r,o,a=this.rowEls.eq(e),s=a.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;i<l.length;i++)if(r=l.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>s)return i;return!1},limitRow:function(e,n){function i(i){for(;i>C;)u=b.getCellSegs(e,C,n),u.length&&(h=o[n-1][C],y=b.renderMoreLink(e,C,u),v=t("<div/>").append(y),h.append(v),_.push(v[0])),C++}var r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b=this,w=this.rowStructs[e],_=[],C=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],o=w.cellMatrix,a=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),s=0;s<r.length;s++){for(l=r[s],i(l.leftCol),d=[],c=0;C<=l.rightCol;)u=this.getCellSegs(e,C,n),d.push(u),c+=u.length,C++;if(c){for(h=o[n-1][l.leftCol],p=h.attr("rowspan")||1,f=[],g=0;g<d.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(u)),v=t("<div/>").append(y),m.append(v),f.push(m[0]),_.push(m[0]);h.addClass("fc-limited").after(t(f)),a.push(h[0])}}i(this.colCnt),w.moreEls=t(_),w.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,i){var r=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(a){var s=o.opt("eventLimitClick"),l=r.getCellDate(e,n),u=t(this),c=r.getCellEl(e,n),d=r.getCellSegs(e,n),h=r.resliceDaySegs(d,l),p=r.resliceDaySegs(i,l);"function"==typeof s&&(s=o.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:h,hiddenSegs:p},a)),"popover"===s?r.showSegPopover(e,n,u,h):"string"==typeof s&&o.calendar.zoomTo(l,s)})},showSegPopover:function(t,e,n,i){var r,o,a=this,s=this.view,l=n.parent();r=1==this.rowCnt?s.el:this.rowEls.eq(t),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){a.segPopover.removeElement(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new pe(o),this.segPopover.show()},renderSegPopoverContent:function(e,n,i){var r,o=this.view,a=o.opt("theme"),s=this.getCellDate(e,n).format(o.opt("dayPopoverFormat")),l=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(a?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+nt(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,n),this.releaseHits(),u.append(i[r].el);return l},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone(),o=r.clone().add(1,"days"),a={start:r,end:o};return e=this.eventsToSegs(i,function(t){var e=I(t,a);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var i,r=this.rowStructs[t].segMatrix,o=n||0,a=[];o<r.length;)i=r[o][e],i&&a.push(i),o++;return a}});var _e=qt.TimeGrid=ye.extend(be,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ye.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new fe({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new fe({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,i,r=this.view,o=this.isRTL,a="",s=e.duration(+this.minTime);s<this.maxTime;)t=this.start.clone().time(s),n=st(V(s,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+nt(t.format(this.labelFormat))+"</span>":"")+"</td>",a+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",s.add(this.slotDuration);return a},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),o=i.opt("snapDuration");r=e.duration(r),o=o?e.duration(o):r,this.slotDuration=r,this.snapDuration=o,this.snapsPerSlot=r/o,this.minResizeDuration=o,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(t){var n,i,r;for(n=Be.length-1;n>=0;n--)if(i=e.duration(Be[n]),r=V(i,t),st(r)&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,o=i.getHorizontalIndex(t),a=r.getVerticalIndex(e);if(null!=o&&null!=a){var s=r.getTopOffset(a),l=r.getHeight(a),u=(e-s)/l,c=Math.floor(u*n),d=a*n+c,h=s+c/n*l,p=s+(c+1)/n*l;return{col:o,snap:d,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:h,bottom:p}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,i,r,o=[];for(n=0;n<this.daysPerRow;n++)i=this.dayDates[n].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=I(t,r),e&&(e.dayIndex=n,o.push(e));return o},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),e=Math.min(e,i-1),n=r-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){return e?this.renderEventLocationHelper(t,e):void this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){return this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){return this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(),e=this.eventsToSegs(t);this.renderBusinessSegs(e)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),o=[];for(n=0;n<i.length;n++)o.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&o.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});_e.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,n){var i,r,o,a=[];for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),i=0;i<e.length;i++)r=e[i],n&&n.col===r.col&&(o=n.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),a.push(r.el[0]);return this.helperSegs=e,t(a)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,i;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,i,r,o=this.view,a=t.event,s=o.isEventDraggable(a),l=!e&&t.isStart&&o.isEventResizableFromStart(a),u=!e&&t.isEnd&&o.isEventResizableFromEnd(a),c=this.getSegClasses(t,s,l||u),d=rt(this.getSegSkinCss(t));return c.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(a),i=this.getEventTimeText(a,"LT"),r=this.getEventTimeText(a,null,!1)),'<a class="'+c.join(" ")+'"'+(a.url?' href="'+nt(a.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+nt(r)+'" data-full="'+nt(i)+'"><span>'+nt(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+nt(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,i;if(this.sortEventSegs(t),e=It(t),Rt(e),n=e[0]){for(i=0;i<n.length;i++)Bt(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(lt(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,a=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),a.zIndex=t.level+1,a.left=100*e+"%",a.right=100*n+"%",i&&t.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a}});var Ce=qt.View=kt.extend(ce,de,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=P(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=F(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),yt(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var n=this,i=null;return this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return n.displaying=t.when(n.displayView(e)).then(function(){n.forceScroll(n.computeInitialScroll(i)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?n.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(t(document),"mousedown",this.handleDocumentMousedown),this.listenTo(t(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(n=lt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeInitialScroll:function(t){return 0},queryScroll:function(){},setScroll:function(t){},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return et(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,a=o.mutateEvent(t,e,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventDrop(t,a.dateDelta,s,i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,o){var a,s,l=e.eventProps;l&&(a=t.extend({},l,n),s=this.calendar.renderEvent(a,e.stick)[0]),this.triggerExternalDrop(s,n,i,r,o)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return et(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,a=o.mutateEvent(t,e,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventResize(t,a.durationDelta,s,i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},selectEvent:function(t){this.selectedEvent&&this.selectedEvent===t||(this.unselectEvent(),this.renderedEventSegEach(function(t){t.el.addClass("fc-selected")},t),this.selectedEvent=t)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(t){t.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(t){return this.selectedEvent&&this.selectedEvent._id===t._id},handleDocumentMousedown:function(t){
w(t)&&this.processUnselect(t)},processUnselect:function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},processRangeUnselect:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},processEventUnselect:function(e){this.selectedEvent&&(t(e.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ke=qt.Scroller=kt.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(t){t=t||{},this.overflowX=t.overflowX||t.overflow||"auto",this.overflowY=t.overflowY||t.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=t('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},setHeight:function(t){this.scrollEl.height(t)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(t){this.scrollEl.scrollTop(t)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return m(this.scrollEl)}}),xe=qt.Calendar=kt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:zt,initialize:function(){},initOptions:function(t){var e,r,o,a;t=i(t),e=t.lang,r=Se[e],r||(e=xe.defaults.lang,r=Se[e]||{}),o=et(t.isRTL,r.isRTL,xe.defaults.isRTL),a=o?xe.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=r,this.overrides=t,this.options=n([xe.defaults,a,r,t]),jt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,Xt))for(n=this.header.getViewsWithButtons(),t.each(qt.views,function(t){n.push(t)}),i=0;i<n.length;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,o,a,s=this.overrides.views||{},l=[],u=[],c=[],d=t;d;)i=Kt[d],r=s[d],d=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),u.unshift(i.defaults||{}),o=o||i.duration,d=d||i.type),r&&(c.unshift(r),o=o||r.duration,d=d||r.type);return i=K(l),i.type=t,i["class"]?(o&&(o=e.duration(o),o.valueOf()&&(i.duration=o,a=F(o),1===o.as(a)&&(i.singleUnit=a,c.unshift(s[a]||{})))),i.defaults=n(u),i.overrides=n(c),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i):!1},buildViewSpecOptions:function(t){t.options=n([xe.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),jt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(xe.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});xe.mixin(ce),xe.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3},xe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},xe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Se=qt.langs={};qt.datepickerLang=function(e,n,i){var r=Se[e]||(Se[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each($e,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},qt.lang=function(e,i){var r,o;r=Se[e]||(Se[e]={}),i&&(r=Se[e]=n([r,i])),o=Vt(e),t.each(De,function(t,e){null==r[t]&&(r[t]=e(o,r))}),xe.defaults.lang=e};var $e={buttonText:function(t){return{prev:it(t.prevText),next:it(t.nextText),today:it(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},De={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Te={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};qt.lang("en",xe.englishDefaults),qt.sourceNormalizers=[],qt.sourceFetchers=[];var Ee={dataType:"json",cache:!1},Ae=1;xe.prototype.normalizeEvent=function(t){},xe.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),o=[];for(n=0;n<r.length;n++)i=r[n],e&&e._id===i._id||o.push(i);return o};var Me=qt.BasicView=Ce.extend({scroller:null,dayGridClass:we,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new ke({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Pe);return new t(this)},setRange:function(t){Ce.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Ce.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-day-grid-container"),n=t('<div class="fc-day-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i,a=this.opt("eventLimit");this.scroller.clear(),o(this.headRowEl),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),e||(this.scroller.setHeight(n),i=this.scroller.getScrollbarWidths(),(i.left||i.right)&&(r(this.headRowEl,i),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(t){return t-d(this.el,this.scroller.el)},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Pe={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+nt(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Oe=qt.MonthView=Me.extend({computeRange:function(t){var e,n=Me.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Kt.basic={"class":Me},Kt.basicDay={type:"basic",duration:{days:1}},Kt.basicWeek={type:"basic",duration:{weeks:1}},Kt.month={"class":Oe,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ne=qt.AgendaView=Ce.extend({scroller:null,timeGridClass:_e,timeGrid:null,dayGridClass:we,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new ke({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(Le);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Ie);return new t(this)},setRange:function(t){Ce.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-time-grid-container"),n=t('<div class="fc-time-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),Ce.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i,a;this.bottomRuleEl.hide(),this.scroller.clear(),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Re),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i),a=this.scroller.getScrollbarWidths(),(a.left||a.right)&&(r(this.noScrollRowEls,a),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(a),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(t){return t-d(this.el,this.scroller.el)},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n,i=[],r=[],o=[];for(n=0;n<t.length;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(o=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Le={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+nt(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Ie={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||nt(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Re=5,Be=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Kt.agenda={"class":Ne,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Kt.agendaDay={type:"agenda",duration:{days:1}},Kt.agendaWeek={type:"agenda",duration:{weeks:1}},qt}),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(t,e){var n=t.eventSources,i=t.calendarWatchEvent?t.calendarWatchEvent:angular.noop,r=function(e){return function(){if(t.$root.$$phase)return e.apply(this,arguments);var n=arguments,i=this;return t.$root.$apply(function(){return e.apply(i,n)})}},o=1;this.eventFingerprint=function(t){t._id||(t._id=o++);var e=i({event:t})||"",n=moment.isMoment(t.start)?t.start.unix():t.start?moment(t.start).unix():"",r=moment.isMoment(t.end)?t.end.unix():t.end?moment(t.end).unix():"";return[t._id,t.id||"",t.title||"",t.url||"",n,r,t.allDay||"",t.className||"",e].join("")};var a=1,s=1;this.sourceFingerprint=function(t){var e=""+(t.__id||(t.__id=a++)),n=angular.isObject(t)&&t.events;return n&&(e=e+"-"+(n.__id||(n.__id=s++))),e},this.allEvents=function(){return Array.prototype.concat.apply([],(n||[]).reduce(function(t,e){if(angular.isArray(e))t.push(e);else if(angular.isObject(e)&&angular.isArray(e.events)){var n=Object.keys(e).filter(function(t){return"_id"!==t&&"events"!==t});e.events.forEach(function(t){angular.extend(t,n)}),t.push(e.events)}return t},[]))},this.changeWatcher=function(t,e){var n,i=function(){return((angular.isFunction(t)?t():t)||[]).reduce(function(t,n){var i=e(n);return o[i]=n,t.push(i),t},[])},r=function(t,e){var n=(e||[]).reduce(function(t,e){return t[e]=!0,t},Object.create(null));return(t||[]).filter(function(t){return!n[t]})},o={},a=function(t,i){var a,s,l={},u=r(i,t);for(a=0;a<u.length;a++){var c=u[a],d=o[c];delete o[c];var h=e(d);h===c?n.onRemoved(d):(l[h]=c,n.onChanged(d))}var p=r(t,i);for(a=0;a<p.length;a++)s=p[a],l[s]||n.onAdded(o[s])};return n={subscribe:function(t,e){t.$watch(i,function(t,n){var i=!(e&&e(t,n)===!1);i&&a(t,n)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(t,e){var n={};return angular.extend(n,e),angular.extend(n,t),angular.forEach(n,function(t,e){"function"==typeof t&&(n[e]=r(n[e]))}),n},this.getLocaleConfig=function(t){if(!t.lang||t.useNgLocale){var n=function(t){return(Object.keys(t)||[]).reduce(function(e,n){return e.push(t[n]),e},[])},i=e.DATETIME_FORMATS;return{monthNames:n(i.MONTH),monthNamesShort:n(i.SHORTMONTH),dayNames:n(i.DAY),dayNamesShort:n(i.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(t){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(e,n,i,r){function o(){var n=i.uiCalendar?e.$parent.$eval(i.uiCalendar):{},o=r.getFullCalendarConfig(n,t),a=r.getLocaleConfig(o);angular.extend(a,o),d={eventSources:s},angular.extend(d,a),d.calendars=null;var l={};for(var u in d)"eventSources"!==u&&(l[u]=d[u]);return JSON.stringify(l)}var a,s=e.eventSources,l=!1,u=r.changeWatcher(s,r.sourceFingerprint),c=r.changeWatcher(r.allEvents,r.eventFingerprint),d=null;e.destroyCalendar=function(){a&&a.fullCalendar&&a.fullCalendar("destroy"),a=i.calendar?t.calendars[i.calendar]=angular.element(n).html(""):angular.element(n).html("")},e.initCalendar=function(){a||(a=angular.element(n).html("")),a.fullCalendar(d),i.calendar&&(t.calendars[i.calendar]=a)},e.$on("$destroy",function(){e.destroyCalendar()}),u.onAdded=function(e){a&&a.fullCalendar&&(a.fullCalendar(d),i.calendar&&(t.calendars[i.calendar]=a),a.fullCalendar("addEventSource",e),l=!0)},u.onRemoved=function(t){a&&a.fullCalendar&&(a.fullCalendar("removeEventSource",t),l=!0)},u.onChanged=function(){a&&a.fullCalendar&&(a.fullCalendar("refetchEvents"),l=!0)},c.onAdded=function(t){a&&a.fullCalendar&&a.fullCalendar("renderEvent",t,!!t.stick)},c.onRemoved=function(t){a&&a.fullCalendar&&a.fullCalendar("removeEvents",t._id)},c.onChanged=function(t){if(a&&a.fullCalendar)for(var e=a.fullCalendar("clientEvents",t._id),n=0;n<e.length;n++){var i=e[n];i=angular.extend(i,t),a.fullCalendar("updateEvent",i)}},u.subscribe(e),c.subscribe(e,function(){return l===!0?(l=!1,!1):void 0}),e.$watch(o,function(t,n){t!==n?(e.destroyCalendar(),e.initCalendar()):t&&angular.isUndefined(a)&&e.initCalendar()})}}}]),function(){var t,e,n,i=[].slice;return t="undefined"!=typeof module&&null!==module&&null!=module.exports&&"function"==typeof require,e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(t){var n;if(null==t)throw new Error("Can't find moment");return n=function(){function n(e,n,i,r){var o;null==r&&(r={}),"string"!=typeof i&&(r=null!=i?i:{},i=null),"boolean"==typeof r&&(r={allDay:r}),this._oStart=t(e,i,r.parseStrict),this._oEnd=t(n,i,r.parseStrict),this.allDay=null!=(o=r.allDay)?o:!1,this._mutated()}return n._extend=function(){var t,e,n,r,o,a;for(e=arguments[0],a=2<=arguments.length?i.call(arguments,1):[],n=0,r=a.length;r>n;n++){o=a[n];for(t in o)"undefined"!=typeof o[t]&&(e[t]=o[t])}return e},n.prototype.start=function(){return this._start.clone()},n.prototype.end=function(){return this._end.clone()},n.prototype.isSame=function(t){return this._start.isSame(this._end,t)},n.prototype.length=function(t,e){return null==e&&(e=!1),this._displayEnd.diff(this._start,t,e)},n.prototype.count=function(t){var e,n;return n=this.start().startOf(t),e=this.end().startOf(t),e.diff(n,t)+1},n.prototype.countInner=function(t){var e,n,i;return n=this._inner(t),i=n[0],e=n[1],i>=e?0:e.diff(i,t)},n.prototype.iterate=function(t,e,n){var i,r,o,a;return o=this._prepIterateInputs(t,e,n),t=o[0],e=o[1],n=o[2],a=this.start().startOf(e),i=this.end().startOf(e),this.allDay&&(i=i.add(1,"d")),r=function(t){return function(){return!t.allDay&&i>=a&&(!n||!a.isSame(i)||t._end.hours()>n)||t.allDay&&i>a}}(this),this._iterateHelper(e,a,r,t)},n.prototype.iterateInner=function(t,e){var n,i,r,o,a;return r=this._prepIterateInputs(t,e),t=r[0],e=r[1],o=this._inner(e,t),a=o[0],n=o[1],i=function(){return n>a},this._iterateHelper(e,a,i,t)},n.prototype.humanizeLength=function(){return this.allDay?this.isSame("d")?"all day":this._start.from(this.end().add(1,"d"),!0):this._start.from(this._end,!0)},n.prototype.asDuration=function(e){var n;return n=this._end.diff(this._start),t.duration(n)},n.prototype.isPast=function(){return this._lastMilli<t()},n.prototype.isFuture=function(){return this._start>t()},n.prototype.isCurrent=function(){return!this.isPast()&&!this.isFuture()},n.prototype.contains=function(e){return t.isMoment(e)||(e=t(e)),this._start<=e&&this._lastMilli>=e},n.prototype.isEmpty=function(){return this._start.isSame(this._displayEnd)},n.prototype.overlaps=function(t){return this._displayEnd.isAfter(t._start)&&this._start.isBefore(t._displayEnd)},n.prototype.engulfs=function(t){return this._start<=t._start&&this._displayEnd>=t._displayEnd},n.prototype.union=function(t){var e,i,r;return e=this.allDay&&t.allDay,r=this._start<t._start?this._start:t._start,i=this._lastMilli>t._lastMilli?e?this._end:this._displayEnd:e?t._end:t._displayEnd,new n(r,i,e)},n.prototype.intersection=function(t){var e,i,r;return e=this.allDay&&t.allDay,r=this._start>t._start?this._start:t._start,i=this._lastMilli<t._lastMilli?e?this._end:this._displayEnd:e?t._end:t._displayEnd,new n(r,i,e)},n.prototype.xor=function(){var t,e,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b;for(g=1<=arguments.length?i.call(arguments,0):[],p=0,y=null,v=[],t=function(){var t,e,n;for(n=[],t=0,e=g.length;e>t;t++)h=g[t],h.allDay&&n.push(h);return n}().length===g.length,e=[],m=[this].concat(g),o=s=0,c=m.length;c>s;o=++s)a=m[o],e.push({time:a._start,i:o,type:0}),e.push({time:a._displayEnd,i:o,type:1});for(e=e.sort(function(t,e){return t.time-e.time}),l=0,d=e.length;d>l;l++)f=e[l],1===f.type&&(p-=1),p===f.type&&(y=f.time),p===(f.type+1)%2&&(y&&(u=v[v.length-1],u&&u._end.isSame(y)?(u._oEnd=f.time,u._mutated()):(r=t?f.time.clone().subtract(1,"d"):f.time,b=new n(y,r,t),b.isEmpty()||v.push(b))),y=null),0===f.type&&(p+=1);return v},n.prototype.difference=function(){var t,e,n,r,o,a;for(n=1<=arguments.length?i.call(arguments,0):[],r=this.xor.apply(this,n).map(function(t){return function(e){return t.intersection(e)}}(this)),o=[],t=0,e=r.length;e>t;t++)a=r[t],!a.isEmpty()&&a.isValid()&&o.push(a);return o},n.prototype.split=function(){var n,r,o,a,s,l,u,c,d,h;if(n=1<=arguments.length?i.call(arguments,0):[],o=u=this.start(),t.isDuration(n[0])?r=n[0]:!t.isMoment(n[0])&&!e(n[0])&&"object"==typeof n[0]||"number"==typeof n[0]&&"string"==typeof n[1]?r=t.duration(n[0],n[1]):d=e(n[0])?n[0]:n,d&&(d=function(){var e,n,i;for(i=[],e=0,n=d.length;n>e;e++)c=d[e],i.push(t(c));return i}(),d=function(){var t,e,n;for(n=[],t=0,e=d.length;e>t;t++)l=d[t],l.isValid()&&l>=u&&n.push(l);return n}().sort(function(t,e){return t.valueOf()-e.valueOf()})),r&&0===r.asMilliseconds()||d&&0===d.length)return[this];for(h=[],s=0,a=this._displayEnd;a>u&&(null==d||d[s]);)o=r?u.clone().add(r):d[s].clone(),o=t.min(a,o),u.isSame(o)||h.push(t.twix(u,o)),u=o,s+=1;return!o.isSame(this._displayEnd)&&d&&h.push(t.twix(o,this._displayEnd)),h},n.prototype.divide=function(t){return this.split(this.length()/t,"ms").slice(0,+(t-1)+1||9e9)},n.prototype.isValid=function(){return this._start.isValid()&&this._end.isValid()&&this._start<=this._displayEnd},n.prototype.equals=function(t){return t instanceof n&&this.allDay===t.allDay&&this._start.valueOf()===t._start.valueOf()&&this._end.valueOf()===t._end.valueOf()},n.prototype.toString=function(){return"{start: "+this._start.format()+", end: "+this._end.format()+", allDay: "+(this.allDay?"true":"false")+"}"},n.prototype.toArray=function(t,e,n){var i,r;for(i=this.iterate(t,e,n),r=[];i.hasNext();)r.push(i.next());return r},n.prototype.simpleFormat=function(t,e){var i,r;return i={allDay:"(all day)",template:n.formatTemplate},n._extend(i,e||{}),r=i.template(this._start.format(t),this._end.format(t)),this.allDay&&i.allDay&&(r+=" "+i.allDay),r},n.prototype.format=function(e){var i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_;if(this.isEmpty())return"";for(g=this._start.localeData()._longDateFormat.LT[0],y={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDayOfWeek:!1,hideTime:!1,hideYear:!1,implicitMinutes:!0,implicitDate:!1,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:g,minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0,template:n.formatTemplate},n._extend(y,e||{}),u=[],v=y.hourFormat&&"h"===y.hourFormat[0],f=this._start.localeData()._longDateFormat.L,i=f.indexOf("M")<f.indexOf("D"),d=y.lastNightEndsAt>0&&!this.allDay&&this.end().startOf("d").valueOf()===this.start().add(1,"d").startOf("d").valueOf()&&this._start.hours()>12&&this._end.hours()<y.lastNightEndsAt,m=!(y.hideDate||y.implicitDate&&this.start().startOf("d").valueOf()===t().startOf("d").valueOf()&&(this.isSame("d")||d)),r=!(this.allDay||y.hideTime),this.allDay&&this.isSame("d")&&(y.implicitDate||y.explicitAllDay)&&u.push({name:"all day simple",fn:function(){return y.allDay},pre:" ",slot:0}),!m||y.hideYear||y.implicitYear&&this._start.year()===t().year()&&this.isSame("y")||u.push({name:"year",fn:function(t){return t.format(y.yearFormat)},pre:i?", ":" ",slot:4}),r&&m&&u.push({name:"month-date",fn:function(t){var e;return e=i?y.monthFormat+" "+y.dayFormat:y.dayFormat+" "+y.monthFormat,t.format(e)},ignoreEnd:function(){return d},pre:" ",slot:2}),!r&&m&&u.push({name:"month",fn:function(t){return t.format(y.monthFormat)},pre:" ",slot:i?2:3}),!r&&m&&u.push({name:"date",fn:function(t){return t.format(y.dayFormat)},pre:" ",slot:i?3:2}),m&&y.showDayOfWeek&&u.push({name:"day of week",fn:function(t){return t.format(y.weekdayFormat)},pre:" ",slot:1}),y.groupMeridiems&&v&&!this.allDay&&!y.hideTime&&u.push({name:"meridiem",fn:function(t){return t.format(y.meridiemFormat)},slot:6,pre:y.spaceBeforeMeridiem?" ":""}),this.allDay||y.hideTime||u.push({name:"time",fn:function(t){var e;return e=0===t.minutes()&&y.implicitMinutes&&v?t.format(y.hourFormat):t.format(y.hourFormat+":"+y.minuteFormat),!y.groupMeridiems&&v&&(y.spaceBeforeMeridiem&&(e+=" "),e+=t.format(y.meridiemFormat)),e},slot:5,pre:", "}),w=[],a=[],o=[],_=!0,b=function(t){return function(e){var n,i,r;return r=e.fn(t._start),n=e.ignoreEnd&&e.ignoreEnd()?r:e.fn(t._end),i={format:e,value:function(){return r}},n===r&&_?o.push(i):(_&&(_=!1,o.push({format:{slot:e.slot,pre:""},value:function(){return y.template(s(w),s(a,!0).trim())}})),w.push(i),a.push({format:e,value:function(){return n}}))}}(this),h=0,p=u.length;p>h;h++)l=u[h],b(l);return c=!0,(s=function(t,e){var n,i,r,o,a,s;for(r=!0,s="",o=t.sort(function(t,e){return t.format.slot-e.format.slot}),n=0,i=o.length;i>n;n++)a=o[n],c||(s+=r&&e?" ":a.format.pre),s+=a.value(),c=!1,r=!1;return s})(o)},n.prototype._iterateHelper=function(t,e,n,i){return{next:function(){var r;return n()?(r=e.clone(),e.add(i,t),
r):null},hasNext:n}},n.prototype._prepIterateInputs=function(){var e,n,r,o,a,s;return e=1<=arguments.length?i.call(arguments,0):[],"number"==typeof e[0]?e:("string"==typeof e[0]&&(o=e.shift(),n=null!=(a=e.pop())?a:1,e.length&&(r=null!=(s=e[0])?s:!1)),t.isDuration(e[0])&&(o="ms",n=e[0].as(o)),[n,o,r])},n.prototype._inner=function(t,e){var n,i,r,o,a;return null==t&&(t="ms"),null==e&&(e=1),a=this.start(),r=this._displayEnd.clone(),a>a.clone().startOf(t)&&a.startOf(t).add(e,t),r<r.clone().endOf(t)&&r.startOf(t),i=a.twix(r).asDuration(t),n=i.get(t),o=n%e,r.subtract(o,t),[a,r]},n.prototype._mutated=function(){return this._start=this.allDay?this._oStart.clone().startOf("d"):this._oStart,this._lastMilli=this.allDay?this._oEnd.clone().endOf("d"):this._oEnd,this._end=this.allDay?this._oEnd.clone().startOf("d"):this._oEnd,this._displayEnd=this.allDay?this._end.clone().add(1,"d"):this._end},n}(),n._extend(t.locale(),{_twix:n.defaults}),n.formatTemplate=function(t,e){return t+" - "+e},t.twix=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(n,arguments,function(){})},t.fn.twix=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(n,[this].concat(i.call(arguments)),function(){})},t.fn.forDuration=function(t,e){return new n(this,this.clone().add(t),e)},t.duration.fn&&(t.duration.fn.afterMoment=function(e,i){return new n(e,t(e).clone().add(this),i)},t.duration.fn.beforeMoment=function(e,i){return new n(t(e).clone().subtract(this),e,i)}),t.twixClass=n,n},t?module.exports=n(require("moment")):("function"==typeof define&&define("twix",["moment"],function(t){return n(t)}),void(this.moment?this.Twix=n(this.moment):"undefined"!=typeof moment&&null!==moment&&(this.Twix=n(moment))))}.call(this),angular.module("ngCountryStateSelect",[]).factory("src",function(){return{countries:new Array("Afghanistan","Albania","Algeria","American Samoa","Angola","Anguilla","Antartica","Antigua and Barbuda","Argentina","Armenia","Aruba","Ashmore and Cartier Island","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Clipperton Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo, Democratic Republic of the","Congo, Republic of the","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czeck Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Europa Island","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Gaza Strip","Georgia","Germany","Ghana","Gibraltar","Glorioso Islands","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Howland Island","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Ireland, Northern","Israel","Italy","Jamaica","Jan Mayen","Japan","Jarvis Island","Jersey","Johnston Atoll","Jordan","Juan de Nova Island","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia, Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Man, Isle of","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Midway Islands","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcaim Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romainia","Russia","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Scotland","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","Spain","Spratly Islands","Sri Lanka","Sudan","Suriname","Svalbard","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Tobago","Toga","Tokelau","Tonga","Trinidad","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","USA","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands","Wales","Wallis and Futuna","West Bank","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"),states:new Array,init:function(){var t=new Array;t[0]="",t[1]="Badakhshan|Badghis|Baghlan|Balkh|Bamian|Farah|Faryab|Ghazni|Ghowr|Helmand|Herat|Jowzjan|Kabol|Kandahar|Kapisa|Konar|Kondoz|Laghman|Lowgar|Nangarhar|Nimruz|Oruzgan|Paktia|Paktika|Parvan|Samangan|Sar-e Pol|Takhar|Vardak|Zabol",t[2]="Berat|Bulqize|Delvine|Devoll (Bilisht)|Diber (Peshkopi)|Durres|Elbasan|Fier|Gjirokaster|Gramsh|Has (Krume)|Kavaje|Kolonje (Erseke)|Korce|Kruje|Kucove|Kukes|Kurbin|Lezhe|Librazhd|Lushnje|Malesi e Madhe (Koplik)|Mallakaster (Ballsh)|Mat (Burrel)|Mirdite (Rreshen)|Peqin|Permet|Pogradec|Puke|Sarande|Shkoder|Skrapar (Corovode)|Tepelene|Tirane (Tirana)|Tirane (Tirana)|Tropoje (Bajram Curri)|Vlore",t[3]="Adrar|Ain Defla|Ain Temouchent|Alger|Annaba|Batna|Bechar|Bejaia|Biskra|Blida|Bordj Bou Arreridj|Bouira|Boumerdes|Chlef|Constantine|Djelfa|El Bayadh|El Oued|El Tarf|Ghardaia|Guelma|Illizi|Jijel|Khenchela|Laghouat|M'Sila|Mascara|Medea|Mila|Mostaganem|Naama|Oran|Ouargla|Oum el Bouaghi|Relizane|Saida|Setif|Sidi Bel Abbes|Skikda|Souk Ahras|Tamanghasset|Tebessa|Tiaret|Tindouf|Tipaza|Tissemsilt|Tizi Ouzou|Tlemcen",t[4]="Eastern|Manu'a|Rose Island|Swains Island|Western",t[5]="Andorra la Vella|Bengo|Benguela|Bie|Cabinda|Canillo|Cuando Cubango|Cuanza Norte|Cuanza Sul|Cunene|Encamp|Escaldes-Engordany|Huambo|Huila|La Massana|Luanda|Lunda Norte|Lunda Sul|Malanje|Moxico|Namibe|Ordino|Sant Julia de Loria|Uige|Zaire",t[6]="Anguilla",t[7]="Antartica",t[8]="Barbuda|Redonda|Saint George|Saint John|Saint Mary|Saint Paul|Saint Peter|Saint Philip",t[9]="Antartica e Islas del Atlantico Sur|Buenos Aires|Buenos Aires Capital Federal|Catamarca|Chaco|Chubut|Cordoba|Corrientes|Entre Rios|Formosa|Jujuy|La Pampa|La Rioja|Mendoza|Misiones|Neuquen|Rio Negro|Salta|San Juan|San Luis|Santa Cruz|Santa Fe|Santiago del Estero|Tierra del Fuego|Tucuman",t[10]="Aragatsotn|Ararat|Armavir|Geghark'unik'|Kotayk'|Lorri|Shirak|Syunik'|Tavush|Vayots' Dzor|Yerevan",t[11]="Aruba",t[12]="Ashmore and Cartier Island",t[13]="Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia",t[14]="Burgenland|Kaernten|Niederoesterreich|Oberoesterreich|Salzburg|Steiermark|Tirol|Vorarlberg|Wien",t[15]="Abseron Rayonu|Agcabadi Rayonu|Agdam Rayonu|Agdas Rayonu|Agstafa Rayonu|Agsu Rayonu|Ali Bayramli Sahari|Astara Rayonu|Baki Sahari|Balakan Rayonu|Barda Rayonu|Beylaqan Rayonu|Bilasuvar Rayonu|Cabrayil Rayonu|Calilabad Rayonu|Daskasan Rayonu|Davaci Rayonu|Fuzuli Rayonu|Gadabay Rayonu|Ganca Sahari|Goranboy Rayonu|Goycay Rayonu|Haciqabul Rayonu|Imisli Rayonu|Ismayilli Rayonu|Kalbacar Rayonu|Kurdamir Rayonu|Lacin Rayonu|Lankaran Rayonu|Lankaran Sahari|Lerik Rayonu|Masalli Rayonu|Mingacevir Sahari|Naftalan Sahari|Naxcivan Muxtar Respublikasi|Neftcala Rayonu|Oguz Rayonu|Qabala Rayonu|Qax Rayonu|Qazax Rayonu|Qobustan Rayonu|Quba Rayonu|Qubadli Rayonu|Qusar Rayonu|Saatli Rayonu|Sabirabad Rayonu|Saki Rayonu|Saki Sahari|Salyan Rayonu|Samaxi Rayonu|Samkir Rayonu|Samux Rayonu|Siyazan Rayonu|Sumqayit Sahari|Susa Rayonu|Susa Sahari|Tartar Rayonu|Tovuz Rayonu|Ucar Rayonu|Xacmaz Rayonu|Xankandi Sahari|Xanlar Rayonu|Xizi Rayonu|Xocali Rayonu|Xocavand Rayonu|Yardimli Rayonu|Yevlax Rayonu|Yevlax Sahari|Zangilan Rayonu|Zaqatala Rayonu|Zardab Rayonu",t[16]="Acklins and Crooked Islands|Bimini|Cat Island|Exuma|Freeport|Fresh Creek|Governor's Harbour|Green Turtle Cay|Harbour Island|High Rock|Inagua|Kemps Bay|Long Island|Marsh Harbour|Mayaguana|New Providence|Nicholls Town and Berry Islands|Ragged Island|Rock Sound|San Salvador and Rum Cay|Sandy Point",t[17]="Al Hadd|Al Manamah|Al Mintaqah al Gharbiyah|Al Mintaqah al Wusta|Al Mintaqah ash Shamaliyah|Al Muharraq|Ar Rifa' wa al Mintaqah al Janubiyah|Jidd Hafs|Juzur Hawar|Madinat 'Isa|Madinat Hamad|Sitrah",t[18]="Barguna|Barisal|Bhola|Jhalokati|Patuakhali|Pirojpur|Bandarban|Brahmanbaria|Chandpur|Chittagong|Comilla|Cox's Bazar|Feni|Khagrachari|Lakshmipur|Noakhali|Rangamati|Dhaka|Faridpur|Gazipur|Gopalganj|Jamalpur|Kishoreganj|Madaripur|Manikganj|Munshiganj|Mymensingh|Narayanganj|Narsingdi|Netrokona|Rajbari|Shariatpur|Sherpur|Tangail|Bagerhat|Chuadanga|Jessore|Jhenaidah|Khulna|Kushtia|Magura|Meherpur|Narail|Satkhira|Bogra|Dinajpur|Gaibandha|Jaipurhat|Kurigram|Lalmonirhat|Naogaon|Natore|Nawabganj|Nilphamari|Pabna|Panchagarh|Rajshahi|Rangpur|Sirajganj|Thakurgaon|Habiganj|Maulvi bazar|Sunamganj|Sylhet",t[19]="Bridgetown|Christ Church|Saint Andrew|Saint George|Saint James|Saint John|Saint Joseph|Saint Lucy|Saint Michael|Saint Peter|Saint Philip|Saint Thomas",t[20]="Brestskaya (Brest)|Homyel'skaya (Homyel')|Horad Minsk|Hrodzyenskaya (Hrodna)|Mahilyowskaya (Mahilyow)|Minskaya|Vitsyebskaya (Vitsyebsk)",t[21]="Antwerpen|Brabant Wallon|Brussels Capitol Region|Hainaut|Liege|Limburg|Luxembourg|Namur|Oost-Vlaanderen|Vlaams Brabant|West-Vlaanderen",t[22]="Belize|Cayo|Corozal|Orange Walk|Stann Creek|Toledo",t[23]="Alibori|Atakora|Atlantique|Borgou|Collines|Couffo|Donga|Littoral|Mono|Oueme|Plateau|Zou",t[24]="Devonshire|Hamilton|Hamilton|Paget|Pembroke|Saint George|Saint Georges|Sandys|Smiths|Southampton|Warwick",t[25]="Bumthang|Chhukha|Chirang|Daga|Geylegphug|Ha|Lhuntshi|Mongar|Paro|Pemagatsel|Punakha|Samchi|Samdrup Jongkhar|Shemgang|Tashigang|Thimphu|Tongsa|Wangdi Phodrang",t[26]="Beni|Chuquisaca|Cochabamba|La Paz|Oruro|Pando|Potosi|Santa Cruz|Tarija",t[27]="Federation of Bosnia and Herzegovina|Republika Srpska",t[28]="Central|Chobe|Francistown|Gaborone|Ghanzi|Kgalagadi|Kgatleng|Kweneng|Lobatse|Ngamiland|North-East|Selebi-Pikwe|South-East|Southern",t[29]="Acre|Alagoas|Amapa|Amazonas|Bahia|Ceara|Distrito Federal|Espirito Santo|Goias|Maranhao|Mato Grosso|Mato Grosso do Sul|Minas Gerais|Para|Paraiba|Parana|Pernambuco|Piaui|Rio de Janeiro|Rio Grande do Norte|Rio Grande do Sul|Rondonia|Roraima|Santa Catarina|Sao Paulo|Sergipe|Tocantins",t[30]="Anegada|Jost Van Dyke|Tortola|Virgin Gorda",t[31]="Belait|Brunei and Muara|Temburong|Tutong",t[32]="Blagoevgrad|Burgas|Dobrich|Gabrovo|Khaskovo|Kurdzhali|Kyustendil|Lovech|Montana|Pazardzhik|Pernik|Pleven|Plovdiv|Razgrad|Ruse|Shumen|Silistra|Sliven|Smolyan|Sofiya|Sofiya-Grad|Stara Zagora|Turgovishte|Varna|Veliko Turnovo|Vidin|Vratsa|Yambol",t[33]="Bale|Bam|Banwa|Bazega|Bougouriba|Boulgou|Boulkiemde|Comoe|Ganzourgou|Gnagna|Gourma|Houet|Ioba|Kadiogo|Kenedougou|Komandjari|Kompienga|Kossi|Koupelogo|Kouritenga|Kourweogo|Leraba|Loroum|Mouhoun|Nahouri|Namentenga|Naumbiel|Nayala|Oubritenga|Oudalan|Passore|Poni|Samentenga|Sanguie|Seno|Sissili|Soum|Sourou|Tapoa|Tuy|Yagha|Yatenga|Ziro|Zondomo|Zoundweogo",t[34]="Ayeyarwady|Bago|Chin State|Kachin State|Kayah State|Kayin State|Magway|Mandalay|Mon State|Rakhine State|Sagaing|Shan State|Tanintharyi|Yangon",t[35]="Bubanza|Bujumbura|Bururi|Cankuzo|Cibitoke|Gitega|Karuzi|Kayanza|Kirundo|Makamba|Muramvya|Muyinga|Mwaro|Ngozi|Rutana|Ruyigi",t[36]="Banteay Mean Cheay|Batdambang|Kampong Cham|Kampong Chhnang|Kampong Spoe|Kampong Thum|Kampot|Kandal|Kaoh Kong|Keb|Kracheh|Mondol Kiri|Otdar Mean Cheay|Pailin|Phnum Penh|Pouthisat|Preah Seihanu (Sihanoukville)|Preah Vihear|Prey Veng|Rotanah Kiri|Siem Reab|Stoeng Treng|Svay Rieng|Takev",t[37]="Adamaoua|Centre|Est|Extreme-Nord|Littoral|Nord|Nord-Ouest|Ouest|Sud|Sud-Ouest",t[38]="Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec|Saskatchewan|Yukon Territory",t[39]="Boa Vista|Brava|Maio|Mosteiros|Paul|Porto Novo|Praia|Ribeira Grande|Sal|Santa Catarina|Santa Cruz|Sao Domingos|Sao Filipe|Sao Nicolau|Sao Vicente|Tarrafal",t[40]="Creek|Eastern|Midland|South Town|Spot Bay|Stake Bay|West End|Western",t[41]="Bamingui-Bangoran|Bangui|Basse-Kotto|Gribingui|Haut-Mbomou|Haute-Kotto|Haute-Sangha|Kemo-Gribingui|Lobaye|Mbomou|Nana-Mambere|Ombella-Mpoko|Ouaka|Ouham|Ouham-Pende|Sangha|Vakaga",t[42]="Batha|Biltine|Borkou-Ennedi-Tibesti|Chari-Baguirmi|Guera|Kanem|Lac|Logone Occidental|Logone Oriental|Mayo-Kebbi|Moyen-Chari|Ouaddai|Salamat|Tandjile",t[43]="Aisen del General Carlos Ibanez del Campo|Antofagasta|Araucania|Atacama|Bio-Bio|Coquimbo|Libertador General Bernardo O'Higgins|Los Lagos|Magallanes y de la Antartica Chilena|Maule|Region Metropolitana (Santiago)|Tarapaca|Valparaiso",t[44]="Anhui|Beijing|Chongqing|Fujian|Gansu|Guangdong|Guangxi|Guizhou|Hainan|Hebei|Heilongjiang|Henan|Hubei|Hunan|Jiangsu|Jiangxi|Jilin|Liaoning|Nei Mongol|Ningxia|Qinghai|Shaanxi|Shandong|Shanghai|Shanxi|Sichuan|Tianjin|Xinjiang|Xizang (Tibet)|Yunnan|Zhejiang",t[45]="Christmas Island",t[46]="Clipperton Island",t[47]="Direction Island|Home Island|Horsburgh Island|North Keeling Island|South Island|West Island",t[48]="Amazonas|Antioquia|Arauca|Atlantico|Bolivar|Boyaca|Caldas|Caqueta|Casanare|Cauca|Cesar|Choco|Cordoba|Cundinamarca|Distrito Capital de Santa Fe de Bogota|Guainia|Guaviare|Huila|La Guajira|Magdalena|Meta|Narino|Norte de Santander|Putumayo|Quindio|Risaralda|San Andres y Providencia|Santander|Sucre|Tolima|Valle del Cauca|Vaupes|Vichada",t[49]="Anjouan (Nzwani)|Domoni|Fomboni|Grande Comore (Njazidja)|Moheli (Mwali)|Moroni|Moutsamoudou",t[50]="Bandundu|Bas-Congo|Equateur|Kasai-Occidental|Kasai-Oriental|Katanga|Kinshasa|Maniema|Nord-Kivu|Orientale|Sud-Kivu",t[51]="Bouenza|Brazzaville|Cuvette|Kouilou|Lekoumou|Likouala|Niari|Plateaux|Pool|Sangha",t[52]="Aitutaki|Atiu|Avarua|Mangaia|Manihiki|Manuae|Mauke|Mitiaro|Nassau Island|Palmerston|Penrhyn|Pukapuka|Rakahanga|Rarotonga|Suwarrow|Takutea",t[53]="Alajuela|Cartago|Guanacaste|Heredia|Limon|Puntarenas|San Jose",t[54]="Abengourou|Abidjan|Aboisso|Adiake'|Adzope|Agboville|Agnibilekrou|Ale'pe'|Bangolo|Beoumi|Biankouma|Bocanda|Bondoukou|Bongouanou|Bouafle|Bouake|Bouna|Boundiali|Dabakala|Dabon|Daloa|Danane|Daoukro|Dimbokro|Divo|Duekoue|Ferkessedougou|Gagnoa|Grand Bassam|Grand-Lahou|Guiglo|Issia|Jacqueville|Katiola|Korhogo|Lakota|Man|Mankono|Mbahiakro|Odienne|Oume|Sakassou|San-Pedro|Sassandra|Seguela|Sinfra|Soubre|Tabou|Tanda|Tiassale|Tiebissou|Tingrela|Touba|Toulepleu|Toumodi|Vavoua|Yamoussoukro|Zuenoula",t[55]="Bjelovarsko-Bilogorska Zupanija|Brodsko-Posavska Zupanija|Dubrovacko-Neretvanska Zupanija|Istarska Zupanija|Karlovacka Zupanija|Koprivnicko-Krizevacka Zupanija|Krapinsko-Zagorska Zupanija|Licko-Senjska Zupanija|Medimurska Zupanija|Osjecko-Baranjska Zupanija|Pozesko-Slavonska Zupanija|Primorsko-Goranska Zupanija|Sibensko-Kninska Zupanija|Sisacko-Moslavacka Zupanija|Splitsko-Dalmatinska Zupanija|Varazdinska Zupanija|Viroviticko-Podravska Zupanija|Vukovarsko-Srijemska Zupanija|Zadarska Zupanija|Zagreb|Zagrebacka Zupanija",t[56]="Camaguey|Ciego de Avila|Cienfuegos|Ciudad de La Habana|Granma|Guantanamo|Holguin|Isla de la Juventud|La Habana|Las Tunas|Matanzas|Pinar del Rio|Sancti Spiritus|Santiago de Cuba|Villa Clara",t[57]="Famagusta|Kyrenia|Larnaca|Limassol|Nicosia|Paphos",t[58]="Brnensky|Budejovicky|Jihlavsky|Karlovarsky|Kralovehradecky|Liberecky|Olomoucky|Ostravsky|Pardubicky|Plzensky|Praha|Stredocesky|Ustecky|Zlinsky",t[59]="Arhus|Bornholm|Fredericksberg|Frederiksborg|Fyn|Kobenhavn|Kobenhavns|Nordjylland|Ribe|Ringkobing|Roskilde|Sonderjylland|Storstrom|Vejle|Vestsjalland|Viborg",t[60]="'Ali Sabih|Dikhil|Djibouti|Obock|Tadjoura",t[61]="Saint Andrew|Saint David|Saint George|Saint John|Saint Joseph|Saint Luke|Saint Mark|Saint Patrick|Saint Paul|Saint Peter",t[62]="Azua|Baoruco|Barahona|Dajabon|Distrito Nacional|Duarte|El Seibo|Elias Pina|Espaillat|Hato Mayor|Independencia|La Altagracia|La Romana|La Vega|Maria Trinidad Sanchez|Monsenor Nouel|Monte Cristi|Monte Plata|Pedernales|Peravia|Puerto Plata|Salcedo|Samana|San Cristobal|San Juan|San Pedro de Macoris|Sanchez Ramirez|Santiago|Santiago Rodriguez|Valverde",t[63]="Azuay|Bolivar|Canar|Carchi|Chimborazo|Cotopaxi|El Oro|Esmeraldas|Galapagos|Guayas|Imbabura|Loja|Los Rios|Manabi|Morona-Santiago|Napo|Orellana|Pastaza|Pichincha|Sucumbios|Tungurahua|Zamora-Chinchipe",t[64]="Ad Daqahliyah|Al Bahr al Ahmar|Al Buhayrah|Al Fayyum|Al Gharbiyah|Al Iskandariyah|Al Isma'iliyah|Al Jizah|Al Minufiyah|Al Minya|Al Qahirah|Al Qalyubiyah|Al Wadi al Jadid|As Suways|Ash Sharqiyah|Aswan|Asyut|Bani Suwayf|Bur Sa'id|Dumyat|Janub Sina'|Kafr ash Shaykh|Matruh|Qina|Shamal Sina'|Suhaj",t[65]="Ahuachapan|Cabanas|Chalatenango|Cuscatlan|La Libertad|La Paz|La Union|Morazan|San Miguel|San Salvador|San Vicente|Santa Ana|Sonsonate|Usulutan",t[66]="Annobon|Bioko Norte|Bioko Sur|Centro Sur|Kie-Ntem|Litoral|Wele-Nzas",t[67]="Akale Guzay|Barka|Denkel|Hamasen|Sahil|Semhar|Senhit|Seraye",t[68]="Harjumaa (Tallinn)|Hiiumaa (Kardla)|Ida-Virumaa (Johvi)|Jarvamaa (Paide)|Jogevamaa (Jogeva)|Laane-Virumaa (Rakvere)|Laanemaa (Haapsalu)|Parnumaa (Parnu)|Polvamaa (Polva)|Raplamaa (Rapla)|Saaremaa (Kuessaare)|Tartumaa (Tartu)|Valgamaa (Valga)|Viljandimaa (Viljandi)|Vorumaa (Voru)",t[69]="Adis Abeba (Addis Ababa)|Afar|Amara|Dire Dawa|Gambela Hizboch|Hareri Hizb|Oromiya|Sumale|Tigray|YeDebub Biheroch Bihereseboch na Hizboch",t[70]="Europa Island",t[71]="Falkland Islands (Islas Malvinas)",t[72]="Bordoy|Eysturoy|Mykines|Sandoy|Skuvoy|Streymoy|Suduroy|Tvoroyri|Vagar",t[73]="Central|Eastern|Northern|Rotuma|Western",t[74]="Aland|Etela-Suomen Laani|Ita-Suomen Laani|Lansi-Suomen Laani|Lappi|Oulun Laani",t[75]="Alsace|Aquitaine|Auvergne|Basse-Normandie|Bourgogne|Bretagne|Centre|Champagne-Ardenne|Corse|Franche-Comte|Haute-Normandie|Ile-de-France|Languedoc-Roussillon|Limousin|Lorraine|Midi-Pyrenees|Nord-Pas-de-Calais|Pays de la Loire|Picardie|Poitou-Charentes|Provence-Alpes-Cote d'Azur|Rhone-Alpes",t[76]="French Guiana",t[77]="Archipel des Marquises|Archipel des Tuamotu|Archipel des Tubuai|Iles du Vent|Iles Sous-le-Vent",t[78]="Adelie Land|Ile Crozet|Iles Kerguelen|Iles Saint-Paul et Amsterdam",t[79]="Estuaire|Haut-Ogooue|Moyen-Ogooue|Ngounie|Nyanga|Ogooue-Ivindo|Ogooue-Lolo|Ogooue-Maritime|Woleu-Ntem",t[80]="Banjul|Central River|Lower River|North Bank|Upper River|Western",t[81]="Gaza Strip",t[82]="Abashis|Abkhazia or Ap'khazet'is Avtonomiuri Respublika (Sokhumi)|Adigenis|Ajaria or Acharis Avtonomiuri Respublika (Bat'umi)|Akhalgoris|Akhalk'alak'is|Akhalts'ikhis|Akhmetis|Ambrolauris|Aspindzis|Baghdat'is|Bolnisis|Borjomis|Ch'khorotsqus|Ch'okhatauris|Chiat'ura|Dedop'listsqaros|Dmanisis|Dushet'is|Gardabanis|Gori|Goris|Gurjaanis|Javis|K'arelis|K'ut'aisi|Kaspis|Kharagaulis|Khashuris|Khobis|Khonis|Lagodekhis|Lanch'khut'is|Lentekhis|Marneulis|Martvilis|Mestiis|Mts'khet'is|Ninotsmindis|Onis|Ozurget'is|P'ot'i|Qazbegis|Qvarlis|Rust'avi|Sach'kheris|Sagarejos|Samtrediis|Senakis|Sighnaghis|T'bilisi|T'elavis|T'erjolis|T'et'ritsqaros|T'ianet'is|Tqibuli|Ts'ageris|Tsalenjikhis|Tsalkis|Tsqaltubo|Vanis|Zestap'onis|Zugdidi|Zugdidis",t[83]="Baden-Wuerttemberg|Bayern|Berlin|Brandenburg|Bremen|Hamburg|Hessen|Mecklenburg-Vorpommern|Niedersachsen|Nordrhein-Westfalen|Rheinland-Pfalz|Saarland|Sachsen|Sachsen-Anhalt|Schleswig-Holstein|Thueringen",t[84]="Ashanti|Brong-Ahafo|Central|Eastern|Greater Accra|Northern|Upper East|Upper West|Volta|Western",t[85]="Gibraltar",t[86]="Ile du Lys|Ile Glorieuse",t[87]="Aitolia kai Akarnania|Akhaia|Argolis|Arkadhia|Arta|Attiki|Ayion Oros (Mt. Athos)|Dhodhekanisos|Drama|Evritania|Evros|Evvoia|Florina|Fokis|Fthiotis|Grevena|Ilia|Imathia|Ioannina|Irakleion|Kardhitsa|Kastoria|Kavala|Kefallinia|Kerkyra|Khalkidhiki|Khania|Khios|Kikladhes|Kilkis|Korinthia|Kozani|Lakonia|Larisa|Lasithi|Lesvos|Levkas|Magnisia|Messinia|Pella|Pieria|Preveza|Rethimni|Rodhopi|Samos|Serrai|Thesprotia|Thessaloniki|Trikala|Voiotia|Xanthi|Zakinthos",t[88]="Avannaa (Nordgronland)|Kitaa (Vestgronland)|Tunu (Ostgronland)",t[89]="Carriacou and Petit Martinique|Saint Andrew|Saint David|Saint George|Saint John|Saint Mark|Saint Patrick",t[90]="Basse-Terre|Grande-Terre|Iles de la Petite Terre|Iles des Saintes|Marie-Galante",t[91]="Guam",t[92]="Alta Verapaz|Baja Verapaz|Chimaltenango|Chiquimula|El Progreso|Escuintla|Guatemala|Huehuetenango|Izabal|Jalapa|Jutiapa|Peten|Quetzaltenango|Quiche|Retalhuleu|Sacatepequez|San Marcos|Santa Rosa|Solola|Suchitepequez|Totonicapan|Zacapa",t[93]="Castel|Forest|St. Andrew|St. Martin|St. Peter Port|St. Pierre du Bois|St. Sampson|St. Saviour|Torteval|Vale",t[94]="Beyla|Boffa|Boke|Conakry|Coyah|Dabola|Dalaba|Dinguiraye|Dubreka|Faranah|Forecariah|Fria|Gaoual|Gueckedou|Kankan|Kerouane|Kindia|Kissidougou|Koubia|Koundara|Kouroussa|Labe|Lelouma|Lola|Macenta|Mali|Mamou|Mandiana|Nzerekore|Pita|Siguiri|Telimele|Tougue|Yomou",t[95]="Bafata|Biombo|Bissau|Bolama-Bijagos|Cacheu|Gabu|Oio|Quinara|Tombali",t[96]="Barima-Waini|Cuyuni-Mazaruni|Demerara-Mahaica|East Berbice-Corentyne|Essequibo Islands-West Demerara|Mahaica-Berbice|Pomeroon-Supenaam|Potaro-Siparuni|Upper Demerara-Berbice|Upper Takutu-Upper Essequibo",t[97]="Artibonite|Centre|Grand'Anse|Nord|Nord-Est|Nord-Ouest|Ouest|Sud|Sud-Est",t[98]="Heard Island and McDonald Islands",t[99]="Holy See (Vatican City)",t[100]="Atlantida|Choluteca|Colon|Comayagua|Copan|Cortes|El Paraiso|Francisco Morazan|Gracias a Dios|Intibuca|Islas de la Bahia|La Paz|Lempira|Ocotepeque|Olancho|Santa Barbara|Valle|Yoro",t[101]="Hong Kong",t[102]="Howland Island",t[103]="Bacs-Kiskun|Baranya|Bekes|Bekescsaba|Borsod-Abauj-Zemplen|Budapest|Csongrad|Debrecen|Dunaujvaros|Eger|Fejer|Gyor|Gyor-Moson-Sopron|Hajdu-Bihar|Heves|Hodmezovasarhely|Jasz-Nagykun-Szolnok|Kaposvar|Kecskemet|Komarom-Esztergom|Miskolc|Nagykanizsa|Nograd|Nyiregyhaza|Pecs|Pest|Somogy|Sopron|Szabolcs-Szatmar-Bereg|Szeged|Szekesfehervar|Szolnok|Szombathely|Tatabanya|Tolna|Vas|Veszprem|Veszprem|Zala|Zalaegerszeg",t[104]="Akranes|Akureyri|Arnessysla|Austur-Bardhastrandarsysla|Austur-Hunavatnssysla|Austur-Skaftafellssysla|Borgarfjardharsysla|Dalasysla|Eyjafjardharsysla|Gullbringusysla|Hafnarfjordhur|Husavik|Isafjordhur|Keflavik|Kjosarsysla|Kopavogur|Myrasysla|Neskaupstadhur|Nordhur-Isafjardharsysla|Nordhur-Mulasys-la|Nordhur-Thingeyjarsysla|Olafsfjordhur|Rangarvallasysla|Reykjavik|Saudharkrokur|Seydhisfjordhur|Siglufjordhur|Skagafjardharsysla|Snaefellsnes-og Hnappadalssysla|Strandasysla|Sudhur-Mulasysla|Sudhur-Thingeyjarsysla|Vesttmannaeyjar|Vestur-Bardhastrandarsysla|Vestur-Hunavatnssysla|Vestur-Isafjardharsysla|Vestur-Skaftafellssysla",t[105]="Andaman and Nicobar Islands|Andhra Pradesh|Arunachal Pradesh|Assam|Bihar|Chandigarh|Chhattisgarh|Dadra and Nagar Haveli|Daman and Diu|Delhi|Goa|Gujarat|Haryana|Himachal Pradesh|Jammu and Kashmir|Jharkhand|Karnataka|Kerala|Lakshadweep|Madhya Pradesh|Maharashtra|Manipur|Meghalaya|Mizoram|Nagaland|Orissa|Pondicherry|Punjab|Rajasthan|Sikkim|Tamil Nadu|Tripura|Uttar Pradesh|Uttaranchal|West Bengal",t[106]="Aceh|Bali|Banten|Bengkulu|East Timor|Gorontalo|Irian Jaya|Jakarta Raya|Jambi|Jawa Barat|Jawa Tengah|Jawa Timur|Kalimantan Barat|Kalimantan Selatan|Kalimantan Tengah|Kalimantan Timur|Kepulauan Bangka Belitung|Lampung|Maluku|Maluku Utara|Nusa Tenggara Barat|Nusa Tenggara Timur|Riau|Sulawesi Selatan|Sulawesi Tengah|Sulawesi Tenggara|Sulawesi Utara|Sumatera Barat|Sumatera Selatan|Sumatera Utara|Yogyakarta",t[107]="Ardabil|Azarbayjan-e Gharbi|Azarbayjan-e Sharqi|Bushehr|Chahar Mahall va Bakhtiari|Esfahan|Fars|Gilan|Golestan|Hamadan|Hormozgan|Ilam|Kerman|Kermanshah|Khorasan|Khuzestan|Kohgiluyeh va Buyer Ahmad|Kordestan|Lorestan|Markazi|Mazandaran|Qazvin|Qom|Semnan|Sistan va Baluchestan|Tehran|Yazd|Zanjan",t[108]="Al Anbar|Al Basrah|Al Muthanna|Al Qadisiyah|An Najaf|Arbil|As Sulaymaniyah|At Ta'mim|Babil|Baghdad|Dahuk|Dhi Qar|Diyala|Karbala'|Maysan|Ninawa|Salah ad Din|Wasit",t[109]="Carlow|Cavan|Clare|Cork|Donegal|Dublin|Galway|Kerry|Kildare|Kilkenny|Laois|Leitrim|Limerick|Longford|Louth|Mayo|Meath|Monaghan|Offaly|Roscommon|Sligo|Tipperary|Waterford|Westmeath|Wexford|Wicklow",t[110]="Antrim|Ards|Armagh|Ballymena|Ballymoney|Banbridge|Belfast|Carrickfergus|Castlereagh|Coleraine|Cookstown|Craigavon|Derry|Down|Dungannon|Fermanagh|Larne|Limavady|Lisburn|Magherafelt|Moyle|Newry and Mourne|Newtownabbey|North Down|Omagh|Strabane",t[111]="Central|Haifa|Jerusalem|Northern|Southern|Tel Aviv",t[112]="Abruzzo|Basilicata|Calabria|Campania|Emilia-Romagna|Friuli-Venezia Giulia|Lazio|Liguria|Lombardia|Marche|Molise|Piemonte|Puglia|Sardegna|Sicilia|Toscana|Trentino-Alto Adige|Umbria|Valle d'Aosta|Veneto",t[113]="Clarendon|Hanover|Kingston|Manchester|Portland|Saint Andrew|Saint Ann|Saint Catherine|Saint Elizabeth|Saint James|Saint Mary|Saint Thomas|Trelawny|Westmoreland",t[114]="Jan Mayen",t[115]="Aichi|Akita|Aomori|Chiba|Ehime|Fukui|Fukuoka|Fukushima|Gifu|Gumma|Hiroshima|Hokkaido|Hyogo|Ibaraki|Ishikawa|Iwate|Kagawa|Kagoshima|Kanagawa|Kochi|Kumamoto|Kyoto|Mie|Miyagi|Miyazaki|Nagano|Nagasaki|Nara|Niigata|Oita|Okayama|Okinawa|Osaka|Saga|Saitama|Shiga|Shimane|Shizuoka|Tochigi|Tokushima|Tokyo|Tottori|Toyama|Wakayama|Yamagata|Yamaguchi|Yamanashi",t[116]="Jarvis Island",t[117]="Jersey",t[118]="Johnston Atoll",t[119]="'Amman|Ajlun|Al 'Aqabah|Al Balqa'|Al Karak|Al Mafraq|At Tafilah|Az Zarqa'|Irbid|Jarash|Ma'an|Madaba",t[120]="Juan de Nova Island",t[121]="Almaty|Aqmola|Aqtobe|Astana|Atyrau|Batys Qazaqstan|Bayqongyr|Mangghystau|Ongtustik Qazaqstan|Pavlodar|Qaraghandy|Qostanay|Qyzylorda|Shyghys Qazaqstan|Soltustik Qazaqstan|Zhambyl",t[122]="Central|Coast|Eastern|Nairobi Area|North Eastern|Nyanza|Rift Valley|Western",t[123]="Abaiang|Abemama|Aranuka|Arorae|Banaba|Banaba|Beru|Butaritari|Central Gilberts|Gilbert Islands|Kanton|Kiritimati|Kuria|Line Islands|Line Islands|Maiana|Makin|Marakei|Nikunau|Nonouti|Northern Gilberts|Onotoa|Phoenix Islands|Southern Gilberts|Tabiteuea|Tabuaeran|Tamana|Tarawa|Tarawa|Teraina",t[124]="Chagang-do (Chagang Province)|Hamgyong-bukto (North Hamgyong Province)|Hamgyong-namdo (South Hamgyong Province)|Hwanghae-bukto (North Hwanghae Province)|Hwanghae-namdo (South Hwanghae Province)|Kaesong-si (Kaesong City)|Kangwon-do (Kangwon Province)|Namp'o-si (Namp'o City)|P'yongan-bukto (North P'yongan Province)|P'yongan-namdo (South P'yongan Province)|P'yongyang-si (P'yongyang City)|Yanggang-do (Yanggang Province)",t[125]="Ch'ungch'ong-bukto|Ch'ungch'ong-namdo|Cheju-do|Cholla-bukto|Cholla-namdo|Inch'on-gwangyoksi|Kangwon-do|Kwangju-gwangyoksi|Kyonggi-do|Kyongsang-bukto|Kyongsang-namdo|Pusan-gwangyoksi|Soul-t'ukpyolsi|Taegu-gwangyoksi|Taejon-gwangyoksi|Ulsan-gwangyoksi",t[126]="Al 'Asimah|Al Ahmadi|Al Farwaniyah|Al Jahra'|Hawalli",t[127]="Batken Oblasty|Bishkek Shaary|Chuy Oblasty (Bishkek)|Jalal-Abad Oblasty|Naryn Oblasty|Osh Oblasty|Talas Oblasty|Ysyk-Kol Oblasty (Karakol)",t[128]="Attapu|Bokeo|Bolikhamxai|Champasak|Houaphan|Khammouan|Louangnamtha|Louangphabang|Oudomxai|Phongsali|Salavan|Savannakhet|Viangchan|Viangchan|Xaignabouli|Xaisomboun|Xekong|Xiangkhoang",t[129]="Aizkraukles Rajons|Aluksnes Rajons|Balvu Rajons|Bauskas Rajons|Cesu Rajons|Daugavpils|Daugavpils Rajons|Dobeles Rajons|Gulbenes Rajons|Jekabpils Rajons|Jelgava|Jelgavas Rajons|Jurmala|Kraslavas Rajons|Kuldigas Rajons|Leipaja|Liepajas Rajons|Limbazu Rajons|Ludzas Rajons|Madonas Rajons|Ogres Rajons|Preilu Rajons|Rezekne|Rezeknes Rajons|Riga|Rigas Rajons|Saldus Rajons|Talsu Rajons|Tukuma Rajons|Valkas Rajons|Valmieras Rajons|Ventspils|Ventspils Rajons",t[130]="Beyrouth|Ech Chimal|Ej Jnoub|El Bekaa|Jabal Loubnane",t[131]="Berea|Butha-Buthe|Leribe|Mafeteng|Maseru|Mohales Hoek|Mokhotlong|Qacha's Nek|Quthing|Thaba-Tseka",t[132]="Bomi|Bong|Grand Bassa|Grand Cape Mount|Grand Gedeh|Grand Kru|Lofa|Margibi|Maryland|Montserrado|Nimba|River Cess|Sinoe",t[133]="Ajdabiya|Al 'Aziziyah|Al Fatih|Al Jabal al Akhdar|Al Jufrah|Al Khums|Al Kufrah|An Nuqat al Khams|Ash Shati'|Awbari|Az Zawiyah|Banghazi|Darnah|Ghadamis|Gharyan|Misratah|Murzuq|Sabha|Sawfajjin|Surt|Tarabulus|Tarhunah|Tubruq|Yafran|Zlitan",t[134]="Balzers|Eschen|Gamprin|Mauren|Planken|Ruggell|Schaan|Schellenberg|Triesen|Triesenberg|Vaduz",t[135]="Akmenes Rajonas|Alytaus Rajonas|Alytus|Anyksciu Rajonas|Birstonas|Birzu Rajonas|Druskininkai|Ignalinos Rajonas|Jonavos Rajonas|Joniskio Rajonas|Jurbarko Rajonas|Kaisiadoriu Rajonas|Kaunas|Kauno Rajonas|Kedainiu Rajonas|Kelmes Rajonas|Klaipeda|Klaipedos Rajonas|Kretingos Rajonas|Kupiskio Rajonas|Lazdiju Rajonas|Marijampole|Marijampoles Rajonas|Mazeikiu Rajonas|Moletu Rajonas|Neringa Pakruojo Rajonas|Palanga|Panevezio Rajonas|Panevezys|Pasvalio Rajonas|Plunges Rajonas|Prienu Rajonas|Radviliskio Rajonas|Raseiniu Rajonas|Rokiskio Rajonas|Sakiu Rajonas|Salcininku Rajonas|Siauliai|Siauliu Rajonas|Silales Rajonas|Silutes Rajonas|Sirvintu Rajonas|Skuodo Rajonas|Svencioniu Rajonas|Taurages Rajonas|Telsiu Rajonas|Traku Rajonas|Ukmerges Rajonas|Utenos Rajonas|Varenos Rajonas|Vilkaviskio Rajonas|Vilniaus Rajonas|Vilnius|Zarasu Rajonas",t[136]="Diekirch|Grevenmacher|Luxembourg",t[137]="Macau",t[138]="Aracinovo|Bac|Belcista|Berovo|Bistrica|Bitola|Blatec|Bogdanci|Bogomila|Bogovinje|Bosilovo|Brvenica|Cair (Skopje)|Capari|Caska|Cegrane|Centar (Skopje)|Centar Zupa|Cesinovo|Cucer-Sandevo|Debar|Delcevo|Delogozdi|Demir Hisar|Demir Kapija|Dobrusevo|Dolna Banjica|Dolneni|Dorce Petrov (Skopje)|Drugovo|Dzepciste|Gazi Baba (Skopje)|Gevgelija|Gostivar|Gradsko|Ilinden|Izvor|Jegunovce|Kamenjane|Karbinci|Karpos (Skopje)|Kavadarci|Kicevo|Kisela Voda (Skopje)|Klecevce|Kocani|Konce|Kondovo|Konopiste|Kosel|Kratovo|Kriva Palanka|Krivogastani|Krusevo|Kuklis|Kukurecani|Kumanovo|Labunista|Lipkovo|Lozovo|Lukovo|Makedonska Kamenica|Makedonski Brod|Mavrovi Anovi|Meseista|Miravci|Mogila|Murtino|Negotino|Negotino-Poloska|Novaci|Novo Selo|Oblesevo|Ohrid|Orasac|Orizari|Oslomej|Pehcevo|Petrovec|Plasnia|Podares|Prilep|Probistip|Radovis|Rankovce|Resen|Rosoman|Rostusa|Samokov|Saraj|Sipkovica|Sopiste|Sopotnika|Srbinovo|Star Dojran|Staravina|Staro Nagoricane|Stip|Struga|Strumica|Studenicani|Suto Orizari (Skopje)|Sveti Nikole|Tearce|Tetovo|Topolcani|Valandovo|Vasilevo|Veles|Velesta|Vevcani|Vinica|Vitoliste|Vranestica|Vrapciste|Vratnica|Vrutok|Zajas|Zelenikovo|Zileno|Zitose|Zletovo|Zrnovci",t[139]="Antananarivo|Antsiranana|Fianarantsoa|Mahajanga|Toamasina|Toliara",t[140]="Balaka|Blantyre|Chikwawa|Chiradzulu|Chitipa|Dedza|Dowa|Karonga|Kasungu|Likoma|Lilongwe|Machinga (Kasupe)|Mangochi|Mchinji|Mulanje|Mwanza|Mzimba|Nkhata Bay|Nkhotakota|Nsanje|Ntcheu|Ntchisi|Phalombe|Rumphi|Salima|Thyolo|Zomba",t[141]="Johor|Kedah|Kelantan|Labuan|Melaka|Negeri Sembilan|Pahang|Perak|Perlis|Pulau Pinang|Sabah|Sarawak|Selangor|Terengganu|Wilayah Persekutuan",t[142]="Alifu|Baa|Dhaalu|Faafu|Gaafu Alifu|Gaafu Dhaalu|Gnaviyani|Haa Alifu|Haa Dhaalu|Kaafu|Laamu|Lhaviyani|Maale|Meemu|Noonu|Raa|Seenu|Shaviyani|Thaa|Vaavu",t[143]="Gao|Kayes|Kidal|Koulikoro|Mopti|Segou|Sikasso|Tombouctou",t[144]="Valletta",t[145]="Man, Isle of",t[146]="Ailinginae|Ailinglaplap|Ailuk|Arno|Aur|Bikar|Bikini|Bokak|Ebon|Enewetak|Erikub|Jabat|Jaluit|Jemo|Kili|Kwajalein|Lae|Lib|Likiep|Majuro|Maloelap|Mejit|Mili|Namorik|Namu|Rongelap|Rongrik|Toke|Ujae|Ujelang|Utirik|Wotho|Wotje",t[147]="Martinique",t[148]="Adrar|Assaba|Brakna|Dakhlet Nouadhibou|Gorgol|Guidimaka|Hodh Ech Chargui|Hodh El Gharbi|Inchiri|Nouakchott|Tagant|Tiris Zemmour|Trarza",t[149]="Agalega Islands|Black River|Cargados Carajos Shoals|Flacq|Grand Port|Moka|Pamplemousses|Plaines Wilhems|Port Louis|Riviere du Rempart|Rodrigues|Savanne",
t[150]="Mayotte",t[151]="Aguascalientes|Baja California|Baja California Sur|Campeche|Chiapas|Chihuahua|Coahuila de Zaragoza|Colima|Distrito Federal|Durango|Guanajuato|Guerrero|Hidalgo|Jalisco|Mexico|Michoacan de Ocampo|Morelos|Nayarit|Nuevo Leon|Oaxaca|Puebla|Queretaro de Arteaga|Quintana Roo|San Luis Potosi|Sinaloa|Sonora|Tabasco|Tamaulipas|Tlaxcala|Veracruz-Llave|Yucatan|Zacatecas",t[152]="Chuuk (Truk)|Kosrae|Pohnpei|Yap",t[153]="Midway Islands",t[154]="Balti|Cahul|Chisinau|Chisinau|Dubasari|Edinet|Gagauzia|Lapusna|Orhei|Soroca|Tighina|Ungheni",t[155]="Fontvieille|La Condamine|Monaco-Ville|Monte-Carlo",t[156]="Arhangay|Bayan-Olgiy|Bayanhongor|Bulgan|Darhan|Dornod|Dornogovi|Dundgovi|Dzavhan|Erdenet|Govi-Altay|Hentiy|Hovd|Hovsgol|Omnogovi|Ovorhangay|Selenge|Suhbaatar|Tov|Ulaanbaatar|Uvs",t[157]="Saint Anthony|Saint Georges|Saint Peter's",t[158]="Agadir|Al Hoceima|Azilal|Ben Slimane|Beni Mellal|Boulemane|Casablanca|Chaouen|El Jadida|El Kelaa des Srarhna|Er Rachidia|Essaouira|Fes|Figuig|Guelmim|Ifrane|Kenitra|Khemisset|Khenifra|Khouribga|Laayoune|Larache|Marrakech|Meknes|Nador|Ouarzazate|Oujda|Rabat-Sale|Safi|Settat|Sidi Kacem|Tan-Tan|Tanger|Taounate|Taroudannt|Tata|Taza|Tetouan|Tiznit",t[159]="Cabo Delgado|Gaza|Inhambane|Manica|Maputo|Nampula|Niassa|Sofala|Tete|Zambezia",t[160]="Caprivi|Erongo|Hardap|Karas|Khomas|Kunene|Ohangwena|Okavango|Omaheke|Omusati|Oshana|Oshikoto|Otjozondjupa",t[161]="Aiwo|Anabar|Anetan|Anibare|Baiti|Boe|Buada|Denigomodu|Ewa|Ijuw|Meneng|Nibok|Uaboe|Yaren",t[162]="Bagmati|Bheri|Dhawalagiri|Gandaki|Janakpur|Karnali|Kosi|Lumbini|Mahakali|Mechi|Narayani|Rapti|Sagarmatha|Seti",t[163]="Drenthe|Flevoland|Friesland|Gelderland|Groningen|Limburg|Noord-Brabant|Noord-Holland|Overijssel|Utrecht|Zeeland|Zuid-Holland",t[164]="Netherlands Antilles",t[165]="Iles Loyaute|Nord|Sud",t[166]="Akaroa|Amuri|Ashburton|Bay of Islands|Bruce|Buller|Chatham Islands|Cheviot|Clifton|Clutha|Cook|Dannevirke|Egmont|Eketahuna|Ellesmere|Eltham|Eyre|Featherston|Franklin|Golden Bay|Great Barrier Island|Grey|Hauraki Plains|Hawera|Hawke's Bay|Heathcote|Hikurangi|Hobson|Hokianga|Horowhenua|Hurunui|Hutt|Inangahua|Inglewood|Kaikoura|Kairanga|Kiwitea|Lake|Mackenzie|Malvern|Manaia|Manawatu|Mangonui|Maniototo|Marlborough|Masterton|Matamata|Mount Herbert|Ohinemuri|Opotiki|Oroua|Otamatea|Otorohanga|Oxford|Pahiatua|Paparua|Patea|Piako|Pohangina|Raglan|Rangiora|Rangitikei|Rodney|Rotorua|Runanga|Saint Kilda|Silverpeaks|Southland|Stewart Island|Stratford|Strathallan|Taranaki|Taumarunui|Taupo|Tauranga|Thames-Coromandel|Tuapeka|Vincent|Waiapu|Waiheke|Waihemo|Waikato|Waikohu|Waimairi|Waimarino|Waimate|Waimate West|Waimea|Waipa|Waipawa|Waipukurau|Wairarapa South|Wairewa|Wairoa|Waitaki|Waitomo|Waitotara|Wallace|Wanganui|Waverley|Westland|Whakatane|Whangarei|Whangaroa|Woodville",t[167]="Atlantico Norte|Atlantico Sur|Boaco|Carazo|Chinandega|Chontales|Esteli|Granada|Jinotega|Leon|Madriz|Managua|Masaya|Matagalpa|Nueva Segovia|Rio San Juan|Rivas",t[168]="Agadez|Diffa|Dosso|Maradi|Niamey|Tahoua|Tillaberi|Zinder",t[169]="Abia|Abuja Federal Capital Territory|Adamawa|Akwa Ibom|Anambra|Bauchi|Bayelsa|Benue|Borno|Cross River|Delta|Ebonyi|Edo|Ekiti|Enugu|Gombe|Imo|Jigawa|Kaduna|Kano|Katsina|Kebbi|Kogi|Kwara|Lagos|Nassarawa|Niger|Ogun|Ondo|Osun|Oyo|Plateau|Rivers|Sokoto|Taraba|Yobe|Zamfara",t[170]="Niue",t[171]="Norfolk Island",t[172]="Northern Islands|Rota|Saipan|Tinian",t[173]="Akershus|Aust-Agder|Buskerud|Finnmark|Hedmark|Hordaland|More og Romsdal|Nord-Trondelag|Nordland|Oppland|Oslo|Ostfold|Rogaland|Sogn og Fjordane|Sor-Trondelag|Telemark|Troms|Vest-Agder|Vestfold",t[174]="Ad Dakhiliyah|Al Batinah|Al Wusta|Ash Sharqiyah|Az Zahirah|Masqat|Musandam|Zufar",t[175]="Balochistan|Federally Administered Tribal Areas|Islamabad Capital Territory|North-West Frontier Province|Punjab|Sindh",t[176]="Aimeliik|Airai|Angaur|Hatobohei|Kayangel|Koror|Melekeok|Ngaraard|Ngarchelong|Ngardmau|Ngatpang|Ngchesar|Ngeremlengui|Ngiwal|Palau Island|Peleliu|Sonsoral|Tobi",t[177]="Bocas del Toro|Chiriqui|Cocle|Colon|Darien|Herrera|Los Santos|Panama|San Blas|Veraguas",t[178]="Bougainville|Central|Chimbu|East New Britain|East Sepik|Eastern Highlands|Enga|Gulf|Madang|Manus|Milne Bay|Morobe|National Capital|New Ireland|Northern|Sandaun|Southern Highlands|West New Britain|Western|Western Highlands",t[179]="Alto Paraguay|Alto Parana|Amambay|Asuncion (city)|Boqueron|Caaguazu|Caazapa|Canindeyu|Central|Concepcion|Cordillera|Guaira|Itapua|Misiones|Neembucu|Paraguari|Presidente Hayes|San Pedro",t[180]="Amazonas|Ancash|Apurimac|Arequipa|Ayacucho|Cajamarca|Callao|Cusco|Huancavelica|Huanuco|Ica|Junin|La Libertad|Lambayeque|Lima|Loreto|Madre de Dios|Moquegua|Pasco|Piura|Puno|San Martin|Tacna|Tumbes|Ucayali",t[181]="Abra|Agusan del Norte|Agusan del Sur|Aklan|Albay|Angeles|Antique|Aurora|Bacolod|Bago|Baguio|Bais|Basilan|Basilan City|Bataan|Batanes|Batangas|Batangas City|Benguet|Bohol|Bukidnon|Bulacan|Butuan|Cabanatuan|Cadiz|Cagayan|Cagayan de Oro|Calbayog|Caloocan|Camarines Norte|Camarines Sur|Camiguin|Canlaon|Capiz|Catanduanes|Cavite|Cavite City|Cebu|Cebu City|Cotabato|Dagupan|Danao|Dapitan|Davao City Davao|Davao del Sur|Davao Oriental|Dipolog|Dumaguete|Eastern Samar|General Santos|Gingoog|Ifugao|Iligan|Ilocos Norte|Ilocos Sur|Iloilo|Iloilo City|Iriga|Isabela|Kalinga-Apayao|La Carlota|La Union|Laguna|Lanao del Norte|Lanao del Sur|Laoag|Lapu-Lapu|Legaspi|Leyte|Lipa|Lucena|Maguindanao|Mandaue|Manila|Marawi|Marinduque|Masbate|Mindoro Occidental|Mindoro Oriental|Misamis Occidental|Misamis Oriental|Mountain|Naga|Negros Occidental|Negros Oriental|North Cotabato|Northern Samar|Nueva Ecija|Nueva Vizcaya|Olongapo|Ormoc|Oroquieta|Ozamis|Pagadian|Palawan|Palayan|Pampanga|Pangasinan|Pasay|Puerto Princesa|Quezon|Quezon City|Quirino|Rizal|Romblon|Roxas|Samar|San Carlos (in Negros Occidental)|San Carlos (in Pangasinan)|San Jose|San Pablo|Silay|Siquijor|Sorsogon|South Cotabato|Southern Leyte|Sultan Kudarat|Sulu|Surigao|Surigao del Norte|Surigao del Sur|Tacloban|Tagaytay|Tagbilaran|Tangub|Tarlac|Tawitawi|Toledo|Trece Martires|Zambales|Zamboanga|Zamboanga del Norte|Zamboanga del Sur",t[182]="Pitcaim Islands",t[183]="Dolnoslaskie|Kujawsko-Pomorskie|Lodzkie|Lubelskie|Lubuskie|Malopolskie|Mazowieckie|Opolskie|Podkarpackie|Podlaskie|Pomorskie|Slaskie|Swietokrzyskie|Warminsko-Mazurskie|Wielkopolskie|Zachodniopomorskie",t[184]="Acores (Azores)|Aveiro|Beja|Braga|Braganca|Castelo Branco|Coimbra|Evora|Faro|Guarda|Leiria|Lisboa|Madeira|Portalegre|Porto|Santarem|Setubal|Viana do Castelo|Vila Real|Viseu",t[185]="Adjuntas|Aguada|Aguadilla|Aguas Buenas|Aibonito|Anasco|Arecibo|Arroyo|Barceloneta|Barranquitas|Bayamon|Cabo Rojo|Caguas|Camuy|Canovanas|Carolina|Catano|Cayey|Ceiba|Ciales|Cidra|Coamo|Comerio|Corozal|Culebra|Dorado|Fajardo|Florida|Guanica|Guayama|Guayanilla|Guaynabo|Gurabo|Hatillo|Hormigueros|Humacao|Isabela|Jayuya|Juana Diaz|Juncos|Lajas|Lares|Las Marias|Las Piedras|Loiza|Luquillo|Manati|Maricao|Maunabo|Mayaguez|Moca|Morovis|Naguabo|Naranjito|Orocovis|Patillas|Penuelas|Ponce|Quebradillas|Rincon|Rio Grande|Sabana Grande|Salinas|San German|San Juan|San Lorenzo|San Sebastian|Santa Isabel|Toa Alta|Toa Baja|Trujillo Alto|Utuado|Vega Alta|Vega Baja|Vieques|Villalba|Yabucoa|Yauco",t[186]="Ad Dawhah|Al Ghuwayriyah|Al Jumayliyah|Al Khawr|Al Wakrah|Ar Rayyan|Jarayan al Batinah|Madinat ash Shamal|Umm Salal",t[187]="Reunion",t[188]="Alba|Arad|Arges|Bacau|Bihor|Bistrita-Nasaud|Botosani|Braila|Brasov|Bucuresti|Buzau|Calarasi|Caras-Severin|Cluj|Constanta|Covasna|Dimbovita|Dolj|Galati|Giurgiu|Gorj|Harghita|Hunedoara|Ialomita|Iasi|Maramures|Mehedinti|Mures|Neamt|Olt|Prahova|Salaj|Satu Mare|Sibiu|Suceava|Teleorman|Timis|Tulcea|Vaslui|Vilcea|Vrancea",t[189]="Adygeya (Maykop)|Aginskiy Buryatskiy (Aginskoye)|Altay (Gorno-Altaysk)|Altayskiy (Barnaul)|Amurskaya (Blagoveshchensk)|Arkhangel'skaya|Astrakhanskaya|Bashkortostan (Ufa)|Belgorodskaya|Bryanskaya|Buryatiya (Ulan-Ude)|Chechnya (Groznyy)|Chelyabinskaya|Chitinskaya|Chukotskiy (Anadyr')|Chuvashiya (Cheboksary)|Dagestan (Makhachkala)|Evenkiyskiy (Tura)|Ingushetiya (Nazran')|Irkutskaya|Ivanovskaya|Kabardino-Balkariya (Nal'chik)|Kaliningradskaya|Kalmykiya (Elista)|Kaluzhskaya|Kamchatskaya (Petropavlovsk-Kamchatskiy)|Karachayevo-Cherkesiya (Cherkessk)|Kareliya (Petrozavodsk)|Kemerovskaya|Khabarovskiy|Khakasiya (Abakan)|Khanty-Mansiyskiy (Khanty-Mansiysk)|Kirovskaya|Komi (Syktyvkar)|Komi-Permyatskiy (Kudymkar)|Koryakskiy (Palana)|Kostromskaya|Krasnodarskiy|Krasnoyarskiy|Kurganskaya|Kurskaya|Leningradskaya|Lipetskaya|Magadanskaya|Mariy-El (Yoshkar-Ola)|Mordoviya (Saransk)|Moskovskaya|Moskva (Moscow)|Murmanskaya|Nenetskiy (Nar'yan-Mar)|Nizhegorodskaya|Novgorodskaya|Novosibirskaya|Omskaya|Orenburgskaya|Orlovskaya (Orel)|Penzenskaya|Permskaya|Primorskiy (Vladivostok)|Pskovskaya|Rostovskaya|Ryazanskaya|Sakha (Yakutsk)|Sakhalinskaya (Yuzhno-Sakhalinsk)|Samarskaya|Sankt-Peterburg (Saint Petersburg)|Saratovskaya|Severnaya Osetiya-Alaniya [North Ossetia] (Vladikavkaz)|Smolenskaya|Stavropol'skiy|Sverdlovskaya (Yekaterinburg)|Tambovskaya|Tatarstan (Kazan')|Taymyrskiy (Dudinka)|Tomskaya|Tul'skaya|Tverskaya|Tyumenskaya|Tyva (Kyzyl)|Udmurtiya (Izhevsk)|Ul'yanovskaya|Ust'-Ordynskiy Buryatskiy (Ust'-Ordynskiy)|Vladimirskaya|Volgogradskaya|Vologodskaya|Voronezhskaya|Yamalo-Nenetskiy (Salekhard)|Yaroslavskaya|Yevreyskaya",t[190]="Butare|Byumba|Cyangugu|Gikongoro|Gisenyi|Gitarama|Kibungo|Kibuye|Kigali Rurale|Kigali-ville|Ruhengeri|Umutara",t[191]="Ascension|Saint Helena|Tristan da Cunha",t[192]="Christ Church Nichola Town|Saint Anne Sandy Point|Saint George Basseterre|Saint George Gingerland|Saint James Windward|Saint John Capisterre|Saint John Figtree|Saint Mary Cayon|Saint Paul Capisterre|Saint Paul Charlestown|Saint Peter Basseterre|Saint Thomas Lowland|Saint Thomas Middle Island|Trinity Palmetto Point",t[193]="Anse-la-Raye|Castries|Choiseul|Dauphin|Dennery|Gros Islet|Laborie|Micoud|Praslin|Soufriere|Vieux Fort",t[194]="Miquelon|Saint Pierre",t[195]="Charlotte|Grenadines|Saint Andrew|Saint David|Saint George|Saint Patrick",t[196]="A'ana|Aiga-i-le-Tai|Atua|Fa'asaleleaga|Gaga'emauga|Gagaifomauga|Palauli|Satupa'itea|Tuamasaga|Va'a-o-Fonoti|Vaisigano",t[197]="Acquaviva|Borgo Maggiore|Chiesanuova|Domagnano|Faetano|Fiorentino|Monte Giardino|San Marino|Serravalle",t[198]="Principe|Sao Tome",t[199]="'Asir|Al Bahah|Al Hudud ash Shamaliyah|Al Jawf|Al Madinah|Al Qasim|Ar Riyad|Ash Sharqiyah (Eastern Province)|Ha'il|Jizan|Makkah|Najran|Tabuk",t[200]="Aberdeen City|Aberdeenshire|Angus|Argyll and Bute|City of Edinburgh|Clackmannanshire|Dumfries and Galloway|Dundee City|East Ayrshire|East Dunbartonshire|East Lothian|East Renfrewshire|Eilean Siar (Western Isles)|Falkirk|Fife|Glasgow City|Highland|Inverclyde|Midlothian|Moray|North Ayrshire|North Lanarkshire|Orkney Islands|Perth and Kinross|Renfrewshire|Shetland Islands|South Ayrshire|South Lanarkshire|Stirling|The Scottish Borders|West Dunbartonshire|West Lothian",t[201]="Dakar|Diourbel|Fatick|Kaolack|Kolda|Louga|Saint-Louis|Tambacounda|Thies|Ziguinchor",t[202]="Anse aux Pins|Anse Boileau|Anse Etoile|Anse Louis|Anse Royale|Baie Lazare|Baie Sainte Anne|Beau Vallon|Bel Air|Bel Ombre|Cascade|Glacis|Grand' Anse (on Mahe)|Grand' Anse (on Praslin)|La Digue|La Riviere Anglaise|Mont Buxton|Mont Fleuri|Plaisance|Pointe La Rue|Port Glaud|Saint Louis|Takamaka",t[203]="Eastern|Northern|Southern|Western",t[204]="Singapore",t[205]="Banskobystricky|Bratislavsky|Kosicky|Nitriansky|Presovsky|Trenciansky|Trnavsky|Zilinsky",t[206]="Ajdovscina|Beltinci|Bled|Bohinj|Borovnica|Bovec|Brda|Brezice|Brezovica|Cankova-Tisina|Celje|Cerklje na Gorenjskem|Cerknica|Cerkno|Crensovci|Crna na Koroskem|Crnomelj|Destrnik-Trnovska Vas|Divaca|Dobrepolje|Dobrova-Horjul-Polhov Gradec|Dol pri Ljubljani|Domzale|Dornava|Dravograd|Duplek|Gorenja Vas-Poljane|Gorisnica|Gornja Radgona|Gornji Grad|Gornji Petrovci|Grosuplje|Hodos Salovci|Hrastnik|Hrpelje-Kozina|Idrija|Ig|Ilirska Bistrica|Ivancna Gorica|Izola|Jesenice|Jursinci|Kamnik|Kanal|Kidricevo|Kobarid|Kobilje|Kocevje|Komen|Koper|Kozje|Kranj|Kranjska Gora|Krsko|Kungota|Kuzma|Lasko|Lenart|Lendava|Litija|Ljubljana|Ljubno|Ljutomer|Logatec|Loska Dolina|Loski Potok|Luce|Lukovica|Majsperk|Maribor|Medvode|Menges|Metlika|Mezica|Miren-Kostanjevica|Mislinja|Moravce|Moravske Toplice|Mozirje|Murska Sobota|Muta|Naklo|Nazarje|Nova Gorica|Novo Mesto|Odranci|Ormoz|Osilnica|Pesnica|Piran|Pivka|Podcetrtek|Podvelka-Ribnica|Postojna|Preddvor|Ptuj|Puconci|Race-Fram|Radece|Radenci|Radlje ob Dravi|Radovljica|Ravne-Prevalje|Ribnica|Rogasevci|Rogaska Slatina|Rogatec|Ruse|Semic|Sencur|Sentilj|Sentjernej|Sentjur pri Celju|Sevnica|Sezana|Skocjan|Skofja Loka|Skofljica|Slovenj Gradec|Slovenska Bistrica|Slovenske Konjice|Smarje pri Jelsah|Smartno ob Paki|Sostanj|Starse|Store|Sveti Jurij|Tolmin|Trbovlje|Trebnje|Trzic|Turnisce|Velenje|Velike Lasce|Videm|Vipava|Vitanje|Vodice|Vojnik|Vrhnika|Vuzenica|Zagorje ob Savi|Zalec|Zavrc|Zelezniki|Ziri|Zrece",t[207]="Bellona|Central|Choiseul (Lauru)|Guadalcanal|Honiara|Isabel|Makira|Malaita|Rennell|Temotu|Western",t[208]="Awdal|Bakool|Banaadir|Bari|Bay|Galguduud|Gedo|Hiiraan|Jubbada Dhexe|Jubbada Hoose|Mudug|Nugaal|Sanaag|Shabeellaha Dhexe|Shabeellaha Hoose|Sool|Togdheer|Woqooyi Galbeed",t[209]="Eastern Cape|Free State|Gauteng|KwaZulu-Natal|Mpumalanga|North-West|Northern Cape|Northern Province|Western Cape",t[210]="Bird Island|Bristol Island|Clerke Rocks|Montagu Island|Saunders Island|South Georgia|Southern Thule|Traversay Islands",t[211]="Andalucia|Aragon|Asturias|Baleares (Balearic Islands)|Canarias (Canary Islands)|Cantabria|Castilla y Leon|Castilla-La Mancha|Cataluna|Ceuta|Communidad Valencian|Extremadura|Galicia|Islas Chafarinas|La Rioja|Madrid|Melilla|Murcia|Navarra|Pais Vasco (Basque Country)|Penon de Alhucemas|Penon de Velez de la Gomera",t[212]="Spratly Islands",t[213]="Central|Eastern|North Central|North Eastern|North Western|Northern|Sabaragamuwa|Southern|Uva|Western",t[214]="A'ali an Nil|Al Bahr al Ahmar|Al Buhayrat|Al Jazirah|Al Khartum|Al Qadarif|Al Wahdah|An Nil al Abyad|An Nil al Azraq|Ash Shamaliyah|Bahr al Jabal|Gharb al Istiwa'iyah|Gharb Bahr al Ghazal|Gharb Darfur|Gharb Kurdufan|Janub Darfur|Janub Kurdufan|Junqali|Kassala|Nahr an Nil|Shamal Bahr al Ghazal|Shamal Darfur|Shamal Kurdufan|Sharq al Istiwa'iyah|Sinnar|Warab",t[215]="Brokopondo|Commewijne|Coronie|Marowijne|Nickerie|Para|Paramaribo|Saramacca|Sipaliwini|Wanica",t[216]="Barentsoya|Bjornoya|Edgeoya|Hopen|Kvitoya|Nordaustandet|Prins Karls Forland|Spitsbergen",t[217]="Hhohho|Lubombo|Manzini|Shiselweni",t[218]="Blekinge|Dalarnas|Gavleborgs|Gotlands|Hallands|Jamtlands|Jonkopings|Kalmar|Kronobergs|Norrbottens|Orebro|Ostergotlands|Skane|Sodermanlands|Stockholms|Uppsala|Varmlands|Vasterbottens|Vasternorrlands|Vastmanlands|Vastra Gotalands",t[219]="Aargau|Ausser-Rhoden|Basel-Landschaft|Basel-Stadt|Bern|Fribourg|Geneve|Glarus|Graubunden|Inner-Rhoden|Jura|Luzern|Neuchatel|Nidwalden|Obwalden|Sankt Gallen|Schaffhausen|Schwyz|Solothurn|Thurgau|Ticino|Uri|Valais|Vaud|Zug|Zurich",t[220]="Al Hasakah|Al Ladhiqiyah|Al Qunaytirah|Ar Raqqah|As Suwayda'|Dar'a|Dayr az Zawr|Dimashq|Halab|Hamah|Hims|Idlib|Rif Dimashq|Tartus",t[221]="Chang-hua|Chi-lung|Chia-i|Chia-i|Chung-hsing-hsin-ts'un|Hsin-chu|Hsin-chu|Hua-lien|I-lan|Kao-hsiung|Kao-hsiung|Miao-li|Nan-t'ou|P'eng-hu|P'ing-tung|T'ai-chung|T'ai-chung|T'ai-nan|T'ai-nan|T'ai-pei|T'ai-pei|T'ai-tung|T'ao-yuan|Yun-lin",t[222]="Viloyati Khatlon|Viloyati Leninobod|Viloyati Mukhtori Kuhistoni Badakhshon",t[223]="Arusha|Dar es Salaam|Dodoma|Iringa|Kagera|Kigoma|Kilimanjaro|Lindi|Mara|Mbeya|Morogoro|Mtwara|Mwanza|Pemba North|Pemba South|Pwani|Rukwa|Ruvuma|Shinyanga|Singida|Tabora|Tanga|Zanzibar Central/South|Zanzibar North|Zanzibar Urban/West",t[224]="Amnat Charoen|Ang Thong|Buriram|Chachoengsao|Chai Nat|Chaiyaphum|Chanthaburi|Chiang Mai|Chiang Rai|Chon Buri|Chumphon|Kalasin|Kamphaeng Phet|Kanchanaburi|Khon Kaen|Krabi|Krung Thep Mahanakhon (Bangkok)|Lampang|Lamphun|Loei|Lop Buri|Mae Hong Son|Maha Sarakham|Mukdahan|Nakhon Nayok|Nakhon Pathom|Nakhon Phanom|Nakhon Ratchasima|Nakhon Sawan|Nakhon Si Thammarat|Nan|Narathiwat|Nong Bua Lamphu|Nong Khai|Nonthaburi|Pathum Thani|Pattani|Phangnga|Phatthalung|Phayao|Phetchabun|Phetchaburi|Phichit|Phitsanulok|Phra Nakhon Si Ayutthaya|Phrae|Phuket|Prachin Buri|Prachuap Khiri Khan|Ranong|Ratchaburi|Rayong|Roi Et|Sa Kaeo|Sakon Nakhon|Samut Prakan|Samut Sakhon|Samut Songkhram|Sara Buri|Satun|Sing Buri|Sisaket|Songkhla|Sukhothai|Suphan Buri|Surat Thani|Surin|Tak|Trang|Trat|Ubon Ratchathani|Udon Thani|Uthai Thani|Uttaradit|Yala|Yasothon",t[225]="Tobago",t[226]="De La Kara|Des Plateaux|Des Savanes|Du Centre|Maritime",t[227]="Atafu|Fakaofo|Nukunonu",t[228]="Ha'apai|Tongatapu|Vava'u",t[229]="Arima|Caroni|Mayaro|Nariva|Port-of-Spain|Saint Andrew|Saint David|Saint George|Saint Patrick|San Fernando|Victoria",t[230]="Ariana|Beja|Ben Arous|Bizerte|El Kef|Gabes|Gafsa|Jendouba|Kairouan|Kasserine|Kebili|Mahdia|Medenine|Monastir|Nabeul|Sfax|Sidi Bou Zid|Siliana|Sousse|Tataouine|Tozeur|Tunis|Zaghouan",t[231]="Adana|Adiyaman|Afyon|Agri|Aksaray|Amasya|Ankara|Antalya|Ardahan|Artvin|Aydin|Balikesir|Bartin|Batman|Bayburt|Bilecik|Bingol|Bitlis|Bolu|Burdur|Bursa|Canakkale|Cankiri|Corum|Denizli|Diyarbakir|Duzce|Edirne|Elazig|Erzincan|Erzurum|Eskisehir|Gaziantep|Giresun|Gumushane|Hakkari|Hatay|Icel|Igdir|Isparta|Istanbul|Izmir|Kahramanmaras|Karabuk|Karaman|Kars|Kastamonu|Kayseri|Kilis|Kirikkale|Kirklareli|Kirsehir|Kocaeli|Konya|Kutahya|Malatya|Manisa|Mardin|Mugla|Mus|Nevsehir|Nigde|Ordu|Osmaniye|Rize|Sakarya|Samsun|Sanliurfa|Siirt|Sinop|Sirnak|Sivas|Tekirdag|Tokat|Trabzon|Tunceli|Usak|Van|Yalova|Yozgat|Zonguldak",t[232]="Ahal Welayaty|Balkan Welayaty|Dashhowuz Welayaty|Lebap Welayaty|Mary Welayaty",t[233]="Tuvalu",t[234]="Adjumani|Apac|Arua|Bugiri|Bundibugyo|Bushenyi|Busia|Gulu|Hoima|Iganga|Jinja|Kabale|Kabarole|Kalangala|Kampala|Kamuli|Kapchorwa|Kasese|Katakwi|Kibale|Kiboga|Kisoro|Kitgum|Kotido|Kumi|Lira|Luwero|Masaka|Masindi|Mbale|Mbarara|Moroto|Moyo|Mpigi|Mubende|Mukono|Nakasongola|Nebbi|Ntungamo|Pallisa|Rakai|Rukungiri|Sembabule|Soroti|Tororo",t[235]="Avtonomna Respublika Krym (Simferopol')|Cherkas'ka (Cherkasy)|Chernihivs'ka (Chernihiv)|Chernivets'ka (Chernivtsi)|Dnipropetrovs'ka (Dnipropetrovs'k)|Donets'ka (Donets'k)|Ivano-Frankivs'ka (Ivano-Frankivs'k)|Kharkivs'ka (Kharkiv)|Khersons'ka (Kherson)|Khmel'nyts'ka (Khmel'nyts'kyy)|Kirovohrads'ka (Kirovohrad)|Kyyiv|Kyyivs'ka (Kiev)|L'vivs'ka (L'viv)|Luhans'ka (Luhans'k)|Mykolayivs'ka (Mykolayiv)|Odes'ka (Odesa)|Poltavs'ka (Poltava)|Rivnens'ka (Rivne)|Sevastopol'|Sums'ka (Sumy)|Ternopil's'ka (Ternopil')|Vinnyts'ka (Vinnytsya)|Volyns'ka (Luts'k)|Zakarpats'ka (Uzhhorod)|Zaporiz'ka (Zaporizhzhya)|Zhytomyrs'ka (Zhytomyr)",t[236]="'Ajman|Abu Zaby (Abu Dhabi)|Al Fujayrah|Ash Shariqah (Sharjah)|Dubayy (Dubai)|Ra's al Khaymah|Umm al Qaywayn",t[237]="Barking and Dagenham|Barnet|Barnsley|Bath and North East Somerset|Bedfordshire|Bexley|Birmingham|Blackburn with Darwen|Blackpool|Bolton|Bournemouth|Bracknell Forest|Bradford|Brent|Brighton and Hove|Bromley|Buckinghamshire|Bury|Calderdale|Cambridgeshire|Camden|Cheshire|City of Bristol|City of Kingston upon Hull|City of London|Cornwall|Coventry|Croydon|Cumbria|Darlington|Derby|Derbyshire|Devon|Doncaster|Dorset|Dudley|Durham|Ealing|East Riding of Yorkshire|East Sussex|Enfield|Essex|Gateshead|Gloucestershire|Greenwich|Hackney|Halton|Hammersmith and Fulham|Hampshire|Haringey|Harrow|Hartlepool|Havering|Herefordshire|Hertfordshire|Hillingdon|Hounslow|Isle of Wight|Islington|Kensington and Chelsea|Kent|Kingston upon Thames|Kirklees|Knowsley|Lambeth|Lancashire|Leeds|Leicester|Leicestershire|Lewisham|Lincolnshire|Liverpool|Luton|Manchester|Medway|Merton|Middlesbrough|Milton Keynes|Newcastle upon Tyne|Newham|Norfolk|North East Lincolnshire|North Lincolnshire|North Somerset|North Tyneside|North Yorkshire|Northamptonshire|Northumberland|Nottingham|Nottinghamshire|Oldham|Oxfordshire|Peterborough|Plymouth|Poole|Portsmouth|Reading|Redbridge|Redcar and Cleveland|Richmond upon Thames|Rochdale|Rotherham|Rutland|Salford|Sandwell|Sefton|Sheffield|Shropshire|Slough|Solihull|Somerset|South Gloucestershire|South Tyneside|Southampton|Southend-on-Sea|Southwark|St. Helens|Staffordshire|Stockport|Stockton-on-Tees|Stoke-on-Trent|Suffolk|Sunderland|Surrey|Sutton|Swindon|Tameside|Telford and Wrekin|Thurrock|Torbay|Tower Hamlets|Trafford|Wakefield|Walsall|Waltham Forest|Wandsworth|Warrington|Warwickshire|West Berkshire|West Sussex|Westminster|Wigan|Wiltshire|Windsor and Maidenhead|Wirral|Wokingham|Wolverhampton|Worcestershire|York",t[238]="Artigas|Canelones|Cerro Largo|Colonia|Durazno|Flores|Florida|Lavalleja|Maldonado|Montevideo|Paysandu|Rio Negro|Rivera|Rocha|Salto|San Jose|Soriano|Tacuarembo|Treinta y Tres",t[239]="Alabama|Alaska|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indiana|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming",t[240]="Andijon Wiloyati|Bukhoro Wiloyati|Farghona Wiloyati|Jizzakh Wiloyati|Khorazm Wiloyati (Urganch)|Namangan Wiloyati|Nawoiy Wiloyati|Qashqadaryo Wiloyati (Qarshi)|Qoraqalpoghiston (Nukus)|Samarqand Wiloyati|Sirdaryo Wiloyati (Guliston)|Surkhondaryo Wiloyati (Termiz)|Toshkent Shahri|Toshkent Wiloyati",t[241]="Malampa|Penama|Sanma|Shefa|Tafea|Torba",t[242]="Amazonas|Anzoategui|Apure|Aragua|Barinas|Bolivar|Carabobo|Cojedes|Delta Amacuro|Dependencias Federales|Distrito Federal|Falcon|Guarico|Lara|Merida|Miranda|Monagas|Nueva Esparta|Portuguesa|Sucre|Tachira|Trujillo|Vargas|Yaracuy|Zulia",t[243]="An Giang|Ba Ria-Vung Tau|Bac Giang|Bac Kan|Bac Lieu|Bac Ninh|Ben Tre|Binh Dinh|Binh Duong|Binh Phuoc|Binh Thuan|Ca Mau|Can Tho|Cao Bang|Da Nang|Dac Lak|Dong Nai|Dong Thap|Gia Lai|Ha Giang|Ha Nam|Ha Noi|Ha Tay|Ha Tinh|Hai Duong|Hai Phong|Ho Chi Minh|Hoa Binh|Hung Yen|Khanh Hoa|Kien Giang|Kon Tum|Lai Chau|Lam Dong|Lang Son|Lao Cai|Long An|Nam Dinh|Nghe An|Ninh Binh|Ninh Thuan|Phu Tho|Phu Yen|Quang Binh|Quang Nam|Quang Ngai|Quang Ninh|Quang Tri|Soc Trang|Son La|Tay Ninh|Thai Binh|Thai Nguyen|Thanh Hoa|Thua Thien-Hue|Tien Giang|Tra Vinh|Tuyen Quang|Vinh Long|Vinh Phuc|Yen Bai",t[244]="Saint Croix|Saint John|Saint Thomas",t[245]="Blaenau Gwent|Bridgend|Caerphilly|Cardiff|Carmarthenshire|Ceredigion|Conwy|Denbighshire|Flintshire|Gwynedd|Isle of Anglesey|Merthyr Tydfil|Monmouthshire|Neath Port Talbot|Newport|Pembrokeshire|Powys|Rhondda Cynon Taff|Swansea|The Vale of Glamorgan|Torfaen|Wrexham",t[246]="Alo|Sigave|Wallis",t[247]="West Bank",t[248]="Western Sahara",t[249]="'Adan|'Ataq|Abyan|Al Bayda'|Al Hudaydah|Al Jawf|Al Mahrah|Al Mahwit|Dhamar|Hadhramawt|Hajjah|Ibb|Lahij|Ma'rib|Sa'dah|San'a'|Ta'izz",t[250]="Kosovo|Montenegro|Serbia|Vojvodina",t[251]="Central|Copperbelt|Eastern|Luapula|Lusaka|North-Western|Northern|Southern|Western",t[252]="Bulawayo|Harare|ManicalandMashonaland Central|Mashonaland East|Mashonaland West|Masvingo|Matabeleland North|Matabeleland South|Midlands",this.states=t}}}).directive("countrySelect",countryDirective).directive("stateSelect",stateDirective),countryDirective.$inject=["src"],stateDirective.$inject=["src","$timeout"],angular.module("reCAPTCHA",[]).provider("reCAPTCHA",function(){var t=null,e={},n=this;this.setPublicKey=function(e){t=e},this.setOptions=function(t){e=t},this._createScript=function(t,e){var n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="//www.google.com/recaptcha/api/js/recaptcha_ajax.js",n.onreadystatechange=function(){"complete"==this.readyState&&e()},n.onload=e;var i=t.getElementsByTagName("body")[0];i.appendChild(n)},this.$get=["$q","$rootScope","$window","$document",function(i,r,o,a){var s=i.defer();return o.Recaptcha?s.resolve():n._createScript(a[0],s.resolve),{create:function(n,i){if(!t)throw new Error("Please provide your PublicKey via setPublicKey");e.callback=i,s.promise.then(function(){o.Recaptcha.create(t,n,e)})},setPublicKey:function(e){t=e},response:function(){return o.Recaptcha.get_response()},challenge:function(){return o.Recaptcha.get_challenge()},reload:function(){return o.Recaptcha.reload()},destroy:function(){o.Recaptcha&&o.Recaptcha.destroy()}}}]}).directive("reCaptcha",["reCAPTCHA","$compile",function(t,e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(n,i,r,o){r.name||"reCaptcha";n.clear=function(){n.ngModel={response:"",challenge:!1}},t.create(i[0],function(){n.clear(),n.$watch(function(){return t.challenge()},function(t){n.ngModel.challenge=t}),e(angular.element(document.querySelector("input#recaptcha_response_field")).attr("ng-required","true"))(n),e(angular.element(document.querySelector("input#recaptcha_response_field")).attr("ng-model","ngModel.response"))(n),e(angular.element(document.querySelector("a#recaptcha_reload_btn")).attr("ng-click","clear()"))(n)}),n.$on("$destroy",t.destroy)}}}]),/**
 * @license angular-recaptcha build:2017-04-24
 * https://github.com/vividcortex/angular-recaptcha
 * Copyright (c) 2017 VividCortex
**/
function(t){"use strict";t.module("vcRecaptcha",[])}(angular),function(t){"use strict";function e(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')}var n=t.module("vcRecaptcha");n.provider("vcRecaptchaService",function(){var n=this,i={};n.onLoadFunctionName="vcRecaptchaApiLoaded",n.setDefaults=function(e){t.copy(e,i)},n.setSiteKey=function(t){i.key=t},n.setTheme=function(t){i.theme=t},n.setStoken=function(t){i.stoken=t},n.setSize=function(t){i.size=t},n.setType=function(t){i.type=t},n.setLang=function(t){i.lang=t},n.setBadge=function(t){i.badge=t},n.setOnLoadFunctionName=function(t){n.onLoadFunctionName=t},n.$get=["$rootScope","$window","$q","$document",function(r,o,a,s){function l(){return c?a.when(c):h}function u(){if(!c)throw new Error("reCaptcha has not been loaded yet.")}var c,d=a.defer(),h=d.promise,p={};o.vcRecaptchaApiLoadedCallback=o.vcRecaptchaApiLoadedCallback||[];var f=function(){c=o.grecaptcha,d.resolve(c)};if(o.vcRecaptchaApiLoadedCallback.push(f),o[n.onLoadFunctionName]=function(){o.vcRecaptchaApiLoadedCallback.forEach(function(t){t()})},t.isDefined(o.grecaptcha))f();else{var g=o.document.createElement("script");g.async=!0,g.defer=!0,g.src="https://www.google.com/recaptcha/api.js?onload="+n.onLoadFunctionName+"&render=explicit",s.find("body").append(g)}return{create:function(t,n){return n.sitekey=n.key||i.key,n.theme=n.theme||i.theme,n.stoken=n.stoken||i.stoken,n.size=n.size||i.size,n.type=n.type||i.type,n.hl=n.lang||i.lang,n.badge=n.badge||i.badge,n.sitekey&&40===n.sitekey.length||e(),l().then(function(e){var i=e.render(t,n);return p[i]=t,i})},reload:function(t){u(),c.reset(t),r.$broadcast("reCaptchaReset",t)},execute:function(t){u(),c.execute(t)},useLang:function(t,e){var n=p[t];if(!n)throw new Error("reCaptcha Widget ID not exists",t);var i=n.querySelector("iframe");if(!e)return i&&i.src&&/[?&]hl=\w+/.test(i.src)?i.src.replace(/.+[?&]hl=(\w+)([^\w].+)?/,"$1"):null;if(i&&i.src){var r=i.src;/[?&]hl=/.test(r)?r=r.replace(/([?&]hl=)\w+/,"$1"+e):r+=(-1===r.indexOf("?")?"?":"&")+"hl="+e,i.src=r}},getResponse:function(t){return u(),c.getResponse(t)},getInstance:function(t){return p[t]},destroy:function(t){delete p[t]}}}]})}(angular),function(t){"use strict";var e=t.module("vcRecaptcha");e.directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(e,n,i){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=?",stoken:"=?",theme:"=?",size:"=?",type:"=?",lang:"=?",badge:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(r,o,a,s){function l(){s&&s.$setValidity("recaptcha",null),d()}function u(){n(function(){r.response="",c(),r.onExpire({widgetId:r.widgetId})})}function c(){s&&s.$setValidity("recaptcha",r.required===!1?null:Boolean(r.response))}function d(){i.destroy(r.widgetId),t.element(e[0].querySelectorAll(".pls-container")).parent().remove()}r.widgetId=null,s&&t.isDefined(a.required)&&r.$watch("required",c);var h=r.$watch("key",function(e){var s=function(t){n(function(){r.response=t,c(),r.onSuccess({response:t,widgetId:r.widgetId})})};i.create(o[0],{callback:s,key:e,stoken:r.stoken||a.stoken||null,theme:r.theme||a.theme||null,type:r.type||a.type||null,lang:r.lang||a.lang||null,tabindex:r.tabindex||a.tabindex||null,size:r.size||a.size||null,badge:r.badge||a.badge||null,"expired-callback":u}).then(function(e){c(),r.widgetId=e,r.onCreate({widgetId:e}),r.$on("$destroy",l),r.$on("reCaptchaReset",function(n,i){(t.isUndefined(i)||e===i)&&(r.response="",c())})}),h()})}}}])}(angular),SOAPClientParameters._serialize=function(t){var e="";switch(typeof t){case"string":e+=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");break;case"number":case"boolean":e+=t.toString();break;case"object":if(t.constructor.toString().indexOf("function Date()")>-1){var n=t.getFullYear().toString(),i=(t.getMonth()+1).toString();i=1==i.length?"0"+i:i;var r=t.getDate().toString();r=1==r.length?"0"+r:r;var o=t.getHours().toString();o=1==o.length?"0"+o:o;var a=t.getMinutes().toString();a=1==a.length?"0"+a:a;var s=t.getSeconds().toString();s=1==s.length?"0"+s:s;for(var l=t.getMilliseconds().toString(),u=Math.abs(t.getTimezoneOffset()),c=0;u>=60;)c++,u-=60;u=1==u.toString().length?"0"+u.toString():u.toString(),c=1==c.toString().length?"0"+c.toString():c.toString();var d=(t.getTimezoneOffset()<0?"+":"-")+c+":"+u;e+=n+"-"+i+"-"+r+"T"+o+":"+a+":"+s+"."+l+d}else if(t.constructor.toString().indexOf("function Array()")>-1)for(var h in t)if(isNaN(h))e+="<"+h+">"+SOAPClientParameters._serialize(t[h])+"</"+h+">";else{/function\s+(\w*)\s*\(/gi.exec(t[h].constructor.toString());var p=RegExp.$1;switch(p){case"":p=typeof t[h];case"String":p="string";break;case"Number":p="int";break;case"Boolean":p="bool";break;case"Date":p="DateTime"}e+="<"+p+">"+SOAPClientParameters._serialize(t[h])+"</"+p+">"}else for(var h in t)e+="<"+h+">"+SOAPClientParameters._serialize(t[h])+"</"+h+">"}return e},SOAPClient.username=null,SOAPClient.password=null,SOAPClient.invoke=function(t,e,n,i,r){return i?void SOAPClient._loadWsdl(t,e,n,i,r):SOAPClient._loadWsdl(t,e,n,i,r)},SOAPClient_cacheWsdl=new Array,SOAPClient._loadWsdl=function(t,e,n,i,r){var o=SOAPClient_cacheWsdl[t];if(o+""!=""&&o+""!="undefined")return SOAPClient._sendSoapRequest(t,e,n,i,r,o);var a=SOAPClient._getXmlHttp();return SOAPClient.username&&SOAPClient.password?(a.open("GET",t+"?wsdl",i,SOAPClient.username,SOAPClient.password),a.setRequestHeader("Authorization","Basic "+SOAPClient._toBase64(SOAPClient.username+":"+SOAPClient.password))):a.open("GET",t+"?wsdl",i),i&&(a.onreadystatechange=function(){4==a.readyState&&SOAPClient._onLoadWsdl(t,e,n,i,r,a)}),a.send(null),i?void 0:SOAPClient._onLoadWsdl(t,e,n,i,r,a)},SOAPClient._onLoadWsdl=function(t,e,n,i,r,o){var a=o.responseXML;return SOAPClient_cacheWsdl[t]=a,SOAPClient._sendSoapRequest(t,e,n,i,r,a)},SOAPClient._sendSoapRequest=function(t,e,n,i,r,o){var a=o.documentElement.attributes.targetNamespace+""=="undefined"?o.documentElement.attributes.getNamedItem("targetNamespace").nodeValue:o.documentElement.attributes.targetNamespace.value,s='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><'+e+' xmlns="'+a+'">'+n.toXml()+"</"+e+"></soap:Body></soap:Envelope>",l=SOAPClient._getXmlHttp();SOAPClient.username&&SOAPClient.password?(l.open("POST",t,i,SOAPClient.username,SOAPClient.password),l.setRequestHeader("Authorization","Basic "+SOAPClient._toBase64(SOAPClient.username+":"+SOAPClient.password))):l.open("POST",t,i);var u=(a.lastIndexOf("/")!=a.length-1?a+"/":a)+encodeURIComponent(e);return l.setRequestHeader("SOAPAction",u),l.setRequestHeader("Content-Type","text/xml; charset=utf-8"),i&&(l.onreadystatechange=function(){4==l.readyState&&SOAPClient._onSendSoapRequest(e,i,r,o,l)}),l.send(s),i?void 0:SOAPClient._onSendSoapRequest(e,i,r,o,l)},SOAPClient._onSendSoapRequest=function(t,e,n,i,r){var o=null,a=SOAPClient._getElementsByTagName(r.responseXML,t+"Result");if(0==a.length&&(a=SOAPClient._getElementsByTagName(r.responseXML,"return")),0==a.length){if(r.responseXML.getElementsByTagName("faultcode").length>0){if(!e&&!n)throw new Error(500,r.responseXML.getElementsByTagName("faultstring")[0].childNodes[0].nodeValue);o=new Error(500,r.responseXML.getElementsByTagName("faultstring")[0].childNodes[0].nodeValue)}}else o=SOAPClient._soapresult2object(a[0],i);return n&&n(o,r.responseXML),e?void 0:o},SOAPClient._soapresult2object=function(t,e){var n=SOAPClient._getTypesFromWsdl(e);return SOAPClient._node2object(t,n)},SOAPClient._node2object=function(t,e){if(null==t)return null;if(3==t.nodeType||4==t.nodeType)return SOAPClient._extractValue(t,e);if(1==t.childNodes.length&&(3==t.childNodes[0].nodeType||4==t.childNodes[0].nodeType))return SOAPClient._node2object(t.childNodes[0],e);var n=-1!=SOAPClient._getTypeFromWsdl(t.nodeName,e).toLowerCase().indexOf("arrayof");if(n){for(var i=new Array,r=0;r<t.childNodes.length;r++)i[i.length]=SOAPClient._node2object(t.childNodes[r],e);return i}var o=null;t.hasChildNodes()&&(o=new Object);for(var r=0;r<t.childNodes.length;r++){var a=SOAPClient._node2object(t.childNodes[r],e);o[t.childNodes[r].nodeName]=a}return o},SOAPClient._extractValue=function(t,e){var n=t.nodeValue;switch(SOAPClient._getTypeFromWsdl(t.parentNode.nodeName,e).toLowerCase()){default:case"s:string":return null!=n?n+"":"";case"s:boolean":return n+""=="true";case"s:int":case"s:long":return null!=n?parseInt(n+"",10):0;case"s:double":return null!=n?parseFloat(n+""):0;case"s:datetime":if(null==n)return null;n+="",n=n.substring(0,-1==n.lastIndexOf(".")?n.length:n.lastIndexOf(".")),n=n.replace(/T/gi," "),n=n.replace(/-/gi,"/");var i=new Date;return i.setTime(Date.parse(n)),i}},SOAPClient._getTypesFromWsdl=function(t){var e=new Array,n=t.getElementsByTagName("s:element"),i=!0;0==n.length&&(n=t.getElementsByTagName("element"),i=!1);for(var r=0;r<n.length;r++)i?null!=n[r].attributes.getNamedItem("name")&&null!=n[r].attributes.getNamedItem("type")&&(e[n[r].attributes.getNamedItem("name").nodeValue]=n[r].attributes.getNamedItem("type").nodeValue):null!=n[r].attributes.name&&null!=n[r].attributes.type&&(e[n[r].attributes.name.value]=n[r].attributes.type.value);return e},SOAPClient._getTypeFromWsdl=function(t,e){var n=e[t]+"";return"undefined"==n?"":n},SOAPClient._getElementsByTagName=function(t,e){try{return t.selectNodes('.//*[local-name()="'+e+'"]')}catch(n){}return t.getElementsByTagName(e)},SOAPClient._getXmlHttp=function(){try{if(window.XMLHttpRequest){var t=new XMLHttpRequest;return null==t.readyState&&(t.readyState=1,t.addEventListener("load",function(){t.readyState=4,"function"==typeof t.onreadystatechange&&t.onreadystatechange()},!1)),t}if(window.ActiveXObject)return new ActiveXObject(SOAPClient._getXmlHttpProgID())}catch(e){}throw new Error("Your browser does not support XmlHttp objects")},SOAPClient._getXmlHttpProgID=function(){if(SOAPClient._getXmlHttpProgID.progid)return SOAPClient._getXmlHttpProgID.progid;for(var t,e=["Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++)try{return t=new ActiveXObject(e[n]),SOAPClient._getXmlHttpProgID.progid=e[n]}catch(i){}throw new Error("Could not find an installed XML parser")},SOAPClient._toBase64=function(t){var e,n,i,r,o,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;do e=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c++),r=e>>2,o=(3&e)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+l.charAt(r)+l.charAt(o)+l.charAt(a)+l.charAt(s);while(c<t.length);return u},angular.module("angularSoap",[]).factory("$soap",["$q",function(t){return{post:function(e,n,i){var r=t.defer(),o=new SOAPClientParameters;for(var a in i)o.add(a,i[a]);var s=function(t){-1!=t.constructor.toString().indexOf("function Error()")?r.reject("An error has occurred."):r.resolve(t)};return SOAPClient.invoke(e,n,o,!0,s),r.promise},setCredentials:function(t,e){SOAPClient.username=t,SOAPClient.password=e}}}]),/**
   * angular-bootstrap-confirm - Displays a bootstrap confirmation popover when clicking the given element.
   * @version v2.5.1
   * @link https://github.com/mattlewis92/angular-bootstrap-confirm
   * @license MIT
   */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular"),require("angular-sanitize")):"function"==typeof define&&define.amd?define(["angular","angular-sanitize"],e):"object"==typeof exports?exports.angularBootstrapConfirmModuleName=e(require("angular"),require("angular-sanitize")):t.angularBootstrapConfirmModuleName=e(t.angular,t["angular-sanitize"])}(this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1),r=n(2);n(3),n(1);var o="angular-bootstrap-confirm.html";t.exports=i.module("mwl.confirm",["ngSanitize","ui.bootstrap.position"]).run(["$templateCache",function(t){t.put(o,r)}]).controller("PopoverConfirmCtrl",["$scope","$rootScope","$element","$attrs","$compile","$document","$window","$timeout","$injector","$templateRequest","$parse","$log","$animate","confirmationPopoverDefaults",function(t,e,n,r,o,a,s,l,u,c,d,h,p,f){function g(e,n){var o=r[e];i.isDefined(o)&&(d(o).assign?d(o).assign(t,n):h.warn("Could not set value of "+e+" to "+n+". This is normally because the value is not a variable."))}function m(e,n,r){return i.isDefined(e)?d(e)(t,r):n}function v(){E.then(function(t){var e=S.positionElements(n,t,r.placement||k.defaults.placement,!0);e.top+="px",e.left+="px",t.css(e)})}function y(){var t=r.focusButton||k.defaults.focusButton;t&&E.then(function(e){var n=t+"-button";e[0].getElementsByClassName(n)[0].focus()})}function b(){k.isVisible||m(r.isDisabled,!1)||E.then(function(t){t.css({display:"block"}),T&&p.addClass(t,"in"),v(),y(),k.isVisible=!0,g("isOpen",!0)})}function w(){k.isVisible&&E.then(function(t){T&&p.removeClass(t,"in"),t.css({display:"none"}),k.isVisible=!1,g("isOpen",!1)})}function _(){k.isVisible?w():b()}function C(t){E.then(function(e){!k.isVisible||e[0].contains(t.target)||n[0].contains(t.target)||w()})}var k=this;k.defaults=f,k.$attrs=r;var x=u.has("$uibPosition")?"$uibPosition":"$position",S=u.get(x),$=r.templateUrl||f.templateUrl,D=e.$new(!0),T=k.animation="true"===r.animation||f.animation;D.vm=k;var E=c($).then(function(t){var e=i.element(t);return e.css("display","none"),o(e)(D),a.find("body").append(e),e});k.isVisible=!1,k.showPopover=b,k.hidePopover=w,k.togglePopover=_,k.onConfirm=function(t){m(r.onConfirm,null,t)},k.onCancel=function(t){m(r.onCancel,null,t)},t.$watch(r.isOpen,function(t){l(function(){t?b():w()})}),n.bind("click",_),s.addEventListener("resize",v),a.bind("click",C),a.bind("touchend",C),t.$on("$destroy",function(){E.then(function(t){t.remove(),n.unbind("click",_),s.removeEventListener("resize",v),a.unbind("click",C),a.unbind("touchend",C),D.$destroy()})})}]).directive("mwlConfirm",function(){return{restrict:"A",controller:"PopoverConfirmCtrl"}}).value("confirmationPopoverDefaults",{confirmText:"Confirm",cancelText:"Cancel",confirmButtonType:"success",cancelButtonType:"default",placement:"top",focusButton:null,templateUrl:o,hideConfirmButton:!1,hideCancelButton:!1,animation:!1}).name},function(e,n){e.exports=t},function(t,e){t.exports='<div\n  class="popover"\n  ng-class="[vm.$attrs.placement || vm.defaults.placement, \'popover-\' + (vm.$attrs.placement || vm.defaults.placement), vm.$attrs.popoverClass || vm.defaults.popoverClass, {fade: vm.animation}]">\n  <div class="popover-arrow arrow"></div>\n  <h3 class="popover-title" ng-bind-html="vm.$attrs.title"></h3>\n  <div class="popover-content">\n    <p ng-bind-html="vm.$attrs.message"></p>\n    <div class="row">\n      <div\n        class="col-xs-6"\n        ng-if="!vm.$attrs.hideConfirmButton && !vm.defaults.hideConfirmButton"\n        ng-class="{\'col-xs-offset-3\': vm.$attrs.hideCancelButton || vm.defaults.hideCancelButton}">\n        <button\n          class="btn btn-block confirm-button"\n          ng-class="\'btn-\' + (vm.$attrs.confirmButtonType || vm.defaults.confirmButtonType)"\n          ng-click="vm.onConfirm(); vm.hidePopover()"\n          ng-bind-html="vm.$attrs.confirmText || vm.defaults.confirmText">\n        </button>\n      </div>\n      <div\n        class="col-xs-6"\n        ng-if="!vm.$attrs.hideCancelButton && !vm.defaults.hideCancelButton"\n        ng-class="{\'col-xs-offset-3\': vm.$attrs.hideConfirmButton || vm.defaults.hideConfirmButton}">\n        <button\n          class="btn btn-block cancel-button"\n          ng-class="\'btn-\' + (vm.$attrs.cancelButtonType || vm.defaults.cancelButtonType)"\n          ng-click="vm.onCancel(); vm.hidePopover()"\n          ng-bind-html="vm.$attrs.cancelText || vm.defaults.cancelText">\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,n){t.exports=e}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.watermark=e():t.watermark=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(2)["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(){},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return(0,p.extend)((0,p.clone)(m),t)}function a(t,e){var n=t.canvas,i=t.sources,r=(0,u.dataUrl)(n);return i.forEach(e.release),r}function s(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=o(e);return n||(n=(0,l.load)(t,i.init)),{dataUrl:function(e){var n=this.then(function(t){return(0,l.mapToCanvas)(t,g["default"])}).then(function(t){return h.result(e,t)}).then(function(t){return a(t,g["default"])});return s(t,i,n)},load:function(t,e){var n=this.then(function(n){return(0,l.load)([n].concat(t),e)});return s(t,i,n)},render:function(){var e=this.then(function(t){return(0,l.load)([t])});return s(t,i,e)},blob:function(e){var n=this.dataUrl(e).then(c.blob);return s(t,i,n)},image:function(e){var n=this.dataUrl(e).then(l.createImage);return s(t,i,n)},then:function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return n.then.apply(n,e)}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var l=n(3),u=n(5),c=n(6),d=n(7),h=r(d),p=n(10),f=n(11),g=i(f),m={init:function(){}};s.image=h.image,s.text=h.text,s.destroy=function(){return g["default"].clear()}},function(t,e,n){"use strict";function i(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function r(t,e,n){t.onload=function(){return n(t)},t.src=e}function o(t){var e="undefined"==typeof t?"undefined":i(t);return"string"===e?s:t instanceof Image?p.identity:l}function a(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],a=o(r),s=a(r,e);n.push(s)}return Promise.all(n)}function s(t,e){var n=new Image;return"function"==typeof e&&e(n),new Promise(function(e){n.onload=function(){return e(n)},n.src=t})}function l(t){var e=new FileReader;return new Promise(function(n){var i=new Image;e.onloadend=function(){return r(i,e.result,n)},e.readAsDataURL(t)})}function u(t,e){var n=new Image;return"function"==typeof e&&(n.onload=e),n.src=t,n}function c(t,e){var n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),e}function d(t,e){var n=e.pop();return c(t,n)}function h(t,e){return t.map(function(t){return d(t,e)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getLoader=o,e.load=a,e.loadUrl=s,e.loadFile=l,e.createImage=u,e.imageToCanvas=d,e.mapToCanvas=h;var p=n(4)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e.call(null,t)},t)}}function i(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=n,e.identity=i},function(t,e){"use strict";function n(t){return t.toDataURL()}Object.defineProperty(e,"__esModule",{value:!0}),e.dataUrl=n},function(t,e,n){"use strict";function i(t){return s.exec(t).slice(1)}function r(t){return window.atob(t)}function o(t){for(var e=t.length,n=new Uint8Array(e),i=0;e>i;i++)n[i]=t.charCodeAt(i);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.blob=void 0,e.split=i,e.decode=r,e.uint8=o;var a=n(4),s=/^data:([^;]+);base64,(.*)$/;e.blob=(0,a.sequence)(i,function(t){return[r(t[1]),t[0]]},function(t){return new Blob([o(t[0])],{type:t[1]})})},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t,e){var n=t.apply(null,e);return{canvas:n,sources:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.text=e.image=void 0,e.result=r;var o=n(8),a=i(o),s=n(9),l=i(s);e.image=a,e.text=l},function(t,e){"use strict";function n(t,e,n){return n||(n=1),function(i,r){var o=i.getContext("2d");return o.save(),o.globalAlpha=n,o.drawImage(r,t(i,r),e(i,r)),o.restore(),i}}function i(t){return n(function(t,e){return t.width-(e.width+10)},function(t,e){return t.height-(e.height+10)},t)}function r(t){return n(function(t,e){return t.width-(e.width+10)},function(t,e){return 10},t)}function o(t){return n(function(t,e){return 10},function(t,e){return t.height-(e.height+10)},t)}function a(t){return n(function(t,e){return 10},function(t,e){return 10},t)}function s(t){return n(function(t,e){return(t.width-e.width)/2},function(t,e){return(t.height-e.height)/2},t)}Object.defineProperty(e,"__esModule",{value:!0}),e.atPos=n,e.lowerRight=i,e.upperRight=r,e.lowerLeft=o,e.upperLeft=a,e.center=s},function(t,e){"use strict";function n(t,e,n,i,r,o){return o||(o=1),function(a){var s=a.getContext("2d");s.save(),s.globalAlpha=o,s.fillStyle=r,s.font=i;var l=s.measureText(n);return s.fillText(n,t(a,l,s),e(a,l,s)),s.restore(),a}}function i(t,e,i,r,o){return n(function(t,e){return t.width-(e.width+10)},function(t){return o||t.height-10},t,e,i,r)}function r(t,e,i,r,o){return n(function(){return 10},function(t){return o||t.height-10},t,e,i,r)}function o(t,e,i,r,o){return n(function(t,e){return t.width-(e.width+10)},function(){return o||20},t,e,i,r)}function a(t,e,i,r,o){return n(function(){return 10},function(){return o||20},t,e,i,r)}function s(t,e,i,r,o){return n(function(t,e,n){return n.textAlign="center",t.width/2},function(t,e,n){return n.textBaseline="middle",t.height/2},t,e,i,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.atPos=n,e.lowerRight=i,e.lowerLeft=r,e.upperRight=o,e.upperLeft=a,e.center=s},function(t,e){"use strict";function n(t,e){var n=Object.keys(e);return n.forEach(function(n){return t[n]=e[n]}),t}function i(t){return n({},t)}Object.defineProperty(e,"__esModule",{value:!0}),e.extend=n,e.clone=i},function(t,e){"use strict";function n(){var t=[];return{pop:function(){return 0===this.length&&t.push(document.createElement("canvas")),t.pop()},get length(){return t.length},release:function(e){var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),t.push(e)},clear:function(){t.splice(0,t.length)},get elements(){return t}}}Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPool=n;var i=n();e["default"]=i}])}),!function(t,e){"use strict";t.module("ngLocationUpdate",[]).run(["$route","$rootScope","$location",function(t,e,n){n.update_path=function(i,r){if(n.path()!=i){var o=t.current;e.$on("$locationChangeSuccess",function(){o&&(t.current=o,o=null)}),n.path(i),r||n.replace()}}}])}(window.angular),angular.module("angularMask",[]).directive("angularMask",function(){return{restrict:"A",require:"ngModel",scope:{isModelValueEqualViewValues:"="},link:function(t,e,n,i){function r(t){var e=n.angularMask,i=e.split("|");if(i.length>1&&i.sort(function(t,e){return t.length-e.length}),null===t||""==t)return"";var r=String(t).replace(/\D/g,"");if(i.length>1)for(var o in i)if(r.replace(/\D/g,"").length<=i[o].replace(/\D/g,"").length){e=i[o];break}for(var a="",s=0,l=0;l<e.length&&r[s];)e[l].match(/\D/)?a+=e[l]:(a+=r[s],s++),l++;return a}t.$watch(function(){return n.angularMask},function(t){null!=i.$viewValue&&(i.$viewValue=r(String(i.$viewValue).replace(/\D/g,"")),e.val(i.$viewValue))}),i.$formatters.push(function(t){return null===t?"":r(String(t).replace(/\D/g,""))}),i.$parsers.push(function(n){i.$viewValue=r(n);var o=t.isModelValueEqualViewValues?i.$viewValue:String(n).replace(/\D/g,"");return e.val(i.$viewValue),o})}}}),function(t,e){"use strict";function n(t,e){for(var n,i=[],o=0;o<t.length;++o){if(n=a[t[o]]||r(t[o]),!n)throw"module definition dependecy not found: "+t[o];i.push(n)}e.apply(null,i)}function i(t,i,r){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(i===e)throw"invalid module definition, dependencies must be specified";if(r===e)throw"invalid module definition, definition function must be specified";n(i,function(){a[t]=r.apply(null,arguments)})}function r(e){for(var n=t,i=e.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=t,o=n[i],s=o.split(/[.\/]/);for(var u=0;u<s.length-1;++u)r[s[u]]===e&&(r[s[u]]={}),r=r[s[u]];r[s[s.length-1]]=a[o]}if(t.AMDLC_TESTS){l=t.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];t.privateModules=l}}var a={};/**
 * Rect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/geom/Rect",[],function(){function t(t,e,n){var i,r,a,s,l,c;return i=e.x,r=e.y,a=t.w,s=t.h,l=e.w,c=e.h,n=(n||"").split(""),"b"===n[0]&&(r+=c),"r"===n[1]&&(i+=l),"c"===n[0]&&(r+=u(c/2)),"c"===n[1]&&(i+=u(l/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=a),"c"===n[3]&&(r-=u(s/2)),"c"===n[4]&&(i-=u(a/2)),o(i,r,a,s)}function e(e,n,i,r){var o,a;for(a=0;a<r.length;a++)if(o=t(e,n,r[a]),o.x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[a];return null}function n(t,e,n){return o(t.x-e,t.y-n,t.w+2*e,t.h+2*n)}function i(t,e){var n,i,r,a;return n=l(t.x,e.x),i=l(t.y,e.y),r=s(t.x+t.w,e.x+e.w),a=s(t.y+t.h,e.y+e.h),0>r-n||0>a-i?null:o(n,i,r-n,a-i)}function r(t,e,n){var i,r,a,s,u,c,d,h,p,f;return u=t.x,c=t.y,d=t.x+t.w,h=t.y+t.h,p=e.x+e.w,f=e.y+e.h,i=l(0,e.x-u),r=l(0,e.y-c),a=l(0,d-p),s=l(0,h-f),u+=i,c+=r,n&&(d+=i,h+=r,u-=a,c-=s),d-=a,h-=s,o(u,c,d-u,h-c)}function o(t,e,n,i){return{x:t,y:e,w:n,h:i}}function a(t){return o(t.left,t.top,t.width,t.height)}var s=Math.min,l=Math.max,u=Math.round;return{inflate:n,relativePosition:t,findBestRelativePosition:e,intersect:i,clamp:r,create:o,fromClientRect:a}}),/**
 * Promise.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * Promise polyfill under MIT license: https://github.com/taylorhakes/promise-polyfill
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(i,this),t(r,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(r){return void t.reject(r)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void s(t(n,e),t(i,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(a){r.call(this,a)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,new a(t,i,e,o))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(o,t)},n)}t[o]=a,0===--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,r=t.length;r>i;i++)t[i].then(e,n)})},e}),/**
 * Delay.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Delay",["tinymce/util/Promise"],function(t){function e(t,e){function n(t){window.setTimeout(t,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(t,e)}function n(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function i(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)}function r(t){return clearTimeout(t)}function o(t){return clearInterval(t)}function a(t,e){var i,r;return r=function(){var r=arguments;clearTimeout(i),i=n(function(){t.apply(this,r)},e)},r.stop=function(){clearTimeout(i)},r}var s;return{requestAnimationFrame:function(n,i){return s?void s.then(n):void(s=new t(function(t){i||(i=document.body),e(t,i)}).then(n))},setTimeout:n,setInterval:i,setEditorTimeout:function(t,e,i){return n(function(){t.removed||e()},i)},setEditorInterval:function(t,e,n){var r;return r=i(function(){t.removed?clearInterval(r):e()},n)},debounce:a,throttle:a,clearInterval:o,clearTimeout:r}}),/**
 * Env.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Env",[],function(){function t(t){return"matchMedia"in window?matchMedia(t).matches:!1}var e,n,i,r,o,a,s,l,u,c,d,h,p,f=navigator,g=f.userAgent;e=window.opera&&window.opera.buildNumber,u=/Android/.test(g),n=/WebKit/.test(g),i=!n&&!e&&/MSIE/gi.test(g)&&/Explorer/gi.test(f.appName),i=i&&/MSIE (\w+)\./.exec(g)[1],r=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==f.appName.indexOf("Netscape")?!1:11,o=-1==g.indexOf("Edge/")||i||r?!1:12,i=i||r||o,a=!n&&!r&&/Gecko/.test(g),s=-1!=g.indexOf("Mac"),l=/(iPad|iPhone)/.test(g),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=t("only screen and (max-device-width: 480px)")&&(u||l),h=t("only screen and (min-width: 800px)")&&(u||l),p=-1!=g.indexOf("Windows Phone"),o&&(n=!1);var m=!l||c||g.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:u,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:c,ceFalse:i===!1||i>8,canHaveCSP:i===!1||i>11,desktop:!d&&!h,windowsPhone:p}}),/**
 * EventUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(t,e){function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function r(t,e){var n,i=e;return n=t.path,n&&n.length>0&&(i=n[0]),t.deepPath&&(n=t.deepPath(),n&&n.length>0&&(i=n[0])),i}function o(t,n){function i(){return!1}function o(){return!0}var a,s,l=n||{};for(a in t)c[a]||(l[a]=t[a]);if(l.target||(l.target=l.srcElement||document),e.experimentalShadowDom&&(l.target=r(t,l.target)),t&&u.test(t.type)&&t.pageX===s&&t.clientX!==s){var d=l.target.ownerDocument||document,h=d.documentElement,p=d.body;l.pageX=t.clientX+(h&&h.scrollLeft||p&&p.scrollLeft||0)-(h&&h.clientLeft||p&&p.clientLeft||0),l.pageY=t.clientY+(h&&h.scrollTop||p&&p.scrollTop||0)-(h&&h.clientTop||p&&p.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=o,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=o,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=o,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=i,l.isPropagationStopped=i,l.isImmediatePropagationStopped=i),"undefined"==typeof l.metaKey&&(l.metaKey=!1),l}function a(e,r,o){function a(){o.domLoaded||(o.domLoaded=!0,r(c))}function s(){("complete"===u.readyState||"interactive"===u.readyState&&u.body)&&(i(u,"readystatechange",s),a())}function l(){try{
// If IE is used, use the trick by Diego Perini licensed under MIT by request to the author.
// http://javascript.nwbox.com/IEContentLoaded/
u.documentElement.doScroll("left")}catch(e){return void t.setTimeout(l)}a()}var u=e.document,c={type:"ready"};return o.domLoaded?void r(c):(u.addEventListener?"complete"===u.readyState?a():n(e,"DOMContentLoaded",a):(n(u,"readystatechange",s),u.documentElement.doScroll&&e.self===e.top&&l()),void n(e,"load",a))}function s(){function t(t,e){var n,i,r,o,a=h[e];if(n=a&&a[t.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}var e,r,s,u,c,d=this,h={};r=l+(+new Date).toString(32),u="onmouseenter"in document.documentElement,s="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,d.domLoaded=!1,d.events=h,d.bind=function(i,l,p,f){function g(e){t(o(e||k.event),m)}var m,v,y,b,w,_,C,k=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[r]?m=i[r]:(m=e++,i[r]=m,h[m]={}),f=f||i,l=l.split(" "),y=l.length;y--;)b=l[y],_=g,w=C=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?p.call(f,o({type:b})):(u||(w=c[b],w&&(_=function(e){var n,i;if(n=e.currentTarget,i=e.relatedTarget,i&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||(e=o(e||k.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,t(e,m))})),s||"focusin"!==b&&"focusout"!==b||(C=!0,w="focusin"===b?"focus":"blur",_=function(e){e=o(e||k.event),e.type="focus"===e.type?"focusin":"focusout",t(e,m)}),v=h[m][b],v?"ready"===b&&d.domLoaded?p({type:b}):v.push({func:p,scope:f}):(h[m][b]=v=[{func:p,scope:f}],v.fakeName=w,v.capture=C,v.nativeHandler=_,"ready"===b?a(i,_,d):n(i,w||b,_,C)));return i=v=0,p}},d.unbind=function(t,e,n){var o,a,s,l,u,c;if(!t||3===t.nodeType||8===t.nodeType)return d;if(o=t[r]){if(c=h[o],e){for(e=e.split(" "),s=e.length;s--;)if(u=e[s],a=c[u]){if(n)for(l=a.length;l--;)if(a[l].func===n){var p=a.nativeHandler,f=a.fakeName,g=a.capture;a=a.slice(0,l).concat(a.slice(l+1)),a.nativeHandler=p,a.fakeName=f,a.capture=g,c[u]=a}n&&0!==a.length||(delete c[u],i(t,a.fakeName||u,a.nativeHandler,a.capture))}}else{for(u in c)a=c[u],i(t,a.fakeName||u,a.nativeHandler,a.capture);c={}}for(u in c)return d;delete h[o];try{delete t[r]}catch(m){t[r]=null}}return d},d.fire=function(e,n,i){var a;if(!e||3===e.nodeType||8===e.nodeType)return d;i=o(null,i),i.type=n,i.target=e;do a=e[r],a&&t(i,a),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(t){var e,n,i=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[r]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[r]&&i(t);return d},d.destroy=function(){h={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var l="mce-data-",u=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return s.Event=new s,s.Event.bind(window,"ready",function(){}),s}),/**
 * Sizzle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
/**
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */
i("tinymce/dom/Sizzle",[],function(){function t(t,e,n,i){var r,o,a,s,l,u,d,p,f,g;if((e?e.ownerDocument||e:F)!==P&&M(e),e=e||P,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(N&&!i){if(r=vt.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&B(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&_.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(_.qsa&&(!L||!L.test(t))){if(p=d=H,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=S(t),(d=e.getAttribute("id"))?p=d.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=yt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return Q.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return D(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&typeof t.getElementsByTagName!==q&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=j++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u=[z,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),(s=l[i])&&s[0]===z&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,h,t,s,l),b=n?o||(i?t:f||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=m(b,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?et.call(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else b=m(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return et.call(e,t)>-1},a,!0),c=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];r>s;s++)if(n=C.relative[t[s].type])c=[p(f(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;r>i&&!C.relative[t[i].type];i++);return v(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&h(t))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&C.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,_=b.length;for(u&&(T=a!==P&&a);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,a,s)){l.push(c);break}u&&(z=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,a,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=J.call(l));v=m(v)}Q.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(z=w,T=y),g};return r?i(a):a}var w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R,B,H="sizzle"+-new Date,F=window.document,z=0,j=0,V=n(),U=n(),W=n(),G=function(t,e){return t===e&&(A=!0),0},q=typeof e,K=1<<31,Y={}.hasOwnProperty,Z=[],J=Z.pop,X=Z.push,Q=Z.push,tt=Z.slice,et=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(at),ht=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(Z=tt.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(Ct){Q={apply:Z.length?function(t,e){X.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=t.support={},x=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=t.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,i=t?t.ownerDocument||t:F,o=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,O=i.documentElement,N=!x(i),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){M()},!1):o.attachEvent&&o.attachEvent("onunload",function(){M()})),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(i.getElementsByClassName),_.getById=r(function(t){return O.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(C.find.ID=function(t,e){if(typeof e.getElementById!==q&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=_.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==q?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=_.getElementsByClassName&&function(t,e){return N?e.getElementsByClassName(t):void 0},I=[],L=[],(_.qsa=mt.test(i.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||L.push(":checked")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=mt.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){_.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),I.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),n=mt.test(O.compareDocumentPosition),B=n||mt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=n?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&B(F,t)?-1:e===i||e.ownerDocument===F&&B(F,e)?1:E?et.call(E,t)-et.call(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:E?et.call(E,t)-et.call(E,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},i):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&M(e),n=n.replace(ct,"='$1']"),_.matchesSelector&&N&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var i=R.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,P,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==P&&M(t),B(t,e)},t.attr=function(t,n){(t.ownerDocument||t)!==P&&M(t);var i=C.attrHandle[n.toLowerCase()],r=i&&Y.call(C.attrHandle,n.toLowerCase())?i(t,n,!N):e;return r!==e?r:_.attributes||!N?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,n=[],i=0,r=0;if(A=!_.detectDuplicates,E=!_.sortStable&&t.slice(0),t.sort(G),A){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},k=t.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),u=c[t]||[],p=u[0]===z&&u[1],h=u[0]===z&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[z,p,h];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===z)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[z,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(r=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=et.call(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=$(t.replace(st,"$1"));return r[H]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,_t).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===O},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=C.preFilter;s;){(!i||(r=lt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in C.filter)!(r=pt[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},$=t.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},D=t.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,d=!i&&S(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(wt,_t),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(wt,_t),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return Q.apply(n,i),n;break}}return(u||$(t,d))(i,e,!N,n,yt.test(t)&&c(e.parentNode)||e),n},_.sortStable=H.split("").sort(G).join("")===H,_.detectDuplicates=!!A,M(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(nt,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),t}),/**
 * Arr.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Arr",[],function(){function t(t){var e,n,i=t;if(!c(t))for(i=[],e=0,n=t.length;n>e;e++)i[e]=t[e];return i}function n(t,n,i){var r,o;if(!t)return 0;if(i=i||t,t.length!==e){for(r=0,o=t.length;o>r;r++)if(n.call(i,t[r],r,t)===!1)return 0}else for(r in t)if(t.hasOwnProperty(r)&&n.call(i,t[r],r,t)===!1)return 0;return 1}function i(t,e){var i=[];return n(t,function(n,r){i.push(e(n,r,t))}),i}function r(t,e){var i=[];return n(t,function(n,r){(!e||e(n,r,t))&&i.push(n)}),i}function o(t,e){var n,i;if(t)for(n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function a(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n}function s(t,e,n){var i,r;for(i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t))return i;return-1}function l(t,n,i){var r=s(t,n,i);return-1!==r?t[r]:e}function u(t){return t[t.length-1]}var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{isArray:c,toArray:t,each:n,map:i,filter:r,indexOf:o,reduce:a,findIndex:s,find:l,last:u}}),/**
 * Tools.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(t,n){function i(t){return null===t||t===e?"":(""+t).replace(f,"")}function r(t,i){return i?"array"==i&&n.isArray(t)?!0:typeof t==i:t!==e}function o(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e,n){var i,r,o,a,s,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(t[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],u?r[o]=function(){return i[a].apply(this,arguments)}:r[o]=function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}}function l(t,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==e&&(t[o]=a))}return t}function u(t,e,i,r){r=r||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){return e.call(r,t,n,i)===!1?!1:void u(t,e,i,r)}))}function c(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)i=t[n],e[i]||(e[i]={}),e=e[i];return e}function d(t,e){var n,i;for(e=e||window,t=t.split("."),n=0,i=t.length;i>n&&(e=e[t[n]],e);n++);return e}function h(t,e){return!t||r(t,"array")?t:n.map(t.split(e||","),i)}function p(e){var n=t.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}var f=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:a,extend:l,create:s,walk:u,createNS:c,resolve:d,explode:h,_addCacheSuffix:p}}),/**
 * DomQuery.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,n,i,r){function o(t){return"undefined"!=typeof t}function a(t){return"string"==typeof t}function s(t){return t&&t==t.window}function l(t,e){var n,i,r;for(e=e||k,r=e.createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n}function u(t,e,n,i){var r;if(a(e))e=l(e,v(t[0]));else if(e.length&&!e.nodeType){if(e=h.makeArray(e),i)for(r=e.length-1;r>=0;r--)u(t,e[r],n,i);else for(r=0;r<e.length;r++)u(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t}function c(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function d(t,e,n){var i,r;return e=h(e)[0],t.each(function(){var t=this;n&&i==t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t}function h(t,e){return new h.fn.init(t,e)}function p(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1}function f(t){return null===t||t===C?"":(""+t).replace(L,"")}function g(t,e){var n,i,r,o,a;if(t)if(n=t.length,n===o){for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],e.call(a,i,a)===!1))break}else for(r=0;n>r&&(a=t[r],e.call(a,r,a)!==!1);r++);return t}function m(t,e){var n=[];return g(t,function(t,i){e(i,t)&&n.push(i)}),n}function v(t){return t?9==t.nodeType?t:t.ownerDocument:k}function y(t,n,i){var r=[],o=t[n];for("string"!=typeof i&&i instanceof h&&(i=i[0]);o&&9!==o.nodeType;){if(i!==e){if(o===i)break;if("string"==typeof i&&h(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function b(t,n,i,r){var o=[];for(r instanceof h&&(r=r[0]);t;t=t[n])if(!i||t.nodeType===i){if(r!==e){if(t===r)break;if("string"==typeof r&&h(t).is(r))break}o.push(t)}return o}function w(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType==n)return t;return null}function _(t,e,n){g(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})}var C,k=document,x=Array.prototype.push,S=Array.prototype.slice,$=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,D=t.Event,T=i.makeMap("children,contents,next,prev"),E=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),A=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),M={"for":"htmlFor","class":"className",readonly:"readOnly"},P={"float":"cssFloat"},O={},N={},L=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return h(t).attr(e);r.context=e=document}if(a(t)){if(r.selector=t,n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:$.exec(t),!n)return h(e).find(t);if(n[1])for(i=l(t,v(e)).firstChild;i;)x.call(r,i),i=i.nextSibling;else{if(i=v(e).getElementById(n[2]),!i)return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return i.toArray(this)},add:function(t,e){var n,i,r=this;if(a(t))return r.add(h(t));if(e!==!1)for(n=h.unique(r.toArray().concat(h.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else x.apply(r,h.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)g(t,function(t,e){i.attr(t,e)});else{if(!o(e)){if(i[0]&&1===i[0].nodeType){if(n=O[t],n&&n.get)return n.get(i[0],t);if(A[t])return i.prop(t)?t:C;e=i[0].getAttribute(t,2),null===e&&(e=C)}return e}this.each(function(){var n;if(1===this.nodeType){if(n=O[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=M[t]||t,"object"==typeof t)g(t,function(t,e){n.prop(t,e)});else{if(!o(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var r,a,s=this;if("object"==typeof t)g(t,function(t,e){s.css(t,e)});else if(o(e))t=n(t),"number"!=typeof e||E[t]||(e+="px"),s.each(function(){var n=this.style;if(a=N[t],a&&a.set)return void a.set(this,e);try{this.style[P[t]||t]=e}catch(r){}(null===e||""===e)&&(n.removeProperty?n.removeProperty(i(t)):n.removeAttribute(t))});else{if(r=s[0],a=N[t],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(l){return C}else if(r.currentStyle)return r.currentStyle[n(t)]}return s},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],D.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(o(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){h(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(o(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return h(t).append(this),this},prependTo:function(t){return h(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return d(this,t)},wrapAll:function(t){return d(this,t,!0)},wrapInner:function(t){return this.each(function(){h(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?g(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;o=c(i,t),o!==e&&(r=i.className,o?i.className=f((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return c(this[0],t)},each:function(t){return g(this,t)},on:function(t,e){return this.each(function(){D.bind(this,t,e)})},off:function(t,e){return this.each(function(){D.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?D.fire(this,t.type,t):D.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h(S.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;n>e;e++)h.find(t,this[e],i);return h(i)},filter:function(t){return h("function"==typeof t?m(this.toArray(),function(e,n){return t(n,e)}):h.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof h&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&h(i).is(t)){e.push(i);break}if(i==t){e.push(i);break}i=i.parentNode}}),h(e)},offset:function(t){var e,n,i,r,o=0,a=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,i=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:x,sort:[].sort,splice:[].splice},i.extend(h,{extend:i.extend,makeArray:function(t){return s(t)||t.nodeType?[t]:i.toArray(t)},inArray:p,isArray:i.isArray,each:g,trim:f,grep:m,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!=e[i].nodeType&&e.splice(i,1);return e=1===e.length?h.find.matchesSelector(e[0],t)?[e[0]]:[]:h.find.matches(t,e)}}),g({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},next:function(t){return w(t,"nextSibling",1)},prev:function(t){return w(t,"previousSibling",1)},children:function(t){return b(t.firstChild,"nextSibling",1)},contents:function(t){return i.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){h.fn[t]=function(n){var i=this,r=[];return i.each(function(){var t=e.call(r,this,n,r);t&&(h.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(T[t]||(r=h.unique(r)),0===t.indexOf("parents")&&(r=r.reverse())),r=h(r),n?r.filter(n):r}}),g({parentsUntil:function(t,e){return y(t,"parentNode",e)},nextUntil:function(t,e){return b(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return b(t,"previousSibling",1,e).slice(1)}},function(t,e){h.fn[t]=function(n,i){var r=this,o=[];return r.each(function(){var t=e.call(o,this,n,o);t&&(h.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=h.unique(o),(0===t.indexOf("parents")||"prevUntil"===t)&&(o=o.reverse())),o=h(o),i?o.filter(i):o}}),h.fn.is=function(t){return!!t&&this.filter(t).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(t){function e(i,r){return n=n||t(),0===arguments.length&&(i=n.element),r||(r=n.context),new e.fn.init(i,r)}var n;return h.extend(e,this),e},r.ie&&r.ie<8&&(_(O,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?C:e},size:function(t){var e=t.size;return 20===e?C:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?C:e}}),_(O,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),r.ie&&r.ie<9&&(P["float"]="styleFloat",_(N,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),h.attrHooks=O,h.cssHooks=N,h}),/**
 * Styles.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Styles",[],function(){return function(t,e){function n(t,e,n,i){function r(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+r(e)+r(n)+r(i)}var i,r,o,a,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={},h="\ufeff";for(t=t||{},e&&(o=e.getValidStyles(),a=e.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+h).split(" "),i=0;i<r.length;i++)d[r[i]]=h+i,d[h+i]=r[i];return{toHex:function(t){return t.replace(s,n)},parse:function(e){function r(t,e,n){var r,o,a,s;if(r=C[t+"-top"+e],r&&(o=C[t+"-right"+e],o&&(a=C[t+"-bottom"+e],a&&(s=C[t+"-left"+e])))){var l=[r,o,a,s];for(i=l.length-1;i--&&l[i]===l[i+1];);i>-1&&n||(C[t+e]=-1==i?l[0]:l.join(" "),delete C[t+"-top"+e],delete C[t+"-right"+e],delete C[t+"-bottom"+e],delete C[t+"-left"+e])}}function o(t){var e,n=C[t];if(n){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;return C[t]=n[0],!0}}function a(t,e,n,i){o(e)&&o(n)&&o(i)&&(C[t]=C[e]+" "+C[n]+" "+C[i],delete C[e],delete C[n],delete C[i])}function p(t){return _=!0,d[t]}function f(t,e){return _&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return d[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function g(t){return String.fromCharCode(parseInt(t.slice(1),16))}function m(t){return t.replace(/\\[0-9a-f]+/gi,g)}function v(e,n,i,r,o,a){if(o=o||a)return o=f(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=f(n||i||r),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return k&&(n=k.call(x,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var y,b,w,_,C={},k=t.url_converter,x=t.url_converter_scope||this;if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,p)});y=u.exec(e);)if(u.lastIndex=y.index+y[0].length,b=y[1].replace(c,"").toLowerCase(),w=y[2].replace(c,""),b&&w){if(b=m(b),w=m(w),-1!==b.indexOf(h)||-1!==b.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"==b||/expression\s*\(|\/\*|\*\//.test(w)))continue;"font-weight"===b&&"700"===w?w="bold":("color"===b||"background-color"===b)&&(w=w.toLowerCase()),w=w.replace(s,n),w=w.replace(l,v),C[b]=_?f(w,!0):w}r("border","",!0),r("border","-width"),r("border","-color"),r("border","-style"),r("padding",""),r("margin",""),a("border","border-width","border-style","border-color"),"medium none"===C.border&&delete C.border,"none"===C["border-image"]&&delete C["border-image"]}return C},serialize:function(t,e){function n(e){var n,i,r,a;if(n=o[e])for(i=0,r=n.length;r>i;i++)e=n[i],a=t[e],a&&(l+=(l.length>0?" ":"")+e+": "+a+";")}function i(t,e){var n;return n=a["*"],n&&n[t]?!1:(n=a[e],n&&n[t]?!1:!0)}var r,s,l="";if(e&&o)n("*"),n(e);else for(r in t)s=t[r],!s||a&&!i(r,e)||(l+=(l.length>0?" ":"")+r+": "+s+";");return l}}}}),/**
 * TreeWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TreeWalker",[],function(){return function(t,e){function n(t,n,i,r){var o,a;if(t){if(!r&&t[n])return t[n];if(t!=e){if(o=t[i])return o;for(a=t.parentNode;a&&a!=e;a=a.parentNode)if(o=a[i])return o}}}function i(t,n,i,r){var o,a,s;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if(a=t.parentNode,a&&a!==e)return a}}var r=t;this.current=function(){return r},this.next=function(t){return r=n(r,"firstChild","nextSibling",t)},this.prev=function(t){return r=n(r,"lastChild","previousSibling",t)},this.prev2=function(t){return r=i(r,"lastChild","previousSibling",t)}}}),/**
 * Range.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(n){function i(){return L.createDocumentFragment()}function r(t,e){k(H,t,e)}function o(t,e){k(F,t,e)}function a(t){r(t.parentNode,G(t))}function s(t){r(t.parentNode,G(t)+1)}function l(t){o(t.parentNode,G(t))}function u(t){o(t.parentNode,G(t)+1)}function c(t){t?(N[V]=N[j],N[U]=N[z]):(N[j]=N[V],N[z]=N[U]),N.collapsed=H}function d(t){a(t),u(t)}function h(t){r(t,0),o(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function p(t,e){var n=N[j],i=N[z],r=N[V],o=N[U],a=e.startContainer,s=e.startOffset,l=e.endContainer,u=e.endOffset;return 0===t?C(n,i,a,s):1===t?C(r,o,a,s):2===t?C(r,o,l,u):3===t?C(n,i,l,u):void 0}function f(){x(B)}function g(){return x(I)}function m(){return x(R)}function v(t){var e,i,r=this[j],o=this[z];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):3==r.nodeType?n.insertAfter(t,r):r.appendChild(t)):o?o>=r.nodeValue.length?n.insertAfter(t,r):(e=r.splitText(o),r.parentNode.insertBefore(t,e)):r.parentNode.insertBefore(t,r)}function y(t){var e=N.extractContents();N.insertNode(t),t.appendChild(e),N.selectNode(t)}function b(){return W(new e(n),{startContainer:N[j],startOffset:N[z],endContainer:N[V],endOffset:N[U],collapsed:N.collapsed,commonAncestorContainer:N.commonAncestorContainer})}function w(t,e){var n;if(3==t.nodeType)return t;if(0>e)return t;for(n=t.firstChild;n&&e>0;)--e,n=n.nextSibling;return n?n:t}function _(){return N[j]==N[V]&&N[z]==N[U]}function C(t,e,i,r){var o,a,s,l,u,c;if(t==i)return e==r?0:r>e?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(a=0,s=t.firstChild;s!=o&&e>a;)a++,s=s.nextSibling;return a>=e?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(t,i),u=t;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=i;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function k(t,e,i){var r,o;for(t?(N[j]=e,N[z]=i):(N[V]=e,N[U]=i),r=N[V];r.parentNode;)r=r.parentNode;for(o=N[j];o.parentNode;)o=o.parentNode;o==r?C(N[j],N[z],N[V],N[U])>0&&N.collapse(t):N.collapse(t),N.collapsed=_(),N.commonAncestorContainer=n.findCommonAncestor(N[j],N[V])}function x(t){var e,n,i,r,o,a,s,l=0,u=0;if(N[j]==N[V])return S(t);for(e=N[V],n=e.parentNode;n;e=n,n=n.parentNode){if(n==N[j])return $(e,t);++l}for(e=N[j],n=e.parentNode;n;e=n,n=n.parentNode){if(n==N[V])return D(e,t);++u}for(i=u-l,r=N[j];i>0;)r=r.parentNode,i--;for(o=N[V];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return T(r,o,t)}function S(t){var e,n,r,o,a,s,l,u,c;if(t!=B&&(e=i()),N[z]==N[U])return e;if(3==N[j].nodeType){if(n=N[j].nodeValue,r=n.substring(N[z],N[U]),t!=R&&(o=N[j],u=N[z],c=N[U]-N[z],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),N.collapse(H)),t==B)return;return r.length>0&&e.appendChild(L.createTextNode(r)),e}for(o=w(N[j],N[z]),a=N[U]-N[z];o&&a>0;)s=o.nextSibling,l=P(o,t),e&&e.appendChild(l),--a,o=s;return t!=R&&N.collapse(H),e}function $(t,e){var n,r,o,a,s,l;if(e!=B&&(n=i()),r=E(t,e),n&&n.appendChild(r),o=G(t),a=o-N[z],0>=a)return e!=R&&(N.setEndBefore(t),N.collapse(F)),n;for(r=t.previousSibling;a>0;)s=r.previousSibling,l=P(r,e),n&&n.insertBefore(l,n.firstChild),--a,r=s;return e!=R&&(N.setEndBefore(t),N.collapse(F)),n}function D(t,e){var n,r,o,a,s,l;for(e!=B&&(n=i()),o=A(t,e),n&&n.appendChild(o),r=G(t),++r,a=N[U]-r,o=t.nextSibling;o&&a>0;)s=o.nextSibling,l=P(o,e),n&&n.appendChild(l),--a,o=s;return e!=R&&(N.setStartAfter(t),N.collapse(H)),n}function T(t,e,n){var r,o,a,s,l,u,c;for(n!=B&&(o=i()),r=A(t,n),o&&o.appendChild(r),a=G(t),s=G(e),++a,l=s-a,u=t.nextSibling;l>0;)c=u.nextSibling,r=P(u,n),o&&o.appendChild(r),u=c,--l;return r=E(e,n),o&&o.appendChild(r),n!=R&&(N.setStartAfter(t),N.collapse(H)),o}function E(t,e){var n,i,r,o,a,s=w(N[V],N[U]-1),l=s!=N[V];if(s==t)return M(s,l,F,e);for(n=s.parentNode,i=M(n,F,F,e);n;){for(;s;)r=s.previousSibling,o=M(s,l,F,e),e!=B&&i.insertBefore(o,i.firstChild),l=H,s=r;if(n==t)return i;s=n.previousSibling,n=n.parentNode,a=M(n,F,F,e),e!=B&&a.appendChild(i),i=a}}function A(t,e){var n,i,r,o,a,s=w(N[j],N[z]),l=s!=N[j];if(s==t)return M(s,l,H,e);for(n=s.parentNode,i=M(n,F,H,e);n;){for(;s;)r=s.nextSibling,o=M(s,l,H,e),e!=B&&i.appendChild(o),l=H,s=r;if(n==t)return i;s=n.nextSibling,n=n.parentNode,a=M(n,F,H,e),e!=B&&a.appendChild(i),i=a}}function M(t,e,i,r){var o,a,s,l,u;if(e)return P(t,r);if(3==t.nodeType){if(o=t.nodeValue,i?(l=N[z],a=o.substring(l),s=o.substring(0,l)):(l=N[U],a=o.substring(0,l),s=o.substring(l)),r!=R&&(t.nodeValue=s),r==B)return;return u=n.clone(t,F),u.nodeValue=a,u}if(r!=B)return n.clone(t,F)}function P(t,e){return e!=B?e==R?n.clone(t,H):t:void t.parentNode.removeChild(t)}function O(){return n.create("body",null,m()).outerText}var N=this,L=n.doc,I=0,R=1,B=2,H=!0,F=!1,z="startOffset",j="startContainer",V="endContainer",U="endOffset",W=t.extend,G=n.nodeIndex;return W(N,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:H,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:h,compareBoundaryPoints:p,deleteContents:f,extractContents:g,cloneContents:m,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:O}),N}return e.prototype.toString=function(){return this.toStringIE()},e}),/**
 * Entities.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||t}function n(t,e){var n,i,o,a={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),r[i]||(o="&"+t[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=t.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(t,e){return t.replace(e?s:l,function(t){return r[t]||t})},encodeAllRaw:function(t){return(""+t).replace(u,function(t){return r[t]||t})},encodeNumeric:function(t,e){return t.replace(e?s:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":r[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,n){return n=n||i,t.replace(e?s:l,function(t){return r[t]||n[t]||t})},getEncodeFunc:function(t,e){function o(t,n){return t.replace(n?s:l,function(t){return r[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function u(t,n){return h.encodeNamed(t,n,e)}return e=n(e)||i,t=a(t.replace(/\+/g,",")),t.named&&t.numeric?o:t.named?e?u:h.encodeNamed:t.numeric?h.encodeNumeric:h.encodeRaw},decode:function(t){return t.replace(c,function(t,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[t]||i[t]||e(t)})}};return h}),/**
 * StyleSheetLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(t,e){return function(n,i){function r(t){n.getElementsByTagName("head")[0].appendChild(t)}function o(i,o,u){function c(){for(var t=b.passed,e=t.length;e--;)t[e]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var t=b.failed,e=t.length;e--;)t[e]();b.status=3,b.passed=[],b.failed=[]}function h(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)}function p(t,n){t()||((new Date).getTime()-y<a?e.setTimeout(n):d())}function f(){p(function(){for(var t,e,i=n.styleSheets,r=i.length;r--;)if(t=i[r],e=t.ownerNode?t.ownerNode:t.owningElement,e&&e.id===m.id)return c(),!0},f)}function g(){p(function(){try{var t=v.sheet.cssRules;return c(),!!t}catch(e){}},g)}var m,v,y,b;if(i=t._addCacheSuffix(i),l[i]?b=l[i]:(b={passed:[],failed:[]},l[i]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return void c();if(3==b.status)return void d();if(b.status=1,m=n.createElement("link"),m.rel="stylesheet",m.type="text/css",m.id="u"+s++,m.async=!1,m.defer=!1,y=(new Date).getTime(),"onload"in m&&!h())m.onload=f,m.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+i+'"',g(),void r(v);f()}r(m),m.href=i}}var a,s=0,l={};i=i||{},a=i.maxLoadTime||5e3,this.load=o}}),/**
 * DOMUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(t,n,i,r,o,a,s,l,u,c){function d(t,e){var n,i={},r=e.keep_values;return n={set:function(n,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||t,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(t,e){return null!==e&&"object"==typeof e?void t.css(e):(r&&t.attr("data-mce-style",e),void t.attr("style",e))},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serializeStyle(t.parseStyle(n),e[0].nodeName)}}},r&&(i.href=i.src=n),i}function h(t,e){var n=e.attr("style");n=t.serializeStyle(t.parseStyle(n),e[0].nodeName),n||(n=null),e.attr("data-mce-style",n)}function p(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!=i||i!=n&&t.nodeValue.length)&&(r++,n=i);return r}function f(t,e){var o,a=this;a.doc=t,a.win=window,a.files={},a.counter=0,a.stdMode=!b||t.documentMode>=8,a.boxModel=!b||"CSS1Compat"==t.compatMode||a.stdMode,a.styleSheetLoader=new c(t),a.boundEvents=[],a.settings=e=e||{},a.schema=e.schema,a.styles=new i({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),a.fixDoc(t),a.events=e.ownEvents?new r(e.proxy):r.Event,a.attrHooks=d(a,e),o=e.schema?e.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:t,element:a.getRoot()}}),a.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!o[t.nodeName]):!!o[t]}}var g=u.each,m=u.is,v=u.grep,y=u.trim,b=l.ie,w=/^([a-z0-9],?)+$/i,_=/^[ \t\r\n]*$/;return f.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,n=this.settings;if(b&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in n.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var n,i,r=this;return!b||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),g(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,n;return t=t?t:this.win,e=t.document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,n,i,r){var o,a=this,s=[];for(t=a.get(t),r=r===e,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),m(n,"string")&&(o=n,n="*"===n?function(t){return 1==t.nodeType}:function(t){return a.is(t,o)});t&&t!=i&&t.nodeType&&9!==t.nodeType;){if(!n||n(t)){if(!r)return t;s.push(t)}t=t.parentNode}return r?s:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,n){var i=this;return t(e,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===e){if("*"===i)return 1==n.nodeType;if(w.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return t(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(t,e,n,i,r){var o=this;return this.run(t,function(t){var a;return a=m(e,"string")?o.doc.createElement(e):e,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:t.appendChild(a)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+this.encode(e[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var e,n,i,r=this.doc;for(i=r.createElement("div"),e=r.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,n){t=this.$$(t).css(e,n),this.settings.update_styles&&h(this,t)},getStyle:function(t,n,i){return t=this.$$(t),i?t.css(n):(n=n.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[n]:e)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&h(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i,r,o=this,a=o.settings;""===n&&(n=null),t=o.$$(t),i=t.attr(e),t.length&&(r=o.attrHooks[e],r&&r.set?r.set(t,n,e):t.attr(e,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:t,attrName:e,attrValue:n}))},setAttribs:function(t,e){var n=this;n.$$(t).each(function(t,i){g(e,function(t,e){n.setAttrib(i,e,t)})})},getAttrib:function(t,e,n){var i,r,o=this;return t=o.$$(t),t.length&&(i=o.attrHooks[e],r=i&&i.get?i.get(t,e):t.attr(e)),"undefined"==typeof r&&(r=n||""),r},getPos:function(t,e){var i,r,o=this,a=0,s=0,l=o.doc,u=l.body;if(t=o.get(t),e=e||u,t){if(e===u&&t.getBoundingClientRect&&"static"===n(u).css("position"))return r=t.getBoundingClientRect(),e=o.boxModel?l.documentElement:u,a=r.left+(l.documentElement.scrollLeft||u.scrollLeft)-e.clientLeft,s=r.top+(l.documentElement.scrollTop||u.scrollTop)-e.clientTop,{x:a,y:s};for(i=t;i&&i!=e&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=e&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,n,i=this,r=i.doc;if(i!==f.DOM&&r===document){var o=f.DOM.addedStyles;if(o=o||[],o[t])return;o[t]=!0,f.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",e=r.getElementsByTagName("head")[0],e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(r.createTextNode(t))},loadCSS:function(t){var e,n=this,i=n.doc;return n!==f.DOM&&i===document?void f.DOM.loadCSS(t):(t||(t=""),e=i.getElementsByTagName("head")[0],void g(t.split(","),function(t){var r;t=u._addCacheSuffix(t),n.files[t]||(n.files[t]=!0,r=n.create("link",{rel:"stylesheet",href:t}),b&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),e.appendChild(r))}))},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,i){this.$$(t).toggleClass(e,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),b?t.each(function(t,i){if(i.canHaveHTML!==!1){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+e,i.removeChild(i.firstChild)}catch(r){n("<div></div>").html("<br>"+e).contents().slice(1).appendTo(i)}return e}}):t.html(e)},getOuterHTML:function(t){return t=this.get(t),1==t.nodeType&&"outerHTML"in t?t.outerHTML:n("<div></div>").append(n(t).clone()).html()},setOuterHTML:function(t,e){var i=this;i.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}i.remove(n(this).html(e),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,i=e.nextSibling,i?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){var i=this;return i.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&g(v(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),g(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(u.trim(t))},run:function(t,e,n){var i,r=this;return"string"==typeof t&&(t=r.get(t)),t?(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],g(t,function(t,o){t&&("string"==typeof t&&(t=r.get(t)),i.push(e.call(n,t,o)))}),i)):!1},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(b){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,r,a,s,l,u=this,c=0;if(t=t.firstChild){s=new o(t,t.parentNode),e=e||(u.schema?u.schema.getNonEmptyElements():null),a=u.schema?u.schema.getWhiteSpaceElements():{};do{if(r=t.nodeType,1===r){var d=t.getAttribute("data-mce-bogus");if(d){t=s.next("all"===d);continue}if(l=t.nodeName.toLowerCase(),e&&e[l]){if("br"===l){c++,t=s.next();continue}return!1}for(i=u.getAttribs(t),n=i.length;n--;)if(l=i[n].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(8==r)return!1;if(3===r&&!_.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&a[t.parentNode.nodeName]&&_.test(t.nodeValue))return!1;t=s.next()}while(t)}return 1>=c},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new a(this)},nodeIndex:p,split:function(t,e,n){function i(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&n}var n,r=t.childNodes,o=t.nodeType;if(1!=o||"bookmark"!=t.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&t.nodeValue.length>0){var a=y(t.nodeValue).length;if(!s.isBlock(t.parentNode)||a>0||0===a&&e(t))return}else if(1==o&&(r=t.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(r[0],t),r.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;s.remove(t)}return t}}var r,o,a,s=this,l=s.createRng();return t&&e?(l.setStart(t.parentNode,s.nodeIndex(t)),l.setEnd(e.parentNode,s.nodeIndex(e)),r=l.extractContents(),l=s.createRng(),l.setStart(e.parentNode,s.nodeIndex(e)+1),l.setEnd(t.parentNode,s.nodeIndex(t)+1),o=l.extractContents(),a=t.parentNode,a.insertBefore(i(r),t),n?a.insertBefore(n,t):a.insertBefore(e,t),a.insertBefore(i(o),t),s.remove(t),n||e):void 0},bind:function(t,e,n,i){var r=this;if(u.isArray(t)){for(var o=t.length;o--;)t[o]=r.bind(t[o],e,n,i);return t}return!r.settings.collect||t!==r.doc&&t!==r.win||r.boundEvents.push([t,e,n,i]),r.events.bind(t,e,n,i||r)},unbind:function(t,e,n){var i,r=this;if(u.isArray(t)){for(i=t.length;i--;)t[i]=r.unbind(t[i],e,n);return t}if(r.boundEvents&&(t===r.doc||t===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];t!=o[0]||e&&e!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null):null},getContentEditableParent:function(t){for(var e=this.getRoot(),n=null;t&&t!==e&&(n=this.getContentEditable(t),null===n);t=t.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var n=e.boundEvents.length;n--;){var i=e.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}e.boundEvents=null}t.setDocument&&t.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,r=e;if(t)for("string"==typeof r&&(r=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(r(t))return t;return null}},f.DOM=new f(document),f.nodeIndex=p,f}),/**
 * ScriptLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function n(){function t(t,n,r){function o(){c.remove(u),l&&(l.onreadystatechange=l.onload=l=null),n()}function s(){a(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)}var l,u,c=i;u=c.uniqueId(),l=document.createElement("script"),l.id=u,l.type="text/javascript",l.src=e._addCacheSuffix(t),"onreadystatechange"in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&o()}:l.onload=o,l.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var n,s=0,l=1,u=2,c=3,d={},h=[],p={},f=[],g=0;this.isDone=function(t){return d[t]==u},this.markDone=function(t){d[t]=u},this.add=this.load=function(t,e,i,r){var o=d[t];o==n&&(h.push(t),d[t]=s),e&&(p[t]||(p[t]=[]),p[t].push({success:e,failure:r,scope:i||this}))},this.remove=function(t){delete d[t],delete p[t]},this.loadQueue=function(t,e,n){this.loadScripts(h,t,e,n)},this.loadScripts=function(e,i,s,h){function m(t,e){r(p[e],function(e){a(e[t])&&e[t].call(e.scope)}),p[e]=n}var v,y=[];f.push({success:i,failure:h,scope:s||this}),(v=function(){var n=o(e);e.length=0,r(n,function(e){return d[e]===u?void m("success",e):d[e]===c?void m("failure",e):void(d[e]!==l&&(d[e]=l,g++,t(e,function(){d[e]=u,g--,m("success",e),v()},function(){d[e]=c,g--,y.push(e),m("failure",e),v()})))}),g||(r(f,function(t){0===y.length?a(t.success)&&t.success.call(t.scope):a(t.failure)&&t.failure.call(t.scope,y)}),f.length=0)})()}}var i=t.DOM,r=e.each,o=e.grep,a=function(t){return"function"==typeof t};return n.ScriptLoader=new n,n}),/**
 * AddOnManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,n){function i(){var t=this;t.items=[],t.urls={},t.lookup={}}var r=n.each;return i.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+r+".js")}},add:function(t,e,n){return this.items.push(e),this.lookup[t]={instance:e,dependencies:n},e},remove:function(t){delete this.urls[t],delete this.lookup[t]},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,n){var i=this.urls[e];r(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(n,o,a,s,l){function u(){var i=c.dependencies(n);r(i,function(t){var n=c.createUrl(o,t);c.load(n.resource,n,e,e)}),a&&(s?a.call(s):a.call(t))}var c=this,d=o;c.urls[n]||("object"==typeof o&&(d=o.prefix+o.resource+o.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=i.baseURL+"/"+d),c.urls[n]=d.substring(0,d.lastIndexOf("/")),c.lookup[n]?u():t.ScriptLoader.add(d,u,s,l))}},i.PluginManager=new i,i.ThemeManager=new i,i}),/**
 * NodeType.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/NodeType",[],function(){function t(t){return function(e){return!!e&&e.nodeType==t}}function e(t){return t=t.toLowerCase().split(" "),function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}}function n(t,e){return e=e.toLowerCase().split(" "),function(n){var i,r;if(s(n))for(i=0;i<e.length;i++)if(r=getComputedStyle(n,null).getPropertyValue(t),r===e[i])return!0;return!1}}function i(t,e){return function(n){return s(n)&&n[t]===e}}function r(t,e){return function(n){return s(n)&&n.getAttribute(t)===e}}function o(t){return s(t)&&t.hasAttribute("data-mce-bogus")}function a(t){return function(e){if(s(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var s=t(1);return{isText:t(3),isElement:s,isComment:t(8),isBr:e("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:e,hasPropValue:i,hasAttributeValue:r,matchStyleValues:n,isBogus:o}}),/**
 * Zwsp.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/text/Zwsp",[],function(){function t(t){return t==n}function e(t){return t.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:t,ZWSP:n,trim:e}}),/**
 * CaretContainer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(t,e){function n(t){return y(t)&&(t=t.parentNode),v(t)&&t.hasAttribute("data-mce-caret")}function i(t){return y(t)&&e.isZwsp(t.data)}function r(t){return n(t)||i(t)}function o(t){var e=t.parentNode;e&&e.removeChild(t)}function a(t){try{return t.nodeValue}catch(e){return""}}function s(t,e){0===e.length?o(t):t.nodeValue=e}function l(t,n){var i,o,a,s;if(i=t.ownerDocument,a=i.createTextNode(e.ZWSP),s=t.parentNode,n){if(o=t.previousSibling,y(o)){if(r(o))return o;if(f(o))return o.splitText(o.data.length-1)}s.insertBefore(a,t)}else{if(o=t.nextSibling,y(o)){if(r(o))return o;if(p(o))return o.splitText(1),o}t.nextSibling?s.insertBefore(a,t.nextSibling):s.appendChild(a)}return a}function u(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t}function c(t,e,n){var i,r,o;return i=e.ownerDocument,r=i.createElement(t),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(u()),o=e.parentNode,n?o.insertBefore(r,e):e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r),r}function d(e){return e.firstChild!==e.lastChild||!t.isBr(e.firstChild)}function h(t){if(v(t)&&r(t)&&(d(t)?t.removeAttribute("data-mce-caret"):o(t)),y(t)){var n=e.trim(a(t));s(t,n)}}function p(t){return y(t)&&t.data[0]==e.ZWSP}function f(t){return y(t)&&t.data[t.data.length-1]==e.ZWSP}function g(e){var n=e.getElementsByTagName("br"),i=n[n.length-1];t.isBogus(i)&&i.parentNode.removeChild(i)}function m(t){return t&&t.hasAttribute("data-mce-caret")?(g(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null}var v=t.isElement,y=t.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,showCaretContainerBlock:m,insertInline:l,insertBlock:c,hasContent:d,remove:h,startsWithCaretContainer:p,endsWithCaretContainer:f}}),/**
 * RangeUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(t,e,n,i,r){function o(t){return g(t)||m(t)}function a(t,e){var n=t.childNodes;return e--,e>n.length-1?e=n.length-1:0>e&&(e=0),n[e]||t}function s(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}function l(t,e,n){return null!==s(t,e,n)}function u(t){return"_mce_caret"===t.id}function c(t,e){return v(t)&&l(t,e,u)===!1}function d(t){this.walk=function(e,n){function i(t){var e;return e=t[0],3===e.nodeType&&e===m&&v>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===b&&t.length>0&&e===y&&3===e.nodeType&&t.splice(t.length-1,1),t}function r(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i}function o(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function s(t,e,o){var a=o?"nextSibling":"previousSibling";for(d=t,h=d.parentNode;d&&d!=e;d=h)h=d.parentNode,p=r(d==t?d:d[a],a),p.length&&(o||p.reverse(),n(i(p)))}var l,u,c,d,h,p,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(g=t.select("td[data-mce-selected],th[data-mce-selected]"),g.length>0)return void f(g,function(t){n([t])});if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=a(y,b)),m==y)return n(i([m]));for(l=t.findCommonAncestor(m,y),d=m;d;d=d.parentNode){if(d===y)return s(m,l,!0);if(d===l)break}for(d=y;d;d=d.parentNode){if(d===m)return s(y,l);if(d===l)break}u=o(m,l)||m,c=o(y,l)||y,s(m,u,!0),p=r(u==m?u:u.nextSibling,"nextSibling",c==y?c.nextSibling:c),p.length&&n(i(p)),s(y,c)},this.split=function(t){function e(t,e){return t.splitText(e)}var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=e(n,i),n=r.previousSibling,o>i?(o-=i,n=r=e(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=e(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=e(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function s(n,i){for(var r=new e(n,t.getParent(n.parentNode,t.isBlock)||_);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function l(t){for(;t&&t!=_;){if(m(t))return!0;t=t.parentNode}return!1}function u(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function d(n,i){var a,s,l;if(i=i||h,l=t.getParent(i.parentNode,t.isBlock)||_,n&&"BR"==i.nodeName&&w&&t.isEmpty(l))return h=i.parentNode,p=t.nodeIndex(i),void(r=!0);for(a=new e(i,l);g=a[n?"prev":"next"]();){if("false"===t.getContentEditableParent(g)||c(g,t.getRoot()))return;if(3===g.nodeType&&g.nodeValue.length>0)return h=g,p=n?g.nodeValue.length:0,void(r=!0);if(t.isBlock(g)||y[g.nodeName.toLowerCase()])return;s=g}o&&s&&(h=s,r=!0,p=0)}var h,p,f,g,y,b,w,_=t.getRoot();if(h=n[(i?"start":"end")+"Container"],p=n[(i?"start":"end")+"Offset"],w=1==h.nodeType&&p===h.childNodes.length,y=t.schema.getNonEmptyElements(),b=i,!v(h)){if(1==h.nodeType&&p>h.childNodes.length-1&&(b=!1),9===h.nodeType&&(h=t.getRoot(),p=0),h===_){if(b&&(g=h.childNodes[p>0?p-1:0])){if(v(g))return;if(y[g.nodeName]||"TABLE"==g.nodeName)return}if(h.hasChildNodes()){if(p=Math.min(!b&&p>0?p-1:p,h.childNodes.length-1),h=h.childNodes[p],p=0,!o&&h===_.lastChild&&"TABLE"===h.nodeName)return;if(l(h)||v(h))return;if(h.hasChildNodes()&&!/TABLE/.test(h.nodeName)){g=h,f=new e(h,_);do{if(m(g)||v(g)){r=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){p=b?0:g.nodeValue.length,h=g,r=!0;break}if(y[g.nodeName.toLowerCase()]&&!a(g)){p=t.nodeIndex(g),h=g.parentNode,"IMG"!=g.nodeName||b||p++,r=!0;break}}while(g=b?f.next():f.prev())}}}o&&(3===h.nodeType&&0===p&&d(!0),1===h.nodeType&&(g=h.childNodes[p],g||(g=h.childNodes[p-1]),!g||"BR"!==g.nodeName||u(g,"A")||s(g)||s(g,!0)||d(!0,g))),b&&!o&&3===h.nodeType&&p===h.nodeValue.length&&d(!1),r&&n["set"+(i?"Start":"End")](h,p)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function h(e,n,i){var r,o,a;if(r=i.elementFromPoint(e,n),o=i.body.createTextRange(),r&&"HTML"!=r.tagName||(r=i.body),o.moveToElementText(r),a=t.toArray(o.getClientRects()),a=a.sort(function(t,e){return t=Math.abs(Math.max(t.top-n,t.bottom-n)),e=Math.abs(Math.max(e.top-n,e.bottom-n)),t-e}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(s){}}return null}function p(t,e){var n=t&&t.parentElement?t.parentElement():null;return m(s(n,e,o))?null:t}var f=t.each,g=n.isContentEditableTrue,m=n.isContentEditableFalse,v=r.isCaretContainer;return d.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},d.getCaretRangeFromPoint=function(t,e,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(t,e),i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(o){i=h(t,e,n)}return p(i,n.body)}return i},d.getSelectedNode=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset==n+1?e.childNodes[n]:null},d.getNode=function(t,e){return 1==t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},d}),/**
 * NodeChange.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n){return function(i){function r(t){var e,n;if(n=i.$(t).parentsUntil(i.getBody()).add(t),n.length===a.length){for(e=n.length;e>=0&&n[e]===a[e];e--);if(-1===e)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,r;n=i.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.compareRanges(r,o)||i.fire("SelectionChange"),o=r}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var t=i.selection.getStart(!0);(e.range||!i.selection.isCollapsed())&&!r(t)&&i.dom.isChildOf(t,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(t){var e,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),e=o.getStart()||r,e.ownerDocument==i.getDoc()&&i.dom.isChildOf(e,r)||(e=r),"IMG"==e.nodeName&&o.isCollapsed()&&(e=e.parentNode),n=[],i.dom.getParent(e,function(t){return t===r?!0:void n.push(t)}),t=t||{},t.element=e,t.parents=n,i.fire("NodeChange",t))}}}),/**
 * Node.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Node",[],function(){function t(t,e,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[a])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[a])return i}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,r,o=this;if("string"!=typeof t){for(i in t)o.attr(i,t[i]);return o}if(n=o.attributes){if(e!==r){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),o;return o}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,o}return n.map[t]}},clone:function(){var t,n,i,r,o,a=this,s=new e(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},t=0,n=i.length;n>t;t++)r=i[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),e=n.lastChild,e?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e,i){var r,o,a=this,s=a.firstChild;if(i=i||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(r=s.attributes.length;r--;)if(o=s.attributes[r].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!n.test(s.value))return!1;if(3===s.type&&s.parent&&i[s.parent.name]&&n.test(s.value))return!1}while(s=t(s,a));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,n){var r,o;if(r=new e(t,i[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e}),/**
 * Schema.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(e,n){return e=t.trim(e),e?e.split(n||" "):[]}function n(t){function n(t,n,i){function r(t,e){var n,i,r={};for(n=0,i=t.length;i>n;n++)r[t[n]]=e||{};return r}var s,l,u;for(i=i||[],n=n||"","string"==typeof i&&(i=e(i)),t=e(t),s=t.length;s--;)l=e([a,n].join(" ")),u={attributes:r(l),attributesOrder:l,children:r(i,o)},p[t[s]]=u}function i(t,n){var i,r,o,a;for(t=e(t),i=t.length,n=e(n);i--;)for(r=p[t[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,l,u,c,d,h,p={};return r[t]?r[t]:(a="id accesskey class dir lang style tabindex title",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=t&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure header footer hgroup section nav",u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=t&&(a+=" xml:lang",h="acronym applet basefont big font strike tt",u=[u,h].join(" "),s(e(h),function(t){n(t,"",u)}),d="center dir isindex noframes",l=[l,d].join(" "),c=[l,u].join(" "),s(e(d),function(t){n(t,"",c)})),c=c||[l,u].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),n("param","name value"),n("map","name",[c,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",[c,"legend"].join(" ")),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[c,"li"].join(" ")),n("noscript","",c),"html4"!=t&&(n("wbr"),n("ruby","",[u,"rt rp"].join(" ")),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[u,"option"].join(" ")),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[c,"figcaption"].join(" ")),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",[c,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=t&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),s(e("a form meter progress dfn"),function(t){p[t]&&delete p[t].children[t]}),delete p.caption.children.table,delete p.script,r[t]=p,p)}function i(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),s(t,function(t,i){n[i]=n[i.toUpperCase()]="map"==e?a(t,/[, ]/):u(t,/[, ]/)})),n}var r={},o={},a=t.makeMap,s=t.each,l=t.extend,u=t.explode,c=t.inArray;return function(t){function o(e,n,i){var o=t[e];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=r[e],o||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,i),r[e]=o)),o}function d(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function h(t){var n,i,r,o,s,l,u,h,p,f,g,m,v,y,b,w,_,C,k,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,$=/[*?+]/;if(t)for(t=e(t,","),M["@"]&&(w=M["@"].attributes,_=M["@"].attributesOrder),n=0,i=t.length;i>n;n++)if(s=x.exec(t[n])){if(y=s[1],p=s[2],b=s[3],h=s[5],m={},v=[],l={attributes:m,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),w){for(C in w)m[C]=w[C];v.push.apply(v,_)}if(h)for(h=e(h,"|"),r=0,o=h.length;o>r;r++)if(s=S.exec(h[r])){if(u={},g=s[1],f=s[2].replace(/::/g,":"),y=s[3],k=s[4],"!"===g&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===g){delete m[f],v.splice(c(v,f),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:k}),u.defaultValue=k),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:k}),u.forcedValue=k),"<"===y&&(u.validValues=a(k,"?"))),$.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(f),l.attributePatterns.push(u)):(m[f]||v.push(f),m[f]=u)}w||"@"!=p||(w=m,_=v),b&&(l.outputName=p,M[b]=l),$.test(p)?(l.pattern=d(p),O.push(l)):M[p]=l}}function p(t){M={},O=[],h(t),s(b,function(t,e){P[e]=t.children})}function f(t){var n=/^(~)?(.+)$/;t&&(r.text_block_elements=r.block_elements=null,s(e(t,","),function(t){var e=n.exec(t),i="~"===e[1],r=i?"span":"div",o=e[2];if(P[o]=P[r],N[o]=r,i||(S[o.toUpperCase()]={},S[o]={}),!M[o]){var a=M[r];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,M[o]=a}s(P,function(t,e){t[r]&&(P[e]=t=l({},P[e]),t[o]=t[r])})}))}function g(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;r[t.schema]=null,n&&s(e(n,","),function(t){var n,r,o=i.exec(t);o&&(r=o[1],n=r?P[o[2]]:P[o[2]]={"#comment":{}},n=P[o[2]],s(e(o[3],"|"),function(t){"-"===r?delete n[t]:n[t]={}}))})}function m(t){var e,n=M[t];if(n)return n;for(e=O.length;e--;)if(n=O[e],n.pattern.test(t))return n}var v,y,b,w,_,C,k,x,S,$,D,T,E,A=this,M={},P={},O=[],N={},L={};t=t||{},b=n(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),v=i(t.valid_styles),y=i(t.invalid_styles,"map"),x=i(t.valid_classes,"map"),w=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),C=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),$=o("non_empty_elements","td th iframe video audio object script pre code",C),D=o("move_caret_before_on_enter_elements","table",$),T=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),S=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",T),E=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((t.special||"script noscript style textarea").split(" "),function(t){L[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?p(t.valid_elements):(s(b,function(t,e){M[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},P[e]=t.children}),"html5"!=t.schema&&s(e("strong/b em/i"),function(t){t=e(t,"/"),M[t[1]].outputName=t[0]}),s(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){M[t]&&(M[t].removeEmpty=!0)}),s(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){M[t].paddEmpty=!0}),s(e("span"),function(t){M[t].removeEmptyAttrs=!0})),f(t.custom_elements),g(t.valid_children),h(t.extended_valid_elements),g("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,n){M[n]&&(M[n].parentsRequired=e(t))}),t.invalid_elements&&s(u(t.invalid_elements),function(t){M[t]&&delete M[t]}),m("span")||h("span[!data-mce-type|*]"),A.children=P,A.getValidStyles=function(){return v},A.getInvalidStyles=function(){return y},A.getValidClasses=function(){return x},A.getBoolAttrs=function(){return k},A.getBlockElements=function(){return S},A.getTextBlockElements=function(){return T},A.getTextInlineElements=function(){return E},A.getShortEndedElements=function(){return C},A.getSelfClosingElements=function(){return _},A.getNonEmptyElements=function(){return $},A.getMoveCaretBeforeOnEnterElements=function(){return D},A.getWhiteSpaceElements=function(){return w},A.getSpecialElements=function(){return L},A.isValidChild=function(t,e){var n=P[t];return!(!n||!n[e])},A.isValid=function(t,e){var n,i,r=m(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},A.getElementRule=m,A.getCustomElements=function(){return N},A.addValidElements=h,A.setValidElements=p,A.addCustomElements=f,A.addValidChildren=g,A.elements=M}}),/**
 * SaxParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,n){function i(t,e,n){var i,r,o,a,s=1;for(a=t.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function r(r,a){function s(){}var l=this;r=r||{},l.schema=a=a||new t,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(t){t&&(l[t]=r[t]||s)}),l.parse=function(t){function o(t){var e,n;for(e=H.length;e--&&H[e].name!==t;);if(e>=0){for(n=H.length-1;n>=e;n--)t=H[n],t.valid&&R.end(t.name);H.length=e}}function s(t,e,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(e=e.toLowerCase(),n=e in y?e:z(n||i||o||""),w&&!g&&0!==e.indexOf("data-")){if(a=S[e],!a&&$){for(s=$.length;s--&&(a=$[s],!a.pattern.test(e)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(j[e]&&!r.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(V.test(u))return;if(!r.allow_html_data_urls&&U.test(u)&&!/^data:image\//i.test(u))return}d.map[e]=n,d.push({name:e,value:n})}var l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R=this,B=0,H=[],F=0,z=e.decode,j=n.makeMap("src,href,data,background,formaction,poster"),V=/((java|vb)script|mhtml):/i,U=/^data:/i;for(P=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),M=r.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),w=r.validate,m=r.remove_internals,I=r.fix_self_closing,N=a.getSpecialElements();l=P.exec(t);){if(B<l.index&&R.text(z(t.substr(B,l.index-B))),u=l[6])u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),b=u in v,I&&M[u]&&H.length>0&&H[H.length-1].name===u&&o(u),!w||(_=a.getElementRule(u))){if(C=!0,w&&(S=_.attributes,$=_.attributePatterns),(x=l[8])?(g=-1!==x.indexOf("data-mce-type"),g&&m&&(C=!1),d=[],d.map={},x.replace(O,s)):(d=[],d.map={}),w&&!g){if(D=_.attributesRequired,T=_.attributesDefault,E=_.attributesForced,A=_.removeEmptyAttrs,A&&!d.length&&(C=!1),E)for(h=E.length;h--;)k=E[h],f=k.name,L=k.value,"{$uid}"===L&&(L="mce_"+F++),d.map[f]=L,d.push({name:f,value:L});if(T)for(h=T.length;h--;)k=T[h],f=k.name,f in d.map||(L=k.value,"{$uid}"===L&&(L="mce_"+F++),d.map[f]=L,d.push({name:f,value:L}));if(D){for(h=D.length;h--&&!(D[h]in d.map););-1===h&&(C=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){B=i(a,t,P.lastIndex),P.lastIndex=B;continue}C=!1}}C&&R.start(u,d,b)}else C=!1;if(c=N[u]){c.lastIndex=B=l.index+l[0].length,(l=c.exec(t))?(C&&(p=t.substr(B,l.index-B)),B=l.index+l[0].length):(p=t.substr(B),B=t.length),C&&(p.length>0&&R.text(p,!0),R.end(u)),P.lastIndex=B;continue}b||(x&&x.indexOf("/")==x.length-1?C&&R.end(u):H.push({name:u,valid:C}))}else(u=l[1])?(">"===u.charAt(0)&&(u=" "+u),r.allow_conditional_comments||"[if"!==u.substr(0,3).toLowerCase()||(u=" "+u),R.comment(u)):(u=l[2])?R.cdata(u):(u=l[3])?R.doctype(u):(u=l[4])&&R.pi(u,l[5]);B=l.index+l[0].length}for(B<t.length&&R.text(z(t.substr(B))),h=H.length-1;h>=0;h--)u=H[h],u.valid&&R.end(u.name)}}var o=n.each;return r.findEndTag=i,r}),/**
 * DomParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend,l=function(e,n){e.padd_empty_with_br?n.empty().append(new t("br","1")).shortEnded=!0:n.empty().append(new t("#text","3")).value=""},u=function(t,e){return t&&t.firstChild===t.lastChild&&t.firstChild.name===e};return function(c,d){function h(e){var n,i,o,a,s,l,c,h,f,g,m,v,y,b,w,_;for(v=r("tr,td,th,tbody,thead,tfoot,table"),g=d.getNonEmptyElements(),m=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),b=d.getSpecialElements(),n=0;n<e.length;n++)if(i=e[n],i.parent&&!i.fixed)if(y[i.name]&&"li"==i.parent.name){for(w=i.next;w&&y[w.name];)w.name="li",w.fixed=!0,i.parent.insert(w,i.parent),w=w.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!d.isValidChild(o.name,i.name)&&!v[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=l=p.filterNode(a[0].clone()),f=0;f<a.length-1;f++){for(d.isValidChild(l.name,a[f].name)?(c=p.filterNode(a[f].clone()),l.append(c)):c=l,h=a[f].firstChild;h&&h!=a[f+1];)_=h.next,c.append(h),h=_;l=c}s.isEmpty(g,m)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(g,m)||u(o,"br"))&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(w=i.prev,w&&("ul"===w.name||"ul"===w.name)){w.append(i);continue}if(w=i.next,w&&("ul"===w.name||"ul"===w.name)){w.insert(i,w.firstChild,!0);continue}i.wrap(p.filterNode(new t("ul",1)));continue}d.isValidChild(i.parent.name,"div")&&d.isValidChild("div",i.name)?i.wrap(p.filterNode(new t("div",1))):b[i.name]?i.empty().remove():i.unwrap()}}}var p=this,f={},g=[],m={},v={};c=c||{},c.validate="validate"in c?c.validate:!0,c.root_name=c.root_name||"body",p.schema=d=d||new e,p.filterNode=function(t){var e,n,i;n in f&&(i=m[n],i?i.push(t):m[n]=[t]),e=g.length;for(;e--;)n=g[e].name,n in t.attributes.map&&(i=v[n],i?i.push(t):v[n]=[t]);return t},p.addNodeFilter=function(t,e){o(a(t),function(t){var n=f[t];n||(f[t]=n=[]),n.push(e)})},p.addAttributeFilter=function(t,e){o(a(t),function(t){var n;for(n=0;n<g.length;n++)if(g[n].name===t)return void g[n].callbacks.push(e);g.push({name:t,callbacks:[e]})})},p.parse=function(e,i){function o(){function t(t){t&&(i=t.firstChild,i&&3==i.type&&(i.value=i.value.replace(A,"")),i=t.lastChild,i&&3==i.type&&(i.value=i.value.replace(P,"")))}var e,n,i=b.firstChild;if(d.isValidChild(b.name,B.toLowerCase())){for(;i;)e=i.next,3==i.type||1==i.type&&"p"!==i.name&&!E[i.name]&&!i.attr("data-mce-type")?n?n.append(i):(n=a(B,1),n.attr(c.forced_root_block_attrs),b.insert(n,i),n.append(i)):(t(n),n=null),i=e;t(n)}}function a(e,n){var i,r=new t(e,n);return e in f&&(i=m[e],i?i.push(r):m[e]=[r]),r}function u(t){var e,n,i,r,o=d.getBlockElements();for(e=t.prev;e&&3===e.type;){if(i=e.value.replace(P,""),i.length>0)return void(e.value=i);if(n=e.next){if(3==n.type&&n.value.length){e=e.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){e=e.prev;continue}}r=e.prev,e.remove(),e=r}}function p(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n}var y,b,w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R,B,H=[];if(i=i||{},m={},v={},E=s(r("script,style,head,html,body,title,meta,param"),d.getBlockElements()),R=d.getNonEmptyElements(),I=d.children,T=c.validate,B="forced_root_block"in i?i.forced_root_block:c.forced_root_block,L=d.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,O=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/,y=new n({validate:T,allow_script_urls:c.allow_script_urls,allow_conditional_comments:c.allow_conditional_comments,self_closing_elements:p(d.getSelfClosingElements()),cdata:function(t){w.append(a("#cdata",4)).value=t},text:function(t,e){var n;M||(t=t.replace(O," "),w.lastChild&&E[w.lastChild.name]&&(t=t.replace(A,""))),0!==t.length&&(n=a("#text",3),n.raw=!!e,w.append(n).value=t)},comment:function(t){w.append(a("#comment",8)).value=t},pi:function(t,e){w.append(a(t,7)).value=e,u(w)},doctype:function(t){var e;e=w.append(a("#doctype",10)),e.value=t,u(w)},start:function(t,e,n){var i,r,o,s,l;if(o=T?d.getElementRule(t):{}){for(i=a(o.outputName||t,1),i.attributes=e,i.shortEnded=n,w.append(i),l=I[w.name],l&&I[i.name]&&!l[i.name]&&H.push(i),r=g.length;r--;)s=g[r].name,s in e.map&&($=v[s],$?$.push(i):v[s]=[i]);E[t]&&u(i),n||(w=i),!M&&L[t]&&(M=!0)}},end:function(t){var e,n,i,r,o;if(n=T?d.getElementRule(t):{}){if(E[t]&&!M){if(e=w.firstChild,e&&3===e.type)if(i=e.value.replace(A,""),i.length>0)e.value=i,e=e.next;else for(r=e.next,e.remove(),e=r;e&&3===e.type;)i=e.value,r=e.next,(0===i.length||N.test(i))&&(e.remove(),e=r),e=r;if(e=w.lastChild,e&&3===e.type)if(i=e.value.replace(P,""),i.length>0)e.value=i,e=e.prev;else for(r=e.prev,e.remove(),e=r;e&&3===e.type;)i=e.value,r=e.prev,(0===i.length||N.test(i))&&(e.remove(),e=r),e=r}if(M&&L[t]&&(M=!1),(n.removeEmpty||n.paddEmpty)&&w.isEmpty(R,L))if(n.paddEmpty)l(c,w);else if(!w.attributes.map.name&&!w.attributes.map.id)return o=w.parent,E[w.name]?w.empty().remove():w.unwrap(),void(w=o);w=w.parent}}},d),b=w=new t(i.context||c.root_name,11),y.parse(e),T&&H.length&&(i.context?i.invalid=!0:h(H)),B&&("body"==b.name||i.isRootContent)&&o(),!i.invalid){for(D in m){for($=f[D],_=m[D],x=_.length;x--;)_[x].parent||_.splice(x,1);for(C=0,k=$.length;k>C;C++)$[C](_,D,i)}for(C=0,k=g.length;k>C;C++)if($=g[C],$.name in v){for(_=v[$.name],x=_.length;x--;)_[x].parent||_.splice(x,1);for(x=0,S=$.callbacks.length;S>x;x++)$.callbacks[x](_,$.name,i)}}return b},c.remove_trailing_brs&&p.addNodeFilter("br",function(e){var n,i,r,o,a,u,h,p,f=e.length,g=s({},d.getBlockElements()),m=d.getNonEmptyElements(),v=d.getNonEmptyElements();for(g.body=1,n=0;f>n;n++)if(i=e[n],r=i.parent,g[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(u=a.name,"span"!==u||"bookmark"!==a.attr("data-mce-type")){if("br"!==u)break;if("br"===u){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(m,v)&&(h=d.getElementRule(r.name),h&&(h.removeEmpty?r.remove():h.paddEmpty&&l(c,r))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!g[r.name]);)r=r.parent;o===r&&c.padd_empty_with_br!==!0&&(p=new t("#text",3),p.value="",i.replace(p))}}),c.allow_unsafe_link_target||p.addAttributeFilter("href",function(t){function e(t){return t=n(t),t?[t,l].join(" "):l}function n(t){var e=new RegExp("("+l.replace(" ","|")+")","g");return t&&(t=i.trim(t.replace(e,""))),t?t:null}function r(t,i){return i?e(t):n(t)}for(var o,a,s=t.length,l="noopener noreferrer";s--;)o=t[s],a=o.attr("rel"),"a"===o.name&&o.attr("rel",r(a,"_blank"==o.attr("target")))}),c.allow_html_in_named_anchor||p.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do n=e.prev,i.insert(e,r),e=n;while(e)}}),c.fix_list_elements&&p.addNodeFilter("ul,ol",function(e){for(var n,i,r=e.length;r--;)if(n=e[r],i=n.parent,"ul"===i.name||"ol"===i.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new t("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}}),c.validate&&d.getValidClasses()&&p.addAttributeFilter("class",function(t){for(var e,n,i,r,o,a,s,l=t.length,u=d.getValidClasses();l--;){for(e=t[l],n=e.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,a=u["*"],a&&a[r]&&(s=!0),a=u[e.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),e.attr("class",o)}})}}),/**
 * Writer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var i,r,o,a,s,l=[];return e=e||{},i=e.indent,r=n(e.indent_before||""),o=n(e.indent_after||""),a=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(t,e,n){var u,c,d,h;if(i&&r[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",t),e)for(u=0,c=e.length;c>u;u++)d=e[u],l.push(" ",d.name,'="',a(d.value,!0),'"');!n||s?l[l.length]=">":l[l.length]=" />",n&&i&&o[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),i&&o[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:a(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",a(e),"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(n,i){var r=this,o=new t(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new e,r.writer=o,r.serialize=function(t){function e(t){var n,s,l,u,c,d,h,p,f,g=r[t.type];if(g)g(t);else{if(n=t.name,s=t.shortEnded,l=t.attributes,a&&l&&l.length>1&&(d=[],d.map={},f=i.getElementRule(t.name))){for(h=0,p=f.attributesOrder.length;p>h;h++)u=f.attributesOrder[h],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,p=l.length;p>h;h++)u=l[h].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(o.start(t.name,l,s),!s){if(t=t.firstChild)do e(t);while(t=t.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(t){o.text(t.value,t.raw)},8:function(t){o.comment(t.value)},7:function(t){o.pi(t.name,t.value)},10:function(t){o.doctype(t.value)},4:function(t){o.cdata(t.value)},11:function(t){if(t=t.firstChild)do e(t);while(t=t.next)}},o.reset(),1!=t.type||n.inner?r[11](t):e(t),o.getContent()}}}),/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(t,e,n,i,r,o,a,s,l,u){function c(t){function e(t){return t&&"br"===t.name}var n,i;n=t.lastChild,e(n)&&(i=n.prev,e(i)&&(n.remove(),i.remove()))}var d=l.each,h=l.trim,p=t.DOM;return function(t,o){function f(t){var e=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\ufeff]+<\\/span>","\\s?("+_.join("|")+')="[^"]+"'].join("|"),"gi");return t=u.trim(t.replace(e,""))}function g(t){var e,i,r,a,s,l=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=o.schema;for(l=f(l),s=c.getShortEndedElements();a=u.exec(l);)i=u.lastIndex,r=a[0].length,e=s[a[1]]?i:n.findEndTag(c,l,i),l=l.substring(0,i-r)+l.substring(e),u.lastIndex=i-r;return l}function m(){return g(o.getBody().innerHTML)}function v(t){-1===l.inArray(_,t)&&(w.addAttributeFilter(t,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),_.push(t))}var y,b,w,_=["data-mce-selected"];return o&&(y=o.dom,b=o.schema),y=y||p,b=b||new a(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,w=new e(t,b),w.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)n=t[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),w.addAttributeFilter("src,href,style",function(e,n){for(var i,r,o,a=e.length,s="data-mce-"+n,l=t.url_converter,u=t.url_converter_scope;a--;)i=e[a],r=i.attributes.map[s],r!==o?(i.attr(n,r.length>0?r:null),i.attr(s,null)):(r=i.attributes.map[n],"style"===n?r=y.serializeStyle(y.parseStyle(r),i.name):l&&(r=l.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),w.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("class"),n&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),w.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)i=t[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),w.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)e=t[n].firstChild,e&&(e.value=i.decode(e.value))}),w.addNodeFilter("script,style",function(t,e){function n(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=t.length;a--;)i=t[a],r=i.firstChild?i.firstChild.value:"","script"===e?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),w.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)e=t[n],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),w.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),w.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),{schema:b,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(e,n){var i,o,a,l,p,f,g=this;return s.ie&&y.select("script,style,select,map").length>0?(p=e.innerHTML,e=e.cloneNode(!1),y.setHTML(e,p)):e=e.cloneNode(!0),i=document.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),d("BODY"==e.nodeName?e.childNodes:[e],function(t){o.body.appendChild(o.importNode(t,!0))}),e="BODY"!=e.nodeName?o.body.firstChild:o.body,a=y.doc,y.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=e,g.onPreProcess(n)),f=w.parse(h(n.getInner?e.innerHTML:y.getOuterHTML(e)),n),c(f),l=new r(t,b),n.content=l.serialize(f),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||g.onPostProcess(n),a&&(y.doc=a),n.node=null,n.content},addRules:function(t){b.addValidElements(t)},setRules:function(t){b.setValidElements(t)},onPreProcess:function(t){o&&o.fire("PreProcess",t)},onPostProcess:function(t){o&&o.fire("PostProcess",t)},addTempAttr:v,trimHtml:f,getTrimmedContent:m,trimContent:g}}}),/**
 * TridentSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,n){var i,r,o,a,s,l,u,c,d=0,h=-1;if(i=e.duplicate(),i.collapse(n),c=i.parentElement(),c.ownerDocument===t.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(a=c.children,r=a.length-1;r>=d;)if(u=Math.floor((d+r)/2),s=a[u],i.moveToElementText(s),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",e),h>0)r=u-1;else{if(!(0>h))return{node:s};d=u+1}if(0>h)for(s?i.collapse(!1):(i.moveToElementText(c),i.collapse(!0),s=c,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",1)&&c==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",-1)&&c==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}function n(){function n(t){var n,i,r,o,a,s=e(c,t),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return void d[t?"setStart":"setEnd"](n,0);if(i===o)return void d[t?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return void d[t?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[t?"setStart":"setEnd"](r,0):d[t?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(a=r.nodeValue,l+=a.length,l>=i)){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[t?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[t?"setStart":"setEnd"](r,n.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(l+=r.nodeValue.length,l>=i)){n=r,l-=i;break}r=r.previousSibling}}d[t?"setStart":"setEnd"](n,l)}var o,a,s,l,u,c=t.getRng(),d=r.createRng();if(o=c.item?c.item(0):c.parentElement(),o.ownerDocument!=r.doc)return d;if(a=t.isCollapsed(),c.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;u=i.getBookmark(2),s=c.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=c.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(u),c=t.getRng(),n(!0),a||n()}return d}var i=this,r=t.dom,o=!1;this.getBookmark=function(n){function i(t){var e,n,i,o,a=[];for(e=t.parentNode,n=r.getRoot().parentNode;e!=n&&9!==e.nodeType;){for(i=e.children,o=i.length;o--;)if(t===i[o]){a.push(o);break}t=e,e=e.parentNode}return a}function o(t){var n;return n=e(a,t),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=t.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),t.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(t){function e(t){var e,n,i,o;for(e=r.getRoot(),n=t.length-1;n>=0;n--)o=e.children,i=t[n],i<=o.length-1&&(e=o[i]);return e}function n(n){var r,a,s,l,u=t[n?"start":"end"];u&&(r=u.position>0,a=o.createTextRange(),a.moveToElementText(e(u.indexes)),l=u.offset,l!==s?(a.collapse(u.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;t.start&&(t.start.ctrl?(i=o.createControlRange(),i.addElement(e(t.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(e){function n(t){var e,n,a,d,h;a=r.create("a"),e=t?s:u,n=t?l:c,d=i.duplicate(),(e==f||e==f.documentElement)&&(e=g,n=0),3==e.nodeType?(e.parentNode.insertBefore(a,e),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(t?"StartToStart":"EndToEnd",d)):(h=e.childNodes,h.length?(n>=h.length?r.insertAfter(a,h[h.length-1]):e.insertBefore(a,h[n]),d.moveToElementText(a)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",a=e.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(t?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,u,c,d,h,p,f=t.dom.doc,g=f.body;if(s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset,i=g.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(p=s.childNodes[l],a=g.createControlRange(),a.addElement(p),a.select(),h=t.getRng(),h.item&&p===h.item(0))return}catch(m){}}n(!0),n(),i.select()},this.getRangeAt=n}return t}),/**
 * VK.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),/**
 * ControlSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(t,e,n,i,r){function o(t,e){for(;e&&e!=t;){if(s(e)||a(e))return e;e=e.parentNode}return null}var a=r.isContentEditableFalse,s=r.isContentEditableTrue;return function(r,s){function l(t){var e=s.settings.object_resizing;return e===!1||i.iOS?!1:("string"!=typeof e&&(e="table,img,div"),"false"===t.getAttribute("data-mce-resize")?!1:t==s.getBody()?!1:s.dom.is(t,e))}function u(e){var n,i,r,o,a;n=e.screenX-M,i=e.screenY-P,H=n*E[2]+L,F=i*E[3]+I,H=5>H?5:H,F=5>F?5:F,r="IMG"==S.nodeName&&s.settings.resize_img_proportional!==!1?!t.modifierPressed(e):t.modifierPressed(e)||"IMG"==S.nodeName&&E[2]*E[3]!==0,r&&(K(n)>K(i)?(F=Y(H*R),H=Y(F/R)):(H=Y(F/R),F=Y(H*R))),V.setStyles($,{width:H,height:F}),o=E.startPos.x+n,a=E.startPos.y+i,o=o>0?o:0,a=a>0?a:0,V.setStyles(D,{left:o,top:a,display:"block"}),D.innerHTML=H+" &times; "+F,E[2]<0&&$.clientWidth<=H&&V.setStyle($,"left",O+(L-H)),E[3]<0&&$.clientHeight<=F&&V.setStyle($,"top",N+(I-F)),n=Z.scrollWidth-z,i=Z.scrollHeight-j,n+i!==0&&V.setStyles(D,{left:o-n,top:a-i}),B||(s.fire("ObjectResizeStart",{target:S,width:L,height:I}),B=!0)}function c(){function t(t,e){e&&(S.style[t]||!s.schema.isValid(S.nodeName.toLowerCase(),t)?V.setStyle(S,t,e):V.setAttrib(S,t,e))}B=!1,t("width",H),t("height",F),V.unbind(W,"mousemove",u),V.unbind(W,"mouseup",c),G!=W&&(V.unbind(G,"mousemove",u),V.unbind(G,"mouseup",c)),V.remove($),V.remove(D),q&&"TABLE"!=S.nodeName||d(S),s.fire("ObjectResized",{target:S,width:H,height:F}),V.setAttrib(S,"style",V.getAttrib(S,"style")),s.nodeChanged()}function d(t,e,n){var r,o,a,d,p;h(),_(),r=V.getPos(t,Z),O=r.x,N=r.y,p=t.getBoundingClientRect(),o=p.width||p.right-p.left,a=p.height||p.bottom-p.top,S!=t&&(w(),S=t,H=F=0),d=s.fire("ObjectSelected",{target:t}),l(t)&&!d.isDefaultPrevented()?U(T,function(t,r){function s(e){M=e.screenX,P=e.screenY,L=S.clientWidth,I=S.clientHeight,R=I/L,E=t,t.startPos={x:o*t[0]+O,y:a*t[1]+N},z=Z.scrollWidth,j=Z.scrollHeight,$=S.cloneNode(!0),V.addClass($,"mce-clonedresizable"),V.setAttrib($,"data-mce-bogus","all"),$.contentEditable=!1,$.unSelectabe=!0,V.setStyles($,{left:O,top:N,margin:0}),$.removeAttribute("data-mce-selected"),Z.appendChild($),V.bind(W,"mousemove",u),V.bind(W,"mouseup",c),G!=W&&(V.bind(G,"mousemove",u),V.bind(G,"mouseup",c)),D=V.add(Z,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},L+" &times; "+I)}var l;return e?void(r==e&&s(n)):(l=V.get("mceResizeHandle"+r),l&&V.remove(l),l=V.add(Z,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),i.ie&&(l.contentEditable=!1),V.bind(l,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),s(t)}),t.elm=l,void V.setStyles(l,{left:o*t[0]+O-l.offsetWidth/2,top:a*t[1]+N-l.offsetHeight/2}))}):h(),S.setAttribute("data-mce-selected","1")}function h(){var t,e;_(),S&&S.removeAttribute("data-mce-selected");for(t in T)e=V.get("mceResizeHandle"+t),e&&(V.unbind(e),V.remove(e))}function p(t){function e(t,e){if(t)do if(t===e)return!0;while(t=t.parentNode)}var n,i;if(!B&&!s.removed)return U(V.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"==t.type?t.target:r.getNode(),i=V.$(i).closest(q?"table":"table,img,hr")[0],e(i,Z)&&(C(),n=r.getStart(!0),e(n,i)&&e(r.getEnd(!0),i)&&(!q||i!=n&&"IMG"!==n.nodeName))?void d(i):void h()}function f(t,e,n){t&&t.attachEvent&&t.attachEvent("on"+e,n)}function g(t,e,n){t&&t.detachEvent&&t.detachEvent("on"+e,n)}function m(t){var e,n,i,r,o,a,l,u=t.srcElement;e=u.getBoundingClientRect(),a=A.clientX-e.left,l=A.clientY-e.top;for(n in T)if(i=T[n],r=u.offsetWidth*i[0],o=u.offsetHeight*i[1],K(r-a)<8&&K(o-l)<8){E=i;break}B=!0,s.fire("ObjectResizeStart",{target:S,width:S.clientWidth,height:S.clientHeight}),s.getDoc().selection.empty(),d(u,n,A)}function v(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function y(t){return a(o(s.getBody(),t))}function b(t){var e=t.srcElement;if(y(e))return void v(t);if(e!=S){if(s.fire("ObjectSelected",{target:e}),w(),0===e.id.indexOf("mceResizeHandle"))return void(t.returnValue=!1);("IMG"==e.nodeName||"TABLE"==e.nodeName)&&(h(),S=e,f(e,"resizestart",m))}}function w(){g(S,"resizestart",m)}function _(){for(var t in T){var e=T[t];e.elm&&(V.unbind(e.elm),delete e.elm)}}function C(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function k(t){var e;if(q){e=W.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(n){}}}function x(){S=$=null,q&&(w(),g(Z,"controlselect",b))}var S,$,D,T,E,A,M,P,O,N,L,I,R,B,H,F,z,j,V=s.dom,U=e.each,W=s.getDoc(),G=document,q=i.ie&&i.ie<11,K=Math.abs,Y=Math.round,Z=s.getBody();T={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var J=".mce-content-body";return s.contentStyles.push(J+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+J+" .mce-resizehandle:hover {background: #000}"+J+" img[data-mce-selected],"+J+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+J+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+J+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){q?(s.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(h(),k(t.target))}),f(Z,"controlselect",b),s.on("mousedown",function(t){A=t})):(C(),i.ie>=11&&(s.on("mousedown click",function(t){var e=t.target,n=e.nodeName;B||!/^(TABLE|IMG|HR)$/.test(n)||y(e)||(s.selection.select(e,"TABLE"==n),"mousedown"==t.type&&s.nodeChanged())}),s.dom.bind(Z,"mscontrolselect",function(t){function e(t){n.setEditorTimeout(s,function(){s.selection.select(t)})}return y(t.target)?(t.preventDefault(),void e(t.target)):void(/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target)))})));var t=n.throttle(function(t){s.composing||p(t)});s.on("nodechange ResizeEditor ResizeWindow drop",t),s.on("keyup compositionend",function(e){S&&"TABLE"==S.nodeName&&t(e)}),s.on("hide blur",h)}),s.on("remove",_),{isResizable:l,showResizeRect:d,hideResizeRect:h,updateResizeRect:p,controlSelect:k,destroy:x}}}),/**
 * Fun.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Fun",[],function(){function t(t){return function(){return t}}function e(t){return function(e){return!t(e)}}function n(t,e){return function(n){return t(e(n))}}function i(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}function r(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function o(t){var e=s.call(arguments);return e.length-1>=t.length?t.apply(this,e.slice(1)):function(){var t=e.concat([].slice.call(arguments));return o.apply(this,t)}}function a(){}var s=[].slice;return{constant:t,negate:e,and:r,or:i,curry:o,compose:n,noop:a}}),/**
 * CaretCandidate.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(t,e,n){function i(t){return g(t)?!1:d(t)?h(t.parentNode)?!1:!0:p(t)||c(t)||f(t)||u(t)}function r(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(u(t))return!1;if(l(t))return!0}return!0}function o(t){return u(t)?e.reduce(t.getElementsByTagName("*"),function(t,e){return t||l(e)},!1)!==!0:!1}function a(t){return p(t)||o(t)}function s(t,e){return i(t)&&r(t,e)}var l=t.isContentEditableTrue,u=t.isContentEditableFalse,c=t.isBr,d=t.isText,h=t.matchNodeNames("script style textarea"),p=t.matchNodeNames("img input textarea hr iframe video audio object"),f=t.matchNodeNames("table"),g=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:a,isEditableCaretCandidate:s}}),/**
 * ClientRect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/geom/ClientRect",[],function(){function t(t){return t?{left:c(t.left),top:c(t.top),bottom:c(t.bottom),right:c(t.right),width:c(t.width),height:c(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e}function n(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}function i(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2}function r(t,e){return t.bottom<e.top?!0:t.top>e.bottom?!1:i(e.top-t.bottom,t,e)}function o(t,e){return t.top>e.bottom?!0:t.bottom<e.top?!1:i(e.bottom-t.top,t,e)}function a(t,e){return t.left<e.left}function s(t,e){return t.right>e.right}function l(t,e){return r(t,e)?-1:o(t,e)?1:a(t,e)?-1:s(t,e)?1:0}function u(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}var c=Math.round;return{clone:t,collapse:e,isEqual:n,isAbove:r,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:u}}),/**
 * ExtendingChar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/text/ExtendingChar",[],function(){function t(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}var e=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:t}}),/**
 * CaretPosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(t,e,n,i,r,o,a){function s(t){return"createRange"in t?t.createRange():n.DOM.createRng()}function l(t){return t&&/[\r\n\t ]/.test(t)}function u(t){var e,n=t.startContainer,i=t.startOffset;return l(t.toString())&&v(n.parentNode)&&(e=n.data,l(e[i-1])||l(e[i+1]))?!0:!1}function c(t){function e(t){var e,n=t.ownerDocument,i=s(n),r=n.createTextNode(""),a=t.parentNode;return a.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=o.clone(i.getBoundingClientRect()),a.removeChild(r),e}function n(t){var n,i;return i=t.getClientRects(),n=i.length>0?o.clone(i[0]):o.clone(t.getBoundingClientRect()),b(t)&&0===n.left?e(t):n}function i(t,e){return t=o.collapse(t,e),t.width=1,t.right=t.left+1,t}function r(t){0!==t.height&&(p.length>0&&o.isEqual(t,p[p.length-1])||p.push(t))}function l(t,e){var o=s(t.ownerDocument);if(e<t.data.length){if(a.isExtendingChar(t.data[e]))return p;if(a.isExtendingChar(t.data[e-1])&&(o.setStart(t,e),o.setEnd(t,e+1),!u(o)))return r(i(n(o),!1)),p}e>0&&(o.setStart(t,e-1),o.setEnd(t,e),u(o)||r(i(n(o),!1))),e<t.data.length&&(o.setStart(t,e),o.setEnd(t,e+1),u(o)||r(i(n(o),!0)))}var c,d,p=[];if(y(t.container()))return l(t.container(),t.offset()),p;if(h(t.container()))if(t.isAtEnd())d=_(t.container(),t.offset()),y(d)&&l(d,d.data.length),m(d)&&!b(d)&&r(i(n(d),!1));else{if(d=_(t.container(),t.offset()),y(d)&&l(d,0),m(d)&&t.isAtEnd())return r(i(n(d),!1)),p;c=_(t.container(),t.offset()-1),m(c)&&!b(c)&&(f(c)||f(d)||!m(d))&&r(i(n(c),!1)),m(d)&&r(i(n(d),!0))}return p}function d(e,n,i){function r(){return y(e)?0===n:0===n}function o(){return y(e)?n>=e.data.length:n>=e.childNodes.length}function a(){var t;return t=s(e.ownerDocument),t.setStart(e,n),t.setEnd(e,n),t}function l(){return i||(i=c(new d(e,n))),i}function u(){return l().length>0}function h(t){return t&&e===t.container()&&n===t.offset()}function p(t){return _(e,t?n-1:n)}return{container:t.constant(e),offset:t.constant(n),toRange:a,getClientRects:l,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:h,getNode:p}}var h=e.isElement,p=r.isCaretCandidate,f=e.matchStyleValues("display","block table"),g=e.matchStyleValues("float","left right"),m=t.and(h,p,t.negate(g)),v=t.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),y=e.isText,b=e.isBr,w=n.nodeIndex,_=i.getNode;return d.fromRangeStart=function(t){return new d(t.startContainer,t.startOffset)},d.fromRangeEnd=function(t){return new d(t.endContainer,t.endOffset)},d.after=function(t){return new d(t.parentNode,w(t)+1)},d.before=function(t){return new d(t.parentNode,w(t))},d}),/**
 * CaretBookmark.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(t,e,n,i,r){function o(t){var e=t.parentNode;return v(e)?o(e):e}function a(t){return t?i.reduce(t.childNodes,function(t,e){return v(e)&&"BR"!=e.nodeName?t=t.concat(a(e)):t.push(e),t},[]):[]}function s(t,e){for(;(t=t.previousSibling)&&m(t);)e+=t.data.length;return e}function l(t){return function(e){return t===e}}function u(e){var n,r,s;return n=a(o(e)),r=i.findIndex(n,l(e),e),n=n.slice(0,r+1),s=i.reduce(n,function(t,e,i){return m(e)&&m(n[i-1])&&t++,t},0),n=i.filter(n,t.matchNodeNames(e.nodeName)),r=i.findIndex(n,l(e),e),r-s}function c(t){var e;return e=m(t)?"text()":t.nodeName.toLowerCase(),e+"["+u(t)+"]"}function d(t,e,n){var i=[];for(e=e.parentNode;e!=t&&(!n||!n(e));e=e.parentNode)i.push(e);return i}function h(e,r){var o,a,l,u,h,p=[];return o=r.container(),a=r.offset(),m(o)?l=s(o,a):(u=o.childNodes,a>=u.length?(l="after",a=u.length-1):l="before",o=u[a]),p.push(c(o)),h=d(e,o),h=i.filter(h,n.negate(t.isBogus)),p=p.concat(i.map(h,function(t){return c(t)})),p.reverse().join("/")+","+l}function p(e,n,r){var o=a(e);return o=i.filter(o,function(t,e){return!m(t)||!m(o[e-1])}),o=i.filter(o,t.matchNodeNames(n)),o[r]}function f(t,e){for(var n,i=t,o=0;m(i);){if(n=i.data.length,e>=o&&o+n>=e){t=i,e-=o;break}if(!m(i.nextSibling)){t=i,e=n;break}o+=n,i=i.nextSibling}return e>t.data.length&&(e=t.data.length),new r(t,e)}function g(t,e){var n,o,a;return e?(n=e.split(","),e=n[0].split("/"),a=n.length>1?n[1]:"before",o=i.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),p(t,e[1],parseInt(e[2],10))):null},t),o?m(o)?f(o,parseInt(a,10)):(a="after"===a?y(o)+1:y(o),new r(o.parentNode,a)):null):null}var m=t.isText,v=t.isBogus,y=e.nodeIndex;return{create:h,resolve:g}}),/**
 * BookmarkManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils"],function(t,e,n,i,r,o,a){function s(s){var u=s.dom;this.getBookmark=function(t,c){function d(t,n){var i=0;return e.each(u.select(t),function(t){return"all"!==t.getAttribute("data-mce-bogus")?t==n?!1:void i++:void 0}),i}function h(t){function e(e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(e?i:i-1,r.length-1)],n&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))}return e(!0),e(),t}function p(t){function e(t,e){var i,r,o=t[e?"startContainer":"endContainer"],a=t[e?"startOffset":"endOffset"],s=[],l=0;if(3==o.nodeType){if(c)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else r=o.childNodes,a>=r.length&&r.length&&(l=1,a=Math.max(0,r.length-1)),s.push(u.nodeIndex(r[a],c)+l);for(;o&&o!=n;o=o.parentNode)s.push(u.nodeIndex(o,c));return s}var n=u.getRoot(),i={};return i.start=e(t,!0),s.isCollapsed()||(i.end=e(t)),i}function f(t){function e(t,e){var i;if(o.isElement(t)&&(t=a.getNode(t,e),l(t)))return t;if(n.isCaretContainer(t)){if(o.isText(t)&&n.isCaretContainerBlock(t)&&(t=t.parentNode),i=t.previousSibling,l(i))return i;if(i=t.nextSibling,l(i))return i}}return e(t.startContainer,t.startOffset)||e(t.endContainer,t.endOffset)}var g,m,v,y,b,w,_,C="&#xFEFF;";if(2==t)return w=s.getNode(),b=w?w.nodeName:null,g=s.getRng(),l(w)||"IMG"==b?{name:b,index:d(b,w)}:s.tridentSel?s.tridentSel.getBookmark(t):(w=f(g),w?(b=w.tagName,{name:b,index:d(b,w)}):p(g));if(3==t)return g=s.getRng(),{start:i.create(u.getRoot(),r.fromRangeStart(g)),end:i.create(u.getRoot(),r.fromRangeEnd(g))};if(t)return{rng:s.getRng()};if(g=s.getRng(),v=u.uniqueId(),y=s.isCollapsed(),_="overflow:hidden;line-height:0px",g.duplicate||g.item){if(g.item)return w=g.item(0),b=w.nodeName,{name:b,index:d(b,w)};m=g.duplicate();try{g.collapse(),g.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+_+'">'+C+"</span>"),y||(m.collapse(!1),g.moveToElementText(m.parentElement()),0===g.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+_+'">'+C+"</span>"))}catch(k){return null}}else{if(w=s.getNode(),b=w.nodeName,"IMG"==b)return{name:b,index:d(b,w)};m=h(g.cloneRange()),y||(m.collapse(!1),m.insertNode(u.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:_},C))),g=h(g),g.collapse(!0),g.insertNode(u.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:_},C))}return s.moveToBookmark({id:v,keep:1}),{id:v}},this.moveToBookmark=function(n){function r(t){var e,i,r,o,a=n[t?"start":"end"];if(a){for(r=a[0],i=d,e=a.length-1;e>=1;e--){if(o=i.childNodes,a[e]>o.length-1)return;i=o[a[e]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),t?c.setStart(i,r):c.setEnd(i,r)}return!0}function o(i){var r,o,a,s,l=u.get(n.id+"_"+i),c=n.keep;if(l&&(r=l.parentNode,"start"==i?(c?(r=l.firstChild,o=1):o=u.nodeIndex(l),h=p=r,f=g=o):(c?(r=l.firstChild,o=1):o=u.nodeIndex(l),p=r,g=o),!c)){for(s=l.previousSibling,a=l.nextSibling,e.each(e.grep(l.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});l=u.get(n.id+"_"+i);)u.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!t.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),u.remove(a),"start"==i?(h=p=s,f=g=o):(p=s,g=o))}}function a(e){return!u.isBlock(e)||e.innerHTML||t.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function l(){var t,e;return t=u.createRng(),e=i.resolve(u.getRoot(),n.start),t.setStart(e.container(),e.offset()),e=i.resolve(u.getRoot(),n.end),t.setEnd(e.container(),e.offset()),t}var c,d,h,p,f,g;if(n)if(e.isArray(n.start)){if(c=u.createRng(),d=u.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);r(!0)&&r()&&s.setRng(c)}else"string"==typeof n.start?s.setRng(l(n)):n.id?(o("start"),o("end"),h&&(c=u.createRng(),c.setStart(a(h),f),c.setEnd(a(p),g),s.setRng(c))):n.name?s.select(u.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=o.isContentEditableFalse;return s.isBookmarkNode=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},s}),/**
 * Selection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(t,n,i,r,o,a,s,l,u){function c(t,e,r,a){var s=this;s.dom=t,s.win=e,s.serializer=r,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,h=l.trim,p=s.ie;return c.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();t?(i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(t){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return t=t||{},n=i="",t.get=!0,t.format=t.format||"html",t.selection=!0,o.editor.fire("BeforeGetContent",t),"text"==t.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==e||a.htmlText!==e?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),t.getInner=!0,t.content=o.isCollapsed()?"":n+o.serializer.serialize(s,t)+i,o.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e.no_events||o.editor.fire("BeforeSetContent",e),t=e.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=t,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),o.dom.remove("__mce_tmp")):a.pasteHTML(t);e.no_events||o.editor.fire("SetContent",e)},getStart:function(t){var e,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for(i=a.duplicate(),i.collapse(1),e=i.parentElement(),e.ownerDocument!==o.dom.doc&&(e=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==e){e=n;break}return e}return e=a.startContainer,1==e.nodeType&&e.hasChildNodes()&&(t&&a.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,a.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),e=r.parentElement(),e.ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=r.endContainer,n=r.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&r.collapsed||(e=e.childNodes[n>0?n-1:n])),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,t){if(!e&&i.controlSelection.controlSelect(t))return;n=r.nodeIndex(t),o.setStart(t.parentNode,n),o.setEnd(t.parentNode,n+1),e&&(i._moveEndPoint(o,t,!0),i._moveEndPoint(o,t)),i.setRng(o)}return t},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!e||e.item?!1:e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed},collapse:function(t){var e,n=this,i=n.getRng();i.item&&(e=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(e)),i.collapse(!!t),n.setRng(i)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){function e(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(o=l.win.document,"undefined"==typeof o||null===o)return null;if(!t&&l.lastFocusBookmark){var u=l.lastFocusBookmark;return u.startContainer?(i=o.createRange(),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(t&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if(s=l.editor.fire("GetSelectionRange",{range:i}),s.range!==i)return s.range;if(p&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(c){}a&&a.item&&(r=a.item(0),i=o.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===e(i.START_TO_START,i,l.selectedRange)&&0===e(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(t,e){var n,i,r,o=this;if(t)if(t.select){o.explicitRange=null;try{t.select()}catch(a){}}else if(o.tridentSel){if(t.cloneRange)try{o.tridentSel.addRange(t)}catch(a){}}else{if(n=o.getSel(),r=o.editor.fire("SetSelectionRange",{range:t}),t=r.range,n){o.explicitRange=t;try{n.removeAllRanges(),n.addRange(t)}catch(a){}e===!1&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!=t.endContainer||!n.setBaseAndExtent||s.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset],i&&"IMG"==i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),(n.anchorNode!==t.startContainer||n.focusNode!==t.endContainer)&&n.setBaseAndExtent(i,0,i,1))),o.editor.fire("AfterSetSelectionRange",{range:t})}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}var e,n,i,r,o,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,i=s.endContainer,r=s.startOffset,o=s.endOffset,s.setStart?(e=s.commonAncestorContainer,!s.collapsed&&(n==i&&2>o-r&&n.hasChildNodes()&&(e=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?t(n.nextSibling,!0):n.parentNode,i=0===o?t(i.previousSibling,!1):i.parentNode,n&&n===i))?n:e&&3==e.nodeType?e.parentNode:e):(e=s.item?s.item(0):s.parentElement(),e.ownerDocument!==a.win.document&&(e=l),e)):l},getSelectedBlocks:function(e,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),e=a.getParent(e||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),e&&e!=r&&s.push(e),e&&n&&e!=n){i=e;for(var l=new t(e,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&e!=n&&n!=r&&s.push(n),s},isForward:function(){var t,e,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(t=n.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),e=n.createRng(),e.setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0):!0},normalize:function(){var t=this,e=t.getRng();return s.range&&new r(t.dom).normalize(e)&&t.setRng(e,t.isForward()),e},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,r=i.dom,o=r.getParents(e,null,r.getRoot()),a={};d(i.selectorChangedData,function(t,e){d(o,function(i){return r.is(i,e)?(n[e]||(d(t,function(t){t(!0,{node:i,selector:e,parents:o})}),n[e]=t),a[e]=t,!1):void 0})}),d(n,function(t,i){a[i]||(delete n[i],d(t,function(t){t(!1,{node:e,selector:i,parents:o})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){function n(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}}var i,r,o,s,l=this,u=l.dom,c=u.getRoot(),d=0;if(a.isElement(t)){if(e===!1&&(d=t.offsetHeight),"BODY"!=c.nodeName){var h=l.getScrollContainer();if(h)return i=n(t).y-n(h).y+d,s=h.clientHeight,o=h.scrollTop,void((o>i||i+25>o+s)&&(h.scrollTop=o>i?i:i-s+25))}r=u.getViewPort(l.editor.getWin()),i=u.getPos(t).y+d,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&l.editor.getWin().scrollTo(0,o>i?i:i-s+25)}},placeCaretAt:function(t,e){this.setRng(r.getCaretRangeFromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(e,n,i){var r=n,o=new t(n,r),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==h(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"==n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"==r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var t=this.getRng();return t.collapsed?u.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),/**
 * ElementUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(t,e){function n(e){this.compare=function(n,r){function o(t){var n={};return i(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))}),n}function a(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(n=e[i],"undefined"==typeof n)return!1;if(t[i]!=n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0}return n.nodeName!=r.nodeName?!1:a(o(n),o(r))&&a(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!t.isBookmarkNode(n)&&!t.isBookmarkNode(r):!1}}var i=e.each;return n}),/**
 * Preview.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(t,e,n){function i(t,i){function r(t,e){e.classes.length&&u.addClass(t,e.classes.join(" ")),u.setAttribs(t,e.attrs)}function o(t){var e;return c="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=u.create(c.name),r(e,c),e}function a(t,n){var i="string"!=typeof t?t.nodeName.toLowerCase():t,r=h.getElementRule(i),o=r.parentsRequired;return o&&o.length?n&&-1!==e.inArray(o,n)?n:o[0]:!1}function s(t,n,i){var r,l,c,d=n.length&&n[0],h=d&&d.name;if(c=a(t,h))h==c?(l=n[0],n=n.slice(1)):l=c;else if(d)l=n[0],n=n.slice(1);else if(!i)return t;return l&&(r=o(l),r.appendChild(t)),i&&(r||(r=u.create("div"),r.appendChild(t)),e.each(i,function(e){var n=o(e);r.insertBefore(n,t)})),s(r,n,l&&l.siblings)}var l,c,d,h=i&&i.schema||new n({});return t&&t.length?(c=t[0],l=o(c),d=u.create("div"),d.appendChild(s(l,t.slice(1),c.siblings)),d):""}function r(t,e){return i(a(t),e)}function o(t){var n,i={classes:[],attrs:{}};return t=i.selector=e.trim(t),"*"!==t&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,n,r,o,a){switch(n){case"#":i.attrs.id=r;break;case".":i.classes.push(r);break;case":":-1!==e.inArray("checked disabled enabled read-only required".split(" "),r)&&(i.attrs[r]=r)}if("["==o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(i.attrs[s[1]]=s[2])}return""})),i.name=n||"div",i}function a(t){return t&&"string"==typeof t?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),e.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=e.map(t.split(/(?:~\+|~|\+)/),o),i=n.pop();return n.length&&(i.siblings=n),i}).reverse()):[]}function s(t,e){function n(t){return t.replace(/%(\w+)/g,"")}var r,o,s,c,d,h,p="";if(h=t.settings.preview_styles,h===!1)return"";if("string"!=typeof h&&(h="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}return"preview"in e&&(h=e.preview,h===!1)?"":(r=e.block||e.inline||"span",c=a(e.selector),c.length?(c[0].name||(c[0].name=r),r=e.selector,o=i(c,t)):o=i([r],t),s=u.select(r,o)[0]||o.firstChild,l(e.styles,function(t,e){t=n(t),t&&u.setStyle(s,e,t)}),l(e.attributes,function(t,e){t=n(t),t&&u.setAttrib(s,e,t)}),l(e.classes,function(t){t=n(t),u.hasClass(s,t)||u.addClass(s,t)}),t.fire("PreviewFormats"),u.setStyles(o,{position:"absolute",left:-65535}),t.getBody().appendChild(o),d=u.getStyle(t.getBody(),"fontSize",!0),d=/px$/.test(d)?parseInt(d,10):0,l(h.split(" "),function(e){var n=u.getStyle(s,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=u.getStyle(t.getBody(),e,!0),"#ffffff"==u.toHex(n).toLowerCase())||"color"==e&&"#000000"==u.toHex(n).toLowerCase())){if("font-size"==e&&/em|%$/.test(n)){if(0===d)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*d+"px"}"border"==e&&n&&(p+="padding:0 2px;"),p+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),u.remove(o),p)}var l=e.each,u=t.DOM;return{getCssText:s,parseSelector:a,selectorToHtml:r}}),/**
 * Hooks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(t,e,n){function i(t,e){var n=o[t];n||(o[t]=n=[]),o[t].push(e)}function r(t,e){s(o[t],function(t){t(e)})}var o={},a=t.filter,s=t.each;return i("pre",function(i){function r(e){return l(e.previousSibling)&&-1!=t.indexOf(u,e.previousSibling)}function o(t,e){n(e).remove(),n(t).append("<br><br>").append(e.childNodes)}var l,u,c=i.selection.getRng();l=e.matchNodeNames("pre"),c.collapsed||(u=i.selection.getSelectedBlocks(),s(a(a(u,l),r),function(t){o(t.previousSibling,t)}))}),{postProcess:r}}),/**
 * Formatter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Fun","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(t,e,n,i,r,o,a,s){return function(l){function u(t){return t.nodeType&&(t=t.nodeName),!!l.schema.getTextBlockElements()[t.toLowerCase()]}function c(t){return/^(TH|TD)$/.test(t.nodeName)}function d(t){return t&&/^(IMG)$/.test(t.nodeName)}function h(t,e){return nt.getParents(t,e,nt.getRoot())}function p(t){return 1===t.nodeType&&"_mce_caret"===t.id}function f(){v({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,n){gt(n,function(e,n){nt.setAttrib(t,n,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),gt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){v(t,{block:t,remove:"all"})}),v(l.settings.formats)}function g(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var t=1;6>=t;t++)l.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}function m(t){return t?et[t]:et}function v(t,e){t&&("string"!=typeof t?gt(t,function(t,e){v(e,t)}):(e=e.length?e:[e],gt(e,function(t){t.deep===X&&(t.deep=!t.selector),t.split===X&&(t.split=!t.selector||t.inline),t.remove===X&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),et[t]=e))}function y(t){return t&&et[t]&&delete et[t],et}function b(t,e){var n=m(e);if(n)for(var i=0;i<n.length;i++)if(n[i].inherit===!1&&nt.is(t,n[i].selector))return!0;return!1}function w(t){var e;return l.dom.getParent(t,function(t){return e=l.dom.getStyle(t,"text-decoration"),e&&"none"!==e}),e}function _(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=w(t.parentNode),l.dom.getStyle(t,"color")&&e?l.dom.setStyle(t,"text-decoration",e):l.dom.getStyle(t,"text-decoration")===e&&l.dom.setStyle(t,"text-decoration",null))}function C(e,n,i){function r(t,e){if(e=e||g,t){if(e.onformat&&e.onformat(t,e,n,i),gt(e.styles,function(e,i){nt.setStyle(t,i,H(e,n))}),e.styles){var r=nt.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}gt(e.attributes,function(e,i){nt.setAttrib(t,i,H(e,n))}),gt(e.classes,function(e){e=H(e,n),nt.hasClass(t,e)||nt.addClass(t,e)})}}function o(t,e){var n=!1;return g.selector?(gt(t,function(t){return"collapsed"in t&&t.collapsed!==v?void 0:nt.is(e,t.selector)&&!p(e)?(r(e,t),n=!0,!1):void 0}),n):!1}function a(){function e(e,n){var r=new t(n);for(i=r.prev2();i;i=r.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==e||"BR"==i.tagName)return i}}var n=l.selection.getRng(),r=n.startContainer,o=n.endContainer;if(r!=o&&0===n.endOffset){var a=e(r,o),s=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,s)}return n}function c(t,i,a){var s,l,c=[],d=!0;s=g.inline||g.block,l=nt.create(s),r(l),rt.walk(t,function(t){function i(t){var m,v,y,b;if(b=d,m=t.nodeName.toLowerCase(),v=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&pt(t)&&(b=d,d="true"===pt(t),y=!0),P(m,"br"))return h=0,void(g.block&&nt.remove(t));if(g.wrapper&&S(t,e,n))return void(h=0);if(d&&!y&&g.block&&!g.wrapper&&u(m)&&ot(v,s))return t=nt.rename(t,s),r(t),c.push(t),void(h=0);if(g.selector){var w=o(f,t);if(!g.inline||w)return void(h=0)}!d||y||!ot(s,m)||!ot(v,s)||!a&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||p(t)||g.inline&&at(t)?(h=0,gt(mt(t.childNodes),i),y&&(d=b),h=0):(h||(h=nt.clone(l,dt),t.parentNode.insertBefore(h,t),c.push(h)),h.appendChild(t))}var h;gt(t,i)}),g.links===!0&&gt(c,function(t){function e(t){"A"===t.nodeName&&r(t,g),gt(mt(t.childNodes),e)}e(t)}),gt(c,function(t){function i(t){var e=0;return gt(t.childNodes,function(t){F(t)||ft(t)||e++}),e}function o(t){var e=!1;return gt(t.childNodes,function(t){return N(t)?(e=t,!1):void 0}),e}function a(t,e){do{if(1!==i(t))break;if(t=o(t),!t)break;if(e(t))return t}while(t);return null}function s(t){var e,n;return e=o(t),e&&!ft(e)&&M(e,g)&&(n=nt.clone(e,dt),r(n),nt.replace(n,t,ht),nt.remove(e,1)),n||t}var l;if(l=i(t),(c.length>1||!at(t))&&0===l)return void nt.remove(t,1);if(g.inline||g.wrapper){if(g.exact||1!==l||(t=s(t)),gt(f,function(e){gt(nt.select(e.inline,t),function(t){ft(t)||U(e,n,t,e.exact?t:null)})}),S(t.parentNode,e,n)&&U(g,n,t)&&(t=0),g.merge_with_parents&&nt.getParent(t.parentNode,function(i){return S(i,e,n)?(U(g,n,t)&&(t=0),ht):void 0}),!at(t)&&!R(t,"fontSize")){var u=a(t,L("fontSize"));u&&C("fontsize",{value:R(u,"fontSize")},t)}t&&g.merge_siblings!==!1&&(t=q(G(t),t),t=q(t,G(t,ht)))}})}var d,h,f=m(e),g=f[0],v=!i&&it.isCollapsed();if("false"!==pt(it.getNode())){if(g){if(i)i.nodeType?o(f,i)||(h=nt.createRng(),h.setStartBefore(i),h.setEndAfter(i),c(j(h,f),null,!0)):c(i,null,!0);else if(v&&g.inline&&!nt.select("td[data-mce-selected],th[data-mce-selected]").length)Y("apply",e,n);else{var y=l.selection.getNode();st||!f[0].defaultBlock||nt.getParent(y,nt.isBlock)||C(f[0].defaultBlock),l.selection.setRng(a()),d=it.getBookmark(),c(j(it.getRng(ht),f),d),g.styles&&((g.styles.color||g.styles.textDecoration)&&(vt(y,_,"childNodes"),_(y)),g.styles.backgroundColor&&O(y,L("fontSize"),I("backgroundColor",H(g.styles.backgroundColor,n)))),it.moveToBookmark(d),Z(it.getRng(ht)),l.nodeChanged()}s.postProcess(e,l)}}else{i=it.getNode();for(var b=0,w=f.length;w>b;b++)if(f[b].ceFalseOverride&&nt.is(i,f[b].selector))return void r(i,f[b])}}function k(t,e,n,i){function r(t){var n,i,o,a,s;if(1===t.nodeType&&pt(t)&&(a=y,y="true"===pt(t),s=!0),n=mt(t.childNodes),y&&!s)for(i=0,o=g.length;o>i&&!U(g[i],e,t,t);i++);if(v.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);s&&(y=a)}}function o(n){var r;return gt(h(n.parentNode).reverse(),function(n){var o;r||"_start"==n.id||"_end"==n.id||(o=S(n,t,e,i),o&&o.split!==!1&&(r=n))}),r}function a(t,n,i,r){var o,a,s,l,u,c;if(t){for(c=t.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=nt.clone(o,dt),u=0;u<g.length;u++)if(U(g[u],e,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||v.mixed&&at(t)||(n=nt.split(t,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function s(t){return a(o(t),t,t,!0)}function u(t){var e=nt.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return ft(n)&&(n=n[t?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),nt.remove(e,!0),n}function d(t){var e,n,i=t.commonAncestorContainer;if(t=j(t,g,ht),v.split){if(e=K(t,ht),n=K(t),e!=n){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"==e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),nt.isChildOf(e,n)&&!at(n)&&!c(e)&&!c(n))return e=z(e,"span",{id:"_start","data-mce-type":"bookmark"}),s(e),void(e=u(ht));e=z(e,"span",{id:"_start","data-mce-type":"bookmark"}),n=z(n,"span",{id:"_end","data-mce-type":"bookmark"}),s(e),s(n),e=u(ht),n=u()}else e=n=s(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=lt(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=lt(n)+1}rt.walk(t,function(t){gt(t,function(t){r(t),1===t.nodeType&&"underline"===l.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===w(t.parentNode)&&U({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var p,f,g=m(t),v=g[0],y=!0;if(n)return void(n.nodeType?(f=nt.createRng(),f.setStartBefore(n),f.setEndAfter(n),d(f)):d(n));if("false"!==pt(it.getNode()))it.isCollapsed()&&v.inline&&!nt.select("td[data-mce-selected],th[data-mce-selected]").length?Y("remove",t,e,i):(p=it.getBookmark(),d(it.getRng(ht)),it.moveToBookmark(p),v.inline&&$(t,e,it.getStart())&&Z(it.getRng(!0)),l.nodeChanged());else{n=it.getNode();for(var b=0,_=g.length;_>b&&(!g[b].ceFalseOverride||!U(g[b],e,n,n));b++);}}function x(t,e,n){var i=m(t);!$(t,e,n)||"toggle"in i[0]&&!i[0].toggle?C(t,e,n):k(t,e,n)}function S(t,e,n,i){function r(t,e,r){var o,a,s,l=e[r];if(e.onmatch)return e.onmatch(t,e,r);if(l)if(l.length===X){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?nt.getAttrib(t,o):R(t,o),i&&!a&&!e.exact)return;if((!i||e.exact)&&!P(a,B(H(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?nt.getAttrib(t,l[s]):R(t,l[s]))return e;return e}var o,a,s,l=m(e);if(l&&t)for(a=0;a<l.length;a++)if(o=l[a],M(t,o)&&r(t,o,"attributes")&&r(t,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!nt.hasClass(t,s[a]))return;return o}}function $(t,e,n){function i(n){var i=nt.getRoot();return n===i?!1:(n=nt.getParent(n,function(n){return b(n,t)?!0:n.parentNode===i||!!S(n,t,e,!0)}),S(n,t,e))}var r;return n?i(n):(n=it.getNode(),i(n)?ht:(r=it.getStart(),r!=n&&i(r)?ht:dt))}function D(t,e){var n,i=[],r={};return n=it.getStart(),nt.getParent(n,function(n){var o,a;for(o=0;o<t.length;o++)a=t[o],!r[a]&&S(n,a,e)&&(r[a]=!0,i.push(a))},nt.getRoot()),i}function T(t){var e,n,i,r,o,a=m(t);if(a)for(e=it.getStart(),n=h(e),r=a.length-1;r>=0;r--){if(o=a[r].selector,!o||a[r].defaultBlock)return ht;for(i=n.length-1;i>=0;i--)if(nt.is(n[i],o))return ht}return dt}function E(t,e,n){var i;return J||(J={},i={},l.on("NodeChange",function(t){var e=h(t.element),n={};e=o.grep(e,function(t){return 1==t.nodeType&&!t.getAttribute("data-mce-bogus")}),gt(J,function(t,r){gt(e,function(o){return S(o,r,{},t.similar)?(i[r]||(gt(t,function(t){t(!0,{node:o,format:r,parents:e})}),i[r]=t),n[r]=t,!1):b(o,r)?!1:void 0})}),gt(i,function(r,o){n[o]||(delete i[o],gt(r,function(n){n(!1,{node:t.element,format:o,parents:e})}))})})),gt(t.split(","),function(t){J[t]||(J[t]=[],J[t].similar=n),J[t].push(e)}),this}function A(t){return a.getCssText(l,t)}function M(t,e){return P(t,e.inline)?ht:P(t,e.block)?ht:e.selector?1==t.nodeType&&nt.is(t,e.selector):void 0}function P(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function O(t,e,n){gt(t.childNodes,function(t){N(t)&&(e(t)&&n(t),t.hasChildNodes()&&O(t,e,n))})}function N(t){return 1==t.nodeType&&!ft(t)&&!F(t)&&!p(t)}function L(t){return r.curry(function(t,e){return!(!e||!R(e,t))},t)}function I(t,e){return r.curry(function(t,e,n){nt.setStyle(n,t,e)},t,e)}function R(t,e){return B(nt.getStyle(t,e),e)}function B(t,e){return("color"==e||"backgroundColor"==e)&&(t=nt.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function H(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t}function F(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function z(t,e,n){var i=nt.create(e,n);return t.parentNode.insertBefore(i,t),i.appendChild(t),i}function j(e,n,i){function r(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var i,r,o,a,s;if(i=r=t?m:y,a=t?"previousSibling":"nextSibling",s=nt.getRoot(),3==i.nodeType&&!F(i)&&(t?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&at(r))return r;for(o=r[a];o;o=o[a])if(!ft(o)&&!F(o)&&!e(o))return r;if(r==s||r.parentNode==s){i=r;break}r=r.parentNode}return i}function o(t,e){for(e===X&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function a(t){for(var e=t;e;){if(1===e.nodeType&&pt(e))return"false"===pt(e)?e:t;e=e.parentNode}return t}function s(e,n,r){function o(t,e){var n,o,a=t.nodeValue;return"undefined"==typeof e&&(e=r?a.length:0),r?(n=a.lastIndexOf(" ",e),o=a.lastIndexOf("",e),n=n>o?n:o,-1===n||i||n++):(n=a.indexOf(" ",e),o=a.indexOf("",e),n=-1!==n&&(-1===o||o>n)?n:o),n}var a,s,u,c;if(3===e.nodeType){if(u=o(e,n),-1!==u)return{container:e,offset:u};c=e}for(a=new t(e,nt.getParent(e,at)||l.getBody());s=a[r?"prev":"next"]();)if(3===s.nodeType){if(c=s,u=o(s),-1!==u)return{container:s,offset:u}}else if(at(s))break;return c?(n=r?0:c.length,{container:c,offset:n}):void 0}function c(t,i){var r,o,a,s;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),r=h(t),o=0;o<r.length;o++)for(a=0;a<n.length;a++)if(s=n[a],!("collapsed"in s&&s.collapsed!==e.collapsed)&&nt.is(r[o],s.selector))return r[o];return t}function d(t,e){var i,r=nt.getRoot();if(n[0].wrapper||(i=nt.getParent(t,n[0].block,r)),i||(i=nt.getParent(3==t.nodeType?t.parentNode:t,function(t){return t!=r&&u(t)})),i&&n[0].wrapper&&(i=h(i,"ul,ol").reverse()[0]||i),!i)for(i=t;i[e]&&!at(i[e])&&(i=i[e],!P(i,"br")););return i||t}var p,f,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(p=m.childNodes.length-1,m=m.childNodes[v>p?p:v],3==m.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),m=a(m),y=a(y),(ft(m.parentNode)||ft(m))&&(m=ft(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(v=0)),(ft(y.parentNode)||ft(y))&&(y=ft(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(e.collapsed&&(g=s(m,v,!0),g&&(m=g.container,v=g.offset),g=s(y,b),g&&(y=g.container,b=g.offset)),f=o(y,b),f.node)){for(;f.node&&0===f.offset&&f.node.previousSibling;)f=o(f.node.previousSibling);f.node&&f.offset>0&&3===f.node.nodeType&&" "===f.node.nodeValue.charAt(f.offset-1)&&f.offset>1&&(y=f.node,y.splitText(f.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=r(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=r())),n[0].selector&&n[0].expand!==dt&&!n[0].inline&&(m=c(m,"previousSibling"),y=c(y,"nextSibling")),(n[0].block||n[0].selector)&&(m=d(m,"previousSibling"),y=d(y,"nextSibling"),n[0].block&&(at(m)||(m=r(!0)),at(y)||(y=r()))),1==m.nodeType&&(v=lt(m),m=m.parentNode),1==y.nodeType&&(b=lt(y)+1,y=y.parentNode),{startContainer:m,startOffset:v,endContainer:y,endOffset:b}}function V(t,e){return e.links&&"A"==t.tagName}function U(t,e,n,i){var r,o,a;if(!M(n,t)&&!V(n,t))return dt;if("all"!=t.remove)for(gt(t.styles,function(r,o){r=B(H(r,e),o),"number"==typeof o&&(o=r,i=0),(t.remove_similar||!i||P(R(i,o),r))&&nt.setStyle(n,o,""),a=1}),a&&""===nt.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),gt(t.attributes,function(t,r){var o;if(t=H(t,e),"number"==typeof r&&(r=t,i=0),!i||P(nt.getAttrib(i,r),t)){if("class"==r&&(t=nt.getAttrib(n,r),t&&(o="",gt(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o)))return void nt.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),ct.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),gt(t.classes,function(t){t=H(t,e),(!i||nt.hasClass(i,t))&&nt.removeClass(n,t)}),o=nt.getAttribs(n),r=0;r<o.length;r++){var s=o[r].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return dt}return"none"!=t.remove?(W(n,t),ht):void 0}function W(t,e){function n(t,e,n){return t=G(t,e,n),!t||"BR"==t.nodeName||at(t)}var i,r=t.parentNode;e.block&&(st?r==nt.getRoot()&&(e.list_block&&P(t,e.list_block)||gt(mt(t.childNodes),function(t){ot(st,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=z(t,st),nt.setAttribs(i,l.settings.forced_root_block_attrs)):i=0})):at(t)&&!at(r)&&(n(t,dt)||n(t.firstChild,ht,1)||t.insertBefore(nt.create("br"),t.firstChild),n(t,ht)||n(t.lastChild,dt,1)||t.appendChild(nt.create("br")))),e.selector&&e.inline&&!P(e.inline,t)||nt.remove(t,1)}function G(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1==t.nodeType||!F(t))return t}function q(t,e){function n(t,e){for(r=t;r;r=r[e]){if(3==r.nodeType&&0!==r.nodeValue.length)return t;if(1==r.nodeType&&!ft(r))return r}return t}var r,o,a=new i(nt);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),a.compare(t,e))){for(r=t.nextSibling;r&&r!=e;)o=r,r=r.nextSibling,t.appendChild(o);return nt.remove(e),gt(mt(e.childNodes),function(e){t.appendChild(e)}),t}return e}function K(e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new t(i,l.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new t(i,l.getBody()).prev()||i),i}function Y(e,n,i,r){function o(t){var e=nt.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return t&&e.appendChild(l.getDoc().createTextNode(ut)),e}function a(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==ut||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function s(t){for(;t;){if(t.id===g)return t;t=t.parentNode}}function c(e){var n;if(e)for(n=new t(e,e),e=n.current();e;e=n.next())if(3===e.nodeType)return e}function d(t,e){var n,i;if(t)i=it.getRng(!0),a(t)?(e!==!1&&(i.setStartBefore(t),i.setEndBefore(t)),nt.remove(t)):(n=c(t),n.nodeValue.charAt(0)===ut&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),nt.remove(t,1)),it.setRng(i);else if(t=s(it.getStart()),!t)for(;t=nt.get(g);)d(t,!1)}function h(){var t,e,r,a,l,u,d;t=it.getRng(!0),a=t.startOffset,u=t.startContainer,d=u.nodeValue,e=s(it.getStart()),e&&(r=c(e));var h=/[^\s\u00a0\u00ad\u200b\ufeff]/;d&&a>0&&a<d.length&&h.test(d.charAt(a))&&h.test(d.charAt(a-1))?(l=it.getBookmark(),t.collapse(!0),t=j(t,m(n)),t=rt.split(t),C(n,i,t),it.moveToBookmark(l)):(e&&r.nodeValue===ut?C(n,i,e):(e=o(!0),r=e.firstChild,t.insertNode(e),a=1,C(n,i,e)),it.setCursorLocation(r,a))}function p(){var t,e,a,s,l,c,d,h,p=it.getRng(!0),f=[];for(t=p.startContainer,e=p.startOffset,l=t,3==t.nodeType&&(e!=t.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(S(l,n,i,r)){c=l;break}l.nextSibling&&(s=!0),f.push(l),l=l.parentNode}if(c)if(s)a=it.getBookmark(),p.collapse(!0),p=j(p,m(n),!0),p=rt.split(p),k(n,i,p),it.moveToBookmark(a);else{for(h=o(),l=h,d=f.length-1;d>=0;d--)l.appendChild(nt.clone(f[d],!1)),l=l.firstChild;l.appendChild(nt.doc.createTextNode(ut)),l=l.firstChild;var g=nt.getParent(c,u);g&&nt.isEmpty(g)?c.parentNode.replaceChild(h,c):nt.insertAfter(h,c),it.setCursorLocation(l,1),nt.isEmpty(c)&&nt.remove(c)}}function f(){var t;t=s(it.getStart()),t&&!nt.isEmpty(t)&&vt(t,function(t){1!=t.nodeType||t.id===g||nt.isEmpty(t)||nt.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var g="_mce_caret",v=l.settings.caret_debug;l._hasCaretEvents||(tt=function(){var t,e=[];if(a(s(it.getStart()),e))for(t=e.length;t--;)nt.setAttrib(e[t],"data-mce-bogus","1")},Q=function(t){var e=t.keyCode;d(),8==e&&it.isCollapsed()&&it.getStart().innerHTML==ut&&d(s(it.getStart())),(37==e||39==e)&&d(s(it.getStart())),f()},l.on("SetContent",function(t){t.selection&&f()}),l._hasCaretEvents=!0),"apply"==e?h():p()}function Z(e){var n,i,r,o,a,s=e.startContainer,l=e.startOffset;if((e.startContainer!=e.endContainer||!d(e.startContainer.childNodes[e.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=lt(s),s=s.parentNode,n=!0),1==s.nodeType))for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new t(s,nt.getParent(s,nt.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!F(r))return a=nt.create("a",{"data-mce-bogus":"all"},ut),r.parentNode.insertBefore(a,r),e.setStart(r,0),it.setRng(e),void nt.remove(a)}var J,X,Q,tt,et={},nt=l.dom,it=l.selection,rt=new e(nt),ot=l.schema.isValidChild,at=nt.isBlock,st=l.settings.forced_root_block,lt=nt.nodeIndex,ut="\ufeff",ct=/^(src|href|style)$/,dt=!1,ht=!0,pt=nt.getContentEditable,ft=n.isBookmarkNode,gt=o.each,mt=o.grep,vt=o.walk,yt=o.extend;yt(this,{get:m,register:v,unregister:y,apply:C,remove:k,toggle:x,match:$,matchAll:D,matchNode:S,canApply:T,formatChanged:E,getCssText:A}),f(),g(),l.on("BeforeGetContent",function(t){tt&&"raw"!=t.format&&tt()}),l.on("mouseup keydown",function(t){Q&&Q(t)})}}),/**
 * Diff.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Diff",[],function(){var t=0,e=1,n=2,i=function(i,r){var o=i.length+r.length+2,a=new Array(o),s=new Array(o),l=function(t,e,n){return{start:t,end:e,diag:n}},u=function(o,a,s,l,c){var h=d(o,a,s,l);if(null===h||h.start===a&&h.diag===a-l||h.end===o&&h.diag===o-s)for(var p=o,f=s;a>p||l>f;)a>p&&l>f&&i[p]===r[f]?(c.push([t,i[p]]),++p,++f):a-o>l-s?(c.push([n,i[p]]),++p):(c.push([e,r[f]]),++f);else{u(o,h.start,s,h.start-h.diag,c);for(var g=h.start;g<h.end;++g)c.push([t,i[g]]);u(h.end,a,h.end-h.diag,l,c)}},c=function(t,e,n,o){for(var a=t;o>a-e&&n>a&&i[a]===r[a-e];)++a;return l(t,a,e)},d=function(t,e,n,o){var l=e-t,u=o-n;if(0===l||0===u)return null;var d=l-u,h=u+l,p=(h%2===0?h:h+1)/2;a[1+p]=t,s[1+p]=e+1;for(var f=0;p>=f;++f){for(var g=-f;f>=g;g+=2){var m=g+p;g===-f||g!=f&&a[m-1]<a[m+1]?a[m]=a[m+1]:a[m]=a[m-1]+1;for(var v=a[m],y=v-t+n-g;e>v&&o>y&&i[v]===r[y];)a[m]=++v,++y;if(d%2!=0&&g>=d-f&&d+f>=g&&s[m-d]<=a[m])return c(s[m-d],g+t-n,e,o)}for(g=d-f;d+f>=g;g+=2){for(m=g+p-d,g===d-f||g!=d+f&&s[m+1]<=s[m-1]?s[m]=s[m+1]-1:s[m]=s[m-1],v=s[m]-1,y=v-t+n-g;v>=t&&y>=n&&i[v]===r[y];)s[m]=v--,y--;if(d%2===0&&g>=-f&&f>=g&&s[m]<=a[m+d])return c(s[m],g+t-n,e,o)}}},h=[];return u(0,i.length,0,r.length,h),h};return{KEEP:t,DELETE:n,INSERT:e,diff:i}}),/**
 * Fragments.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(t,e,n){var i=function(t){return 1===t.nodeType?t.outerHTML:3===t.nodeType?e.encodeRaw(t.data,!1):8===t.nodeType?"<!--"+t.data+"-->":""},r=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},o=function(t,e,n){var i=r(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];o.parentNode.insertBefore(i,o)}else t.appendChild(i)},a=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},s=function(e,i){var r=0;t.each(e,function(t){t[0]===n.KEEP?r++:t[0]===n.INSERT?(o(i,t[1],r),r++):t[0]===n.DELETE&&a(i,r)})},l=function(e){return t.map(e.childNodes,i)},u=function(e,r){var o=t.map(r.childNodes,i);return s(n.diff(o,e),r),r};return{read:l,write:u}}),/**
 * Levels.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(t,e){var n=function(t){return-1!==t.indexOf("</iframe>")},i=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},r=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},o=function(o){var a,s,l;return a=e.read(o.getBody()),l=t.map(a,function(t){return o.serializer.trimContent(t)}),s=l.join(""),n(s)?i(l):r(s)},a=function(t,n,i){"fragmented"===n.type?e.write(n.fragments,t.getBody()):t.setContent(n.content,{format:"raw"}),t.selection.moveToBookmark(i?n.beforeBookmark:n.bookmark)},s=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},l=function(t,e){return s(t)===s(e)};return{createFragmentedLevel:i,createCompleteLevel:r,createFromEditor:o,applyToEditor:a,isEq:l}}),/**
 * UndoManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(t,e,n){return function(t){function i(e){t.setDirty(e)}function r(t){l.typing=!1,l.add({},t)}function o(){l.typing&&(l.typing=!1,l.add())}var a,s,l=this,u=0,c=[],d=0;return t.on("init",function(){l.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(o(),l.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&r(t)}),t.on("ObjectResizeStart Cut",function(){l.beforeChange()}),t.on("SaveContent ObjectResized blur",r),t.on("DragEnd",r),t.on("KeyUp",function(e){var o=e.keyCode;e.isDefaultPrevented()||((o>=33&&36>=o||o>=37&&40>=o||45===o||e.ctrlKey)&&(r(),t.nodeChanged()),(46===o||8===o)&&t.nodeChanged(),s&&l.typing&&(t.isDirty()||(i(c[0]&&!n.isEq(n.createFromEditor(t),c[0])),t.isDirty()&&t.fire("change",{level:c[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented()){if(e>=33&&36>=e||e>=37&&40>=e||45===e)return void(l.typing&&r(t));var n=t.ctrlKey&&!t.altKey||t.metaKey;!(16>e||e>20)||224===e||91===e||l.typing||n||(l.beforeChange(),l.typing=!0,l.add({},t),s=!0)}}),t.on("MouseDown",function(t){l.typing&&r(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),l={data:c,typing:!1,beforeChange:function(){d||(a=t.selection.getBookmark(2,!0))},add:function(r,o){var s,l,h,p=t.settings;if(h=n.createFromEditor(t),r=r||{},r=e.extend(r,h),d||t.removed)return null;if(l=c[u],t.fire("BeforeAddUndo",{level:r,lastLevel:l,originalEvent:o}).isDefaultPrevented())return null;if(l&&n.isEq(l,r))return null;if(c[u]&&(c[u].beforeBookmark=a),p.custom_undo_redo_levels&&c.length>p.custom_undo_redo_levels){for(s=0;s<c.length-1;s++)c[s]=c[s+1];c.length--,u=c.length}r.bookmark=t.selection.getBookmark(2,!0),u<c.length-1&&(c.length=u+1),c.push(r),u=c.length-1;var f={level:r,lastLevel:l,originalEvent:o};return t.fire("AddUndo",f),u>0&&(i(!0),t.fire("change",f)),r},undo:function(){var e;return l.typing&&(l.add(),l.typing=!1),u>0&&(e=c[--u],n.applyToEditor(t,e,!0),i(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return u<c.length-1&&(e=c[++u],n.applyToEditor(t,e,!1),i(!0),t.fire("redo",{level:e})),e},clear:function(){c=[],u=0,l.typing=!1,l.data=c,t.fire("ClearUndos")},hasUndo:function(){return u>0||l.typing&&c[0]&&!n.isEq(n.createFromEditor(t),c[0])},hasRedo:function(){return u<c.length-1&&!l.typing},transact:function(t){o(),l.beforeChange();try{d++,t()}finally{d--}return l.add()},extra:function(e,i){var r,o;l.transact(e)&&(o=c[u].bookmark,r=c[u-1],n.applyToEditor(t,r,!0),l.transact(i)&&(c[u-1].beforeBookmark=o))}}}}),/**
 * EnterKey.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(t,e,n,i){var r=i.ie&&i.ie<11;return function(o){function a(a){function f(t){return t&&s.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==s.getContentEditable(t)}function g(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function m(t){var e;s.isBlock(t)&&(e=l.getRng(),t.appendChild(s.create("span",null,"")),l.select(t),t.lastChild.outerHTML="",l.setRng(e))}function v(t){var e,n=t,i=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||h[n.nodeName.toLowerCase()]||i.push(n)}for(e=i.length;e--;)n=i[e],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?s.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&s.remove(n)}}function y(e){function n(t){for(;t;){if(1==t.nodeType||3==t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}var r,o,a,u,c=e;if(e){if(i.ie&&i.ie<9&&L&&L.firstChild&&L.firstChild==L.lastChild&&"BR"==L.firstChild.tagName&&s.remove(L.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var d=n(e.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&e.insertBefore(s.doc.createTextNode(""),e.firstChild)}if(a=s.createRng(),i.ie||e.normalize(),e.hasChildNodes()){for(r=new t(e,e);o=r.current();){if(3==o.nodeType){a.setStart(o,0),a.setEnd(o,0);break}if(p[o.nodeName.toLowerCase()]){a.setStartBefore(o),a.setEndBefore(o);break}c=o,o=r.next()}o||(a.setStart(c,0),a.setEnd(c,0))}else"BR"==e.nodeName?e.nextSibling&&s.isBlock(e.nextSibling)?((!I||9>I)&&(u=s.create("br"),e.parentNode.insertBefore(u,e)),a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,0),a.setEnd(e,0));l.setRng(a),s.remove(u),l.scrollIntoView(e)}}function b(t){var e=u.forced_root_block;e&&e.toLowerCase()===t.tagName.toLowerCase()&&s.setAttribs(t,u.forced_root_block_attrs)}function w(t){t.innerHTML=r?"":'<br data-mce-bogus="1">'}function _(t){var e,n,i,o=O,a=d.getTextInlineElements();if(t||"TABLE"==z?(e=s.create(t||V),b(e)):e=L.cloneNode(!1),i=e,u.keep_styles!==!1)do if(a[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),s.setAttrib(n,"id",""),e.hasChildNodes()?(n.appendChild(e.firstChild),e.appendChild(n)):(i=n,e.appendChild(n))}while((o=o.parentNode)&&o!=P);return r||(i.innerHTML='<br data-mce-bogus="1">'),e}function C(e){var n,i,r;if(3==O.nodeType&&(e?N>0:N<O.nodeValue.length))return!1;if(O.parentNode==L&&U&&!e)return!0;if(e&&1==O.nodeType&&O==L.firstChild)return!0;if("TABLE"===O.nodeName||O.previousSibling&&"TABLE"==O.previousSibling.nodeName)return U&&!e||!U&&e;for(n=new t(O,L),3==O.nodeType&&(e&&0===N?n.prev():e||N!=O.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),h[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function k(t,e){var n,i,r,a,l,u,c=V||"P";if(i=s.getParent(t,s.isBlock),!i||!f(i)){if(i=i||P,u=i==o.getBody()||g(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return n=s.create(c),b(n),i.appendChild(n),A.setStart(n,0),A.setEnd(n,0),n;for(a=t;a.parentNode!=i;)a=a.parentNode;for(;a&&!s.isBlock(a);)r=a,a=a.previousSibling;if(r&&d.isValidChild(u,c.toLowerCase())){for(n=s.create(c),b(n),r.parentNode.insertBefore(n,r),a=r;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;A.setStart(t,e),A.setEnd(t,e)}}return t}function x(){function t(t){for(var e=F[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===L}function e(){var t=F.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:F}if(F!=o.getBody()){var n=F.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(V="LI"),B=V?_(V):s.create("BR"),t(!0)&&t()?"LI"==n?s.insertAfter(B,e()):s.replace(B,F):t(!0)?"LI"==n?(s.insertAfter(B,e()),B.appendChild(s.doc.createTextNode(" ")),B.appendChild(F)):F.parentNode.insertBefore(B,F):t()?(s.insertAfter(B,e()),m(B)):(F=e(),M=A.cloneRange(),M.setStartAfter(L),M.setEndAfter(F),H=M.extractContents(),"LI"==V&&"LI"==H.firstChild.nodeName?(B=H.firstChild,s.insertAfter(H,F)):(s.insertAfter(H,F),s.insertAfter(B,F))),s.remove(L),y(B),c.add()}}function S(){o.execCommand("InsertLineBreak",!1,a)}function $(t){do 3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)}function D(t){var e,n,i=s.getRoot();for(e=t;e!==i&&"false"!==s.getContentEditable(e);)"true"===s.getContentEditable(e)&&(n=e),e=e.parentNode;return e!==i?n:i}function T(t){var e;r||(t.normalize(),e=t.lastChild,(!e||/^(left|right)$/gi.test(s.getStyle(e,"float",!0)))&&s.add(t,"br"))}function E(){B=/^(H[1-6]|PRE|FIGURE)$/.test(z)&&"HGROUP"!=j?_(V):_(),u.end_container_on_empty_block&&f(F)&&s.isEmpty(L)?B=s.split(F,L):s.insertAfter(B,L),y(B)}var A,M,P,O,N,L,I,R,B,H,F,z,j,V,U;if(A=l.getRng(!0),!a.isDefaultPrevented()){if(!A.collapsed)return void o.execCommand("Delete");if(new e(s).normalize(A),O=A.startContainer,N=A.startOffset,V=(u.force_p_newlines?"p":"")||u.forced_root_block,V=V?V.toUpperCase():"",I=s.doc.documentMode,R=a.shiftKey,1==O.nodeType&&O.hasChildNodes()&&(U=N>O.childNodes.length-1,O=O.childNodes[Math.min(N,O.childNodes.length-1)]||O,N=U&&3==O.nodeType?O.nodeValue.length:0),P=D(O)){if(c.beforeChange(),!s.isBlock(P)&&P!=s.getRoot())return void((!V||R)&&S());if((V&&!R||!V&&R)&&(O=k(O,N)),L=s.getParent(O,s.isBlock),F=L?s.getParent(L.parentNode,s.isBlock):null,z=L?L.nodeName.toUpperCase():"",j=F?F.nodeName.toUpperCase():"","LI"!=j||a.ctrlKey||(L=F,z=j),o.undoManager.typing&&(o.undoManager.typing=!1,o.undoManager.add()),/^(LI|DT|DD)$/.test(z)){if(!V&&R)return void S();if(s.isEmpty(L))return void x()}if("PRE"==z&&u.br_in_pre!==!1){if(!R)return void S()}else if(!V&&!R&&"LI"!=z||V&&R)return void S();V&&L===o.getBody()||(V=V||"P",n.isCaretContainerBlock(L)?(B=n.showCaretContainerBlock(L),s.isEmpty(L)&&w(L),y(B)):C()?E():C(!0)?(B=L.parentNode.insertBefore(_(),L),m(B),y(L)):(M=A.cloneRange(),M.setEndAfter(L),H=M.extractContents(),$(H),B=H.firstChild,s.insertAfter(H,L),v(B),T(L),s.isEmpty(L)&&w(L),B.normalize(),s.isEmpty(B)?(s.remove(B),E()):y(B)),s.setAttrib(B,"id",""),o.fire("NewBlock",{newBlock:B}),c.typing=!1,c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,h=d.getNonEmptyElements(),p=d.getMoveCaretBeforeOnEnterElements();o.on("keydown",function(t){13==t.keyCode&&a(t)!==!1&&t.preventDefault()})}}),/**
 * ForceBlocks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,s,l,u,c,d,h,p,f,g,m,v,y=r.getStart(),b=t.getBody(),w=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(e=r.getRng(),e.setStart){s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset;try{f=t.getDoc().activeElement===b}catch(_){}}else e.item&&(y=e.item(0),e=t.getDoc().body.createTextRange(),e.moveToElementText(y)),f=e.parentElement().ownerDocument===t.getDoc(),g=e.duplicate(),g.collapse(!0),l=-1*g.move("character",w),g.collapsed||(g=e.duplicate(),g.collapse(!1),c=-1*g.move("character",w)-l);for(y=b.firstChild,m=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(m,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){h=y,y=y.nextSibling,i.remove(h);continue}d||(d=i.create(v,t.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),p=!0),h=y,y=y.nextSibling,d.appendChild(h)}else d=null,y=y.nextSibling;if(p&&f){if(e.setStart)e.setStart(s,l),e.setEnd(u,c),r.setRng(e);else try{e=t.getDoc().body.createTextRange(),e.moveToElementText(b),e.collapse(!0),e.moveStart("character",l),c>0&&e.moveEnd("character",c),e.select()}catch(_){}t.nodeChanged()}}}var n=t.settings,i=t.dom,r=t.selection,o=t.schema,a=o.getBlockElements();n.forced_root_block&&t.on("NodeChange",e)}}),/**
 * CaretUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o){function a(t){return t>0}function s(t){return 0>t}function l(t,e){for(var n;n=t(e);)if(!x(n))return n;return null}function u(t,n,i,r,o){var u=new e(t,r);if(s(n)){if((_(t)||x(t))&&(t=l(u.prev,!0),i(t)))return t;for(;t=l(u.prev,o);)if(i(t))return t}if(a(n)){if((_(t)||x(t))&&(t=l(u.next,!0),i(t)))return t;for(;t=l(u.next,o);)if(i(t))return t}return null}function c(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(w(t))return t;return e}function d(t,e){for(;t&&t!=e;){if(C(t))return t;t=t.parentNode}return null}function h(t,e,n){return d(t.container(),n)==d(e.container(),n)}function p(t,e,n){return c(t.container(),n)==c(e.container(),n)}function f(t,e){var n,i;return e?(n=e.container(),i=e.offset(),$(n)?n.childNodes[i+t]:null):null}function g(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function m(t,e,n){return d(e,t)==d(n,t)}function v(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!=e;){if(i=n[r],k(i)&&(i=i[r]),_(i)){if(m(e,i,n))return i;break}if(D(i))break;n=n.parentNode}return null}function y(t,e,i){var o,a,s,l,u=S(v,!0,e),c=S(v,!1,e);if(a=i.startContainer,s=i.startOffset,r.isCaretContainerBlock(a)){if($(a)||(a=a.parentNode),l=a.getAttribute("data-mce-caret"),"before"==l&&(o=a.nextSibling,_(o)))return T(o);if("after"==l&&(o=a.previousSibling,_(o)))return E(o)}if(!i.collapsed)return i;if(n.isText(a)){if(k(a)){if(1===t){if(o=c(a))return T(o);if(o=u(a))return E(o)}if(-1===t){if(o=u(a))return E(o);if(o=c(a))return T(o)}return i}if(r.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===t&&(o=c(a))?T(o):i;if(r.startsWithCaretContainer(a)&&1>=s)return-1===t&&(o=u(a))?E(o):i;if(s===a.data.length)return o=c(a),o?T(o):i;if(0===s)return o=u(a),o?E(o):i}return i}function b(t,e){return _(f(t,e))}var w=n.isContentEditableTrue,_=n.isContentEditableFalse,C=n.matchStyleValues("display","block table table-cell table-caption"),k=r.isCaretContainer,x=r.isCaretContainerBlock,S=t.curry,$=n.isElement,D=o.isCaretCandidate,T=S(g,!0),E=S(g,!1);return{isForwards:a,isBackwards:s,findNode:u,getEditingHost:c,getParentBlock:d,isInSameBlock:h,isInSameEditingHost:p,isBeforeContentEditableFalse:S(b,0),isAfterContentEditableFalse:S(b,-1),normalizeRange:y}}),/**
 * CaretWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n,i,r,o){function a(t,e){for(var n=[];t&&t!=e;)n.push(t),t=t.parentNode;return n}function s(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function l(t,e){if(g(t)){if(v(e.previousSibling)&&!h(e.previousSibling))return n.before(e);if(h(e))return n(e,0)}if(m(t)){if(v(e.nextSibling)&&!h(e.nextSibling))return n.after(e);if(h(e))return n(e,e.data.length)}return m(t)?f(e)?n.before(e):n.after(e):n.before(e)}function u(e,r){var o;return t.isBr(e)?(o=c(1,n.after(e),r),o?!i.isInSameBlock(n.before(e),n.before(o),r):!1):!1}function c(t,e,f){var w,_,C,k,x,S,$;if(!p(f)||!e)return null;if($=e,w=$.container(),_=$.offset(),h(w)){if(m(t)&&_>0)return n(w,--_);if(g(t)&&_<w.length)return n(w,++_);C=w}else{if(m(t)&&_>0&&(k=s(w,_-1),v(k)))return!y(k)&&(x=i.findNode(k,t,b,k))?h(x)?n(x,x.data.length):n.after(x):h(k)?n(k,k.data.length):n.before(k);if(g(t)&&_<w.childNodes.length&&(k=s(w,_),v(k)))return u(k,f)?c(t,n.after(k),f):!y(k)&&(x=i.findNode(k,t,b,k))?h(x)?n(x,0):n.before(x):h(k)?n(k,0):n.after(k);C=$.getNode()}return(g(t)&&$.isAtEnd()||m(t)&&$.isAtStart())&&(C=i.findNode(C,t,o.constant(!0),f,!0),b(C))?l(t,C):(k=i.findNode(C,t,b,f),S=r.last(r.filter(a(w,f),d)),!S||k&&S.contains(k)?k?l(t,k):null:$=g(t)?n.after(S):n.before(S))}var d=t.isContentEditableFalse,h=t.isText,p=t.isElement,f=t.isBr,g=i.isForwards,m=i.isBackwards,v=e.isCaretCandidate,y=e.isAtomic,b=e.isEditableCaretCandidate;return function(t){return{next:function(e){return c(1,e,t)},prev:function(e){return c(-1,e,t)}}}}),/**
 * InsertList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(t,e,n){var i=function(t){var e=t.firstChild,n=t.lastChild;return e&&"meta"===e.name&&(e=e.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),e&&e===n?"ul"===e.name||"ol"===e.name:!1},r=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},o=function(t,e,n){var i=e.serialize(n),o=t.createFragment(i);return r(o)},a=function(e){return t.grep(e.childNodes,function(t){return"LI"===t.nodeName})},s=function(t){return!t.firstChild},l=function(t){return t.length>0&&s(t[t.length-1])?t.slice(0,-1):t},u=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},c=function(t,e){return!!u(t,e)},d=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},h=function(t,i){var r=n.before(t),o=new e(i),a=o.next(r);return a?a.toRange():null},p=function(t,i){var r=n.after(t),o=new e(i),a=o.prev(r);return a?a.toRange():null},f=function(e,n,i,r){var o=d(e,r),a=e.parentNode;return a.insertBefore(o[0],e),t.each(n,function(t){a.insertBefore(t,e)}),a.insertBefore(o[1],e),a.removeChild(e),p(n[n.length-1],i)},g=function(e,n,i){var r=e.parentNode;return t.each(n,function(t){r.insertBefore(t,e)}),h(e,i)},m=function(t,e,n,i){return i.insertAfter(e.reverse(),t),p(e[0],n)},v=function(t,i,r,s){var c=o(i,t,s),d=u(i,r.startContainer),h=l(a(c.firstChild)),p=1,v=2,y=i.getRoot(),b=function(t){var o=n.fromRangeStart(r),a=new e(i.getRoot()),s=t===p?a.prev(o):a.next(o);return s?u(i,s.getNode())!==d:!0};return b(p)?g(d,h,y):b(v)?m(d,h,y,i):f(d,h,y,r)};return{isListFragment:i,insertAtCaret:v,isParentBlockLi:c,trimListItems:l,listItems:a}}),/**
 * InsertContent.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(t,e,n,i,r,o,a,s){var l=a.matchNodeNames("td th"),u=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},c=function(a,c,d){function h(t){function e(t){return i[t]&&3==i[t].nodeType}var n,i,r;return n=O.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}function p(){var t,e,n;t=O.getRng(!0),e=t.startContainer,n=t.startOffset,3==e.nodeType&&t.collapsed&&(""===e.data[n]?(e.deleteData(n,1),/[\u00a0| ]$/.test(c)||(c+=" ")):""===e.data[n-1]&&(e.deleteData(n-1,1),/[\u00a0| ]$/.test(c)||(c=" "+c)))}function f(){if(M){var t=a.getBody(),n=new o(N);e.each(N.select("*[data-mce-fragment]"),function(e){for(var i=e.parentNode;i&&i!=t;i=i.parentNode)P[e.nodeName.toLowerCase()]&&n.compare(i,e)&&N.remove(e,!0)})}}function g(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}function m(t){e.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})}function v(t){return!!t.getAttribute("data-mce-fragment")}function y(t){return t&&!a.schema.getShortEndedElements()[t.nodeName]}function b(e){function n(t){for(var e=a.getBody();t&&t!==e;t=t.parentNode)if("false"===a.dom.getContentEditable(t))return t;return null}function o(t){var e=r.fromRangeStart(t),n=new i(a.getBody());return e=n.next(e),e?e.toRange():void 0}var s,u,c;if(e){if(O.scrollIntoView(e),s=n(e))return N.remove(e),void O.select(s);D=N.createRng(),T=e.previousSibling,T&&3==T.nodeType?(D.setStart(T,T.nodeValue.length),t.ie||(E=e.nextSibling,E&&3==E.nodeType&&(T.appendData(E.data),E.parentNode.removeChild(E)))):(D.setStartBefore(e),D.setEndBefore(e)),u=N.getParent(e,N.isBlock),N.remove(e),u&&N.isEmpty(u)&&(a.$(u).empty(),D.setStart(u,0),D.setEnd(u,0),l(u)||v(u)||!(c=o(D))?N.add(u,N.create("br",{"data-mce-bogus":"1"})):(D=c,N.remove(u))),O.setRng(D)}}var w,_,C,k,x,S,$,D,T,E,A,M,P=a.schema.getTextInlineElements(),O=a.selection,N=a.dom;/^ | $/.test(c)&&(c=h(c)),w=a.parser,M=d.merge,_=new n({validate:a.settings.validate},a.schema),A='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',S={content:c,format:"html",selection:!0},a.fire("BeforeSetContent",S),c=S.content,-1==c.indexOf("{$caret}")&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,A),D=O.getRng();var L=D.startContainer||(D.parentElement?D.parentElement():null),I=a.getBody();L===I&&O.isCollapsed()&&N.isBlock(I.firstChild)&&y(I.firstChild)&&N.isEmpty(I.firstChild)&&(D=N.createRng(),D.setStart(I.firstChild,0),D.setEnd(I.firstChild,0),O.setRng(D)),O.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),p()),C=O.getNode();var R={context:C.nodeName.toLowerCase(),data:d.data};if(x=w.parse(c,R),d.paste===!0&&s.isListFragment(x)&&s.isParentBlockLi(N,C))return D=s.insertAtCaret(_,N,a.selection.getRng(!0),x),a.selection.setRng(D),void a.fire("SetContent",S);if(g(x),T=x.lastChild,"mce_marker"==T.attr("id"))for($=T,T=T.prev;T;T=T.walk(!0))if(3==T.type||!N.isBlock(T.name)){a.schema.isValidChild(T.parent.name,"span")&&T.parent.insert($,T,"br"===T.name);break}if(a._selectionOverrides.showBlockCaretContainer(C),R.invalid){for(O.setContent(A),C=O.getNode(),k=a.getBody(),9==C.nodeType?C=T=k:T=C;T!==k;)C=T,T=T.parentNode;c=C==k?k.innerHTML:N.getOuterHTML(C),c=_.serialize(w.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return _.serialize(x)}))),C==k?N.setHTML(k,c):N.setOuterHTML(C,c)}else c=_.serialize(x),u(a,c,C);f(),b(N.get("mce_marker")),m(a.getBody()),a.fire("SetContent",S),a.addVisual()},d=function(t){var n;return"string"!=typeof t?(n=e.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:n}):{content:t,details:{}}},h=function(t,e){var n=d(e);c(t,n.content,n.details)};return{insertAtCaret:h}}),/**
 * EditorCommands.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent","tinymce/dom/NodeType"],function(t,n,i,r,o,a){var s=n.each,l=n.extend,u=n.map,c=n.inArray,d=n.explode,h=t.ie&&t.ie<11,p=!0,f=!1;return function(n){function g(t,e,i,r){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus||n.focus(),r=n.fire("BeforeExecCommand",{command:t,ui:e,value:i}),r.isDefaultPrevented())return!1;if(a=t.toLowerCase(),o=O.exec[a])return o(a,e,i),n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;if(s(n.plugins,function(r){return r.execCommand&&r.execCommand(t,e,i)?(n.fire("ExecCommand",{command:t,ui:e,value:i}),l=!0,!1):void 0}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(t,e,i))return n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;try{l=n.getDoc().execCommand(t,e,i)}catch(u){}return l?(n.fire("ExecCommand",{command:t,ui:e,value:i}),!0):!1}function m(t){var e;if(!n.quirks.isHidden()){if(t=t.toLowerCase(),e=O.state[t])return e(t);try{return n.getDoc().queryCommandState(t)}catch(i){}return!1}}function v(t){var e;if(!n.quirks.isHidden()){if(t=t.toLowerCase(),e=O.value[t])return e(t);try{return n.getDoc().queryCommandValue(t)}catch(i){}}}function y(t,e){e=e||"exec",s(t,function(t,n){s(n.toLowerCase().split(","),function(n){O[e][n]=t})})}function b(t,e,i){t=t.toLowerCase(),O.exec[t]=function(t,r,o,a){return e.call(i||n,r,o,a)}}function w(t){if(t=t.toLowerCase(),O.exec[t])return!0;try{return n.getDoc().queryCommandSupported(t)}catch(e){}return!1}function _(t,e,i){t=t.toLowerCase(),O.state[t]=function(){return e.call(i||n)}}function C(t,e,i){t=t.toLowerCase(),O.value[t]=function(){return e.call(i||n)}}function k(t){return t=t.toLowerCase(),!!O.exec[t]}function x(t,i,r){return i===e&&(i=f),r===e&&(r=null),n.getDoc().execCommand(t,i,r)}function S(t){return M.match(t)}function $(t,i){M.toggle(t,i?{value:i}:e),n.nodeChanged()}function D(t){P=A.getBookmark(t)}function T(){A.moveToBookmark(P)}var E,A,M,P,O={state:{},exec:{},value:{}},N=n.settings;n.on("PreInit",function(){E=n.dom,A=n.selection,N=n.settings,M=n.formatter}),l(this,{execCommand:g,queryCommandState:m,queryCommandValue:v,queryCommandSupported:w,addCommands:y,addCommand:b,addQueryStateHandler:_,addQueryValueHandler:C,hasCustomCommand:k}),y({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(e){var i,r=n.getDoc();try{x(e)}catch(o){i=p}if("paste"!==e||r.queryCommandEnabled(e)||(i=!0),i||!r.queryCommandSupported(e)){var a=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(a=a.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(A.isCollapsed()){var t=n.dom.getParent(n.selection.getStart(),"a");return void(t&&n.dom.remove(t,!0))}M.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),s("left,center,right,justify".split(","),function(t){e!=t&&M.remove("align"+t)}),"none"!=e&&$("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;x(t),e=E.getParent(A.getNode(),"ol,ul"),e&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(D(),E.split(n,e),T()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){$(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){$(t,n)},FontSize:function(t,e,n){var i,r;n>=1&&7>=n&&(r=d(N.font_size_style_values),i=d(N.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),$(t,n)},RemoveFormat:function(t){M.remove(t)},mceBlockQuote:function(){$("blockquote")},FormatBlock:function(t,e,n){return $(n||"p")},mceCleanup:function(){var t=A.getBookmark();n.setContent(n.getContent({cleanup:p}),{cleanup:p}),A.moveToBookmark(t)},mceRemoveNode:function(t,e,i){var r=i||A.getNode();r!=n.getBody()&&(D(),n.dom.remove(r,p),T())},mceSelectNodeDepth:function(t,e,i){var r=0;E.getParent(A.getNode(),function(t){return 1==t.nodeType&&r++==i?(A.select(t),f):void 0},n.getBody())},mceSelectNode:function(t,e,n){A.select(n)},mceInsertContent:function(t,e,i){o.insertAtCaret(n,i)},mceInsertRawHTML:function(t,e,i){A.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(t,e,n){$(n)},mceSetContent:function(t,e,i){n.setContent(i)},"Indent,Outdent":function(t){var e,i,r;e=N.indentation,i=/[a-z%]+$/i.exec(e),e=parseInt(e,10),m("InsertUnorderedList")||m("InsertOrderedList")?x(t):(N.forced_root_block||E.getParent(A.getNode(),E.isBlock)||M.apply("div"),s(A.getSelectedBlocks(),function(o){if("false"!==E.getContentEditable(o)&&"LI"!==o.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===o.nodeName?"margin":a,a+="rtl"==E.getStyle(o,"direction",!0)?"Right":"Left","outdent"==t?(r=Math.max(0,parseInt(o.style[a]||0,10)-e),E.setStyle(o,a,r?r+i:"")):(r=parseInt(o.style[a]||0,10)+e+i,E.setStyle(o,a,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(t,e,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,A.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=E.getParent(A.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||M.remove("link"),n.href&&M.apply("link",n,i)},selectAll:function(){var t,e=E.getRoot();if(A.getRng().setStart){var n=E.getParent(A.getStart(),a.isContentEditableTrue);n&&(t=E.createRng(),t.selectNodeContents(n),A.setRng(t))}else t=A.getRng(),t.item||(t.moveToElementText(e),t.select())},"delete":function(){x("Delete");var t=n.getBody();E.isEmpty(t)&&(n.setContent(""),t.firstChild&&E.isBlock(t.firstChild)?n.selection.setCursorLocation(t.firstChild,0):n.selection.setCursorLocation(t,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(t,e,o){function a(){for(var t,e=new r(g,v),i=n.schema.getNonEmptyElements();t=e.next();)if(i[t.nodeName.toLowerCase()]||t.length>0)return!0}var s,l,u,c=o,d=A.getRng(!0);new i(E).normalize(d);var f=d.startOffset,g=d.startContainer;if(1==g.nodeType&&g.hasChildNodes()){var m=f>g.childNodes.length-1;g=g.childNodes[Math.min(f,g.childNodes.length-1)]||g,f=m&&3==g.nodeType?g.nodeValue.length:0}var v=E.getParent(g,E.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?E.getParent(v.parentNode,E.isBlock):null,w=b?b.nodeName.toUpperCase():"",_=c&&c.ctrlKey;"LI"!=w||_||(v=b,y=w),g&&3==g.nodeType&&f>=g.nodeValue.length&&(h||a()||(s=E.create("br"),d.insertNode(s),d.setStartAfter(s),d.setEndAfter(s),l=!0)),s=E.create("br"),d.insertNode(s);var C=E.doc.documentMode;return h&&"PRE"==y&&(!C||8>C)&&s.parentNode.insertBefore(E.doc.createTextNode("\r"),s),u=E.create("span",{},"&nbsp;"),s.parentNode.insertBefore(u,s),A.scrollIntoView(u),E.remove(u),l?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),A.setRng(d),n.undoManager.add(),p}}),y({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=A.isCollapsed()?[E.getParent(A.getNode(),E.isBlock)]:A.getSelectedBlocks(),i=u(n,function(t){return!!M.matchNode(t,e)});return-1!==c(i,p)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return S(t)},mceBlockQuote:function(){return S("blockquote")},Outdent:function(){var t;if(N.inline_styles){if((t=E.getParent(A.getStart(),E.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return p;if((t=E.getParent(A.getEnd(),E.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return p}return m("InsertUnorderedList")||m("InsertOrderedList")||!N.inline_styles&&!!E.getParent(A.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=E.getParent(A.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),y({"FontSize,FontName":function(t){var e,n=0;return(e=E.getParent(A.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),y({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),/**
 * URI.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,o){var a,s,l=this;if(t=i(t),o=l.settings=o||{},a=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(l.source=t);var u=0===t.indexOf("//");0!==t.indexOf("/")||u||(t=(a?a.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(s=o.base_uri?o.base_uri.path:new e(location.href).directory,""===o.base_uri.protocol?t="//mce_host"+l.toAbsPath(s,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(r,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[e]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),u&&(l.protocol="")}var n=t.each,i=t.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var n,i=this;if("./"===t)return t;if(t=new e(t,{base_uri:i}),"mce_host"!=t.host&&i.host!=t.host&&t.host||i.port!=t.port||i.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var r=i.getURI(),o=t.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n)},toAbsolute:function(t,n){return t=new e(t,{base_uri:this}),t.getURI(n&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=o[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,a="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;r>i;i++)if(i>=n.length||t[i]!=n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=t.length||t[i]!=n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var i,r,o,a=0,s=[];for(r=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&s.push(t)}),t=s,i=e.length-1,s=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?a>0?a--:s.push(e[i]):a++);return i=t.length-a,o=0>=i?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(t){var e,n=this;return(!n.source||t)&&(e="",t||(e+=n.protocol?n.protocol+"://":"//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},e.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e}),/**
 * Class.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var n,i,r=t.each,o=t.extend;return e.extend=n=function(t){function e(){var t,e,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)n=e[t],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(t,e){return function(){var n,i=this,r=i._super;return i._super=h[t],n=e.apply(i,arguments),i._super=r,n}}var l,u,c,d=this,h=d.prototype;i=!0,l=new d,i=!1,t.Mixins&&(r(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),h.Mixins&&(t.Mixins=h.Mixins.concat(t.Mixins))),t.Methods&&r(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&r(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&r(t.Statics,function(t,n){e[n]=t}),t.Defaults&&h.Defaults&&(t.Defaults=o({},h.Defaults,t.Defaults));for(u in t)c=t[u],"function"==typeof c&&h[u]?l[u]=s(u,c):l[u]=c;return e.prototype=l,e.constructor=e,e.extend=n,e},e}),/**
 * EventDispatcher.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(t){function e(e){function n(){return!1}function i(){return!0}function r(t,r){var o,s,l,c;if(t=t.toLowerCase(),r=r||{},r.type=t,r.target||(r.target=u),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),e.beforeFire&&e.beforeFire(r),o=h[t])for(s=0,l=o.length;l>s;s++){if(c=o[s],c.once&&a(t,c.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(c.func.call(u,r)===!1)return r.preventDefault(),r}return r}function o(e,i,r,o){var a,s,l;if(i===!1&&(i=n),i)for(i={func:i},o&&t.extend(i,o),s=e.toLowerCase().split(" "),l=s.length;l--;)e=s[l],a=h[e],a||(a=h[e]=[],c(e,!0)),r?a.unshift(i):a.push(i);return d}function a(t,e){var n,i,r,o,a;if(t)for(o=t.toLowerCase().split(" "),n=o.length;n--;){if(t=o[n],i=h[t],!t){for(r in h)c(r,!1),delete h[r];return d}if(i){if(e)for(a=i.length;a--;)i[a].func===e&&(i=i.slice(0,a).concat(i.slice(a+1)),h[t]=i);else i.length=0;i.length||(c(t,!1),delete h[t])}}else{for(t in h)c(t,!1);h={}}return d}function s(t,e,n){return o(t,e,n,{once:!0})}function l(t){return t=t.toLowerCase(),!(!h[t]||0===h[t].length)}var u,c,d=this,h={};e=e||{},u=e.scope||d,c=e.toggleEvent||n,d.fire=r,d.on=o,d.off=a,d.once=s,d.has=l}var n=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return e.isNative=function(t){return!!n[t.toLowerCase()]},e}),/**
 * Binding.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/data/Binding",[],function(){function t(t){this.create=t.create}return t.create=function(e,n){return new t({create:function(t,i){function r(e){t.set(i,e.value)}function o(t){e.set(n,t.value)}var a;return t.on("change:"+i,o),e.on("change:"+n,r),a=t._bindings,a||(a=t._bindings=[],t.on("destroy",function(){for(var t=a.length;t--;)a[t]()})),a.push(function(){e.off("change:"+n,r)}),e.get(n)}})},t}),/**
 * Observable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(t){function e(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(n,i){t.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,i)}})),e._eventDispatcher}return{fire:function(t,n,i){var r=this;if(r.removed&&"remove"!==t)return n;if(n=e(r).fire(t,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(t,n,!1),o=o.parent();return n},on:function(t,n,i){return e(this).on(t,n,i)},off:function(t,n){return e(this).off(t,n)},once:function(t,n){return e(this).once(t,n)},hasEventListeners:function(t){return e(this).has(t)}}}),/**
 * ObservableObject.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(t,e,n,i){function r(t){return t.nodeType>0}function o(t,e){var n,a;if(t===e)return!0;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e)return t===e;if(i.isArray(e)){if(t.length!==e.length)return!1;for(n=t.length;n--;)if(!o(t[n],e[n]))return!1}if(r(t)||r(e))return t===e;a={};for(n in e){if(!o(t[n],e[n]))return!1;a[n]=!0}for(n in t)if(!a[n]&&!o(t[n],e[n]))return!1;return!0}return n.extend({Mixins:[e],init:function(e){var n,i;e=e||{};for(n in e)i=e[n],i instanceof t&&(e[n]=i.create(this,n));this.data=e},set:function(e,n){var i,r,a=this.data[e];if(n instanceof t&&(n=n.create(this,e)),"object"==typeof e){for(i in e)this.set(i,e[i]);return this}return o(a,n)||(this.data[e]=n,r={target:this,name:e,value:n,oldValue:a},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(e){return t.create(this,e)},destroy:function(){this.fire("destroy")}})}),/**
 * Selector.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Selector",["tinymce/util/Class"],function(t){function e(t){for(var e,n=[],i=t.length;i--;)e=t[i],e.__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=t.extend({init:function(t){function e(t){return t?(t=t.toLowerCase(),function(e){return"*"===t||e.type===t}):void 0}function n(t){return t?function(e){return e._name===t}:void 0}function a(t){return t?(t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.classes.contains(t[n]))return!1;return!0}):void 0}function s(t,e,n){return t?function(i){var r=i[t]?i[t]():"";return e?"="===e?r===n:"*="===e?r.indexOf(n)>=0:"~="===e?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===e?r!=n:"^="===e?0===r.indexOf(n):"$="===e?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(t){var e;return t?(t=/(?:not\((.+)\))|(.+)/i.exec(t),t[1]?(e=c(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?n%2===0:"odd"===t?n%2===1:e[t]?e[t]():!1})):void 0}function u(t,r,u){function c(t){t&&r.push(t)}var d;return d=i.exec(t.replace(o,"")),c(e(d[1])),c(n(d[2])),c(a(d[3])),c(s(d[4],d[5],d[6])),c(l(d[7])),r.pseudo=!!d[7],r.direct=u,r}function c(t,e){var n,i,o,a=[];do if(r.exec(""),i=r.exec(t),i&&(t=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&c(n,e),t=[],o=0;o<a.length;o++)">"!=a[o]&&t.push(u(a[o],[],">"===a[o-1]));return e.push(t),e}var d=this.match;this._selectors=c(t,[])},match:function(t,e){var n,i,r,o,a,s,l,u,c,d,h,p,f;for(e=e||this._selectors,n=0,i=e.length;i>n;n++){for(a=e[n],o=a.length,f=t,p=0,r=o-1;r>=0;r--)for(u=a[r];f;){if(u.pseudo)for(h=f.parent().items(),c=d=h.length;c--&&h[c]!==f;);for(s=0,l=u.length;l>s;s++)if(!u[s](f,c,d)){s=l+1;break}if(s===l){p++;break}if(r===o-1)break;f=f.parent()}if(p===o)return!0}return!1},find:function(t){function i(t,e,n){var r,o,a,l,u,c=e[n];for(r=0,o=t.length;o>r;r++){for(u=t[r],a=0,l=c.length;l>a;a++)if(!c[a](u,r,o)){a=l+1;break}if(a===l)n==e.length-1?s.push(u):u.items&&i(u.items(),e,n+1);else if(c.direct)return;u.items&&i(u.items(),e,n)}}var r,o,s=[],l=this._selectors;if(t.items){for(r=0,o=l.length;o>r;r++)i(t.items(),l[r],0);o>1&&(s=e(s))}return n||(n=a.Collection),new n(s)}});return a}),/**
 * Collection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(t){t&&this.add(t)},add:function(e){var n=this;return t.isArray(e)?o.apply(n,e):e instanceof i?n.add(e.toArray()):o.call(n,e),n},set:function(t){var e,n=this,i=n.length;for(n.length=0,n.add(t),e=n.length;i>e;e++)delete n[e];return n},filter:function(t){var n,r,o,a,s=this,l=[];for("string"==typeof t?(t=new e(t),a=function(e){return t.match(e)}):a=t,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,n=e.length;n--&&e[n]!==t;);return n},reverse:function(){return new i(t.toArray(this).reverse())},hasClass:function(t){return this[0]?this[0].classes.contains(t):!1},prop:function(t,e){var n,i,r=this;return e!==n?(r.each(function(n){n[t]&&n[t](e)}),r):(i=r[0],i&&i[t]?i[t]():void 0)},exec:function(e){var n=this,i=t.toArray(arguments).slice(1);return n.each(function(t){t[e]&&t[e].apply(t,i)}),n},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},t.each("fire on off show hide append prepend before after reflow".split(" "),function(e){r[e]=function(){var n=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),i=n.extend(r),e.Collection=i,i}),/**
 * DomUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e,n){var i=0,r={id:function(){return"mceu_"+i++},create:function(t,i,r){var o=document.createElement(t);return n.DOM.setAttribs(o,i),"string"==typeof r?o.innerHTML=r:e.each(r,function(t){t.nodeType&&o.appendChild(t)}),o},createFragment:function(t){return n.DOM.createFragment(t)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e=Math.max(i.width||i.right-i.left,t.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,t.offsetHeight)}else e=t.offsetWidth,n=t.offsetHeight;return{width:e,height:n}},getPos:function(t,e){return n.DOM.getPos(t,e||r.getContainer())},getContainer:function(){return t.container?t.container:document.body},getViewPort:function(t){return n.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,e){return n.DOM.addClass(t,e)},removeClass:function(t,e){return n.DOM.removeClass(t,e)},hasClass:function(t,e){return n.DOM.hasClass(t,e)},toggleClass:function(t,e,i){return n.DOM.toggleClass(t,e,i)},css:function(t,e,i){return n.DOM.setStyle(t,e,i)},getRuntimeStyle:function(t,e){return n.DOM.getStyle(t,e,!0)},on:function(t,e,i,r){return n.DOM.bind(t,e,i,r)},off:function(t,e,i){return n.DOM.unbind(t,e,i)},fire:function(t,e,i){return n.DOM.fire(t,e,i)},innerHtml:function(t,e){n.DOM.setHTML(t,e)}};return r}),/**
 * BoxUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(t){var e,n=10;if(t)return"number"==typeof t?(t=t||0,{top:t,left:t,bottom:t,right:t}):(t=t.split(" "),e=t.length,1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],n)||0,right:parseInt(t[1],n)||0,bottom:parseInt(t[2],n)||0,left:parseInt(t[3],n)||0})},measureBox:function(t,e){function n(e){var n=document.defaultView;return n?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function i(t){var e=parseFloat(n(t),10);return isNaN(e)?0:e}return{top:i(e+"TopWidth"),right:i(e+"RightWidth"),bottom:i(e+"BottomWidth"),left:i(e+"LeftWidth")}}}}),/**
 * ClassList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ClassList",["tinymce/util/Tools"],function(t){function e(){}function n(t){this.cls=[],this.cls._map={},this.onchange=t||e,this.prefix=""}return t.extend(n.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){for(var e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var n=this.contains(t);return n!==e&&(n?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t},n}),/**
 * ReflowQueue.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(t){var e,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),e||(e=!0,t.requestAnimationFrame(function(){var t,i;e=!1;for(t in n)i=n[t],i.state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(t){n[t._id]&&delete n[t._id]}}}),/**
 * Control.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,a,s,l,u){function c(t){return t._eventDispatcher||(t._eventDispatcher=new n({scope:t,toggleEvent:function(e,i){i&&n.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&d(t))}})),t._eventDispatcher}function d(t){function e(e){var n=t.getParentCtrl(e.target);n&&n.fire(e.type,e)}function n(){var t=u._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),u._lastHoverCtrl=null)}function i(e){var n,i,r,o=t.getParentCtrl(e.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),a){for(r=a.parents().toArray().reverse(),r.push(a),s=0;s<r.length&&i[s]===r[s];s++);for(n=r.length-1;n>=s;n--)a=r[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}var o,s,l,u,c,d;if(c=t._nativeEvents){for(l=t.parents().toArray(),l.unshift(t),o=0,s=l.length;!u&&s>o;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||t),t._eventsRoot=u,s=o,o=0;s>o;o++)l[o]._eventsRoot=u;var h=u._delegates;h||(h=u._delegates={});for(d in c){if(!c)return!1;"wheel"!==d||f?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(a(u.getEl()).on("mouseleave",n).on("mouseover",i),u._hasMouseEnter=1):h[d]||(a(u.getEl()).on(d,e),h[d]=!0),c[d]=!1):p?a(t.getEl()).on("mousewheel",r):a(t.getEl()).on("DOMMouseScroll",r)}}}var h,p="onmousewheel"in document,f=!1,g="mce-",m=0,v={Statics:{classPrefix:g},isRtl:function(){return h.rtl},classPrefix:g,init:function(t){function n(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)u.classes.add(t[e])}var r,o,u=this;u.settings=t=e.extend({},u.Defaults,t),u._id=t.id||"mceu_"+m++,u._aria={role:t.role},u._elmCache={},u.$=a,u.state=new i({visible:!0,active:!1,disabled:!1,value:""}),u.data=new i(t.data),u.classes=new l(function(){u.state.get("rendered")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,r=t.classes,r&&(u.Defaults&&(o=u.Defaults.classes,o&&r!=o&&n(o)),n(r)),e.each("title text name visible disabled active value".split(" "),function(e){e in t&&u[e](t[e])}),u.on("click",function(){return u.disabled()?!1:void 0}),u.settings=t,u.borderBox=s.parseBox(t.border),u.paddingBox=s.parseBox(t.padding),u.marginBox=s.parseBox(t.margin),t.hidden&&u.hide()},Properties:"parent,name",getContainerElm:function(){return o.getContainer()},getParentCtrl:function(t){for(var e,n=this.getRoot().controlIdLookup;t&&n&&!(e=n[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,n,i,r,a,l,u,c,d,h=this,p=h.settings,f=h.getEl();t=h.borderBox=h.borderBox||s.measureBox(f,"border"),h.paddingBox=h.paddingBox||s.measureBox(f,"padding"),h.marginBox=h.marginBox||s.measureBox(f,"margin"),d=o.getSize(f),u=p.minWidth,c=p.minHeight,r=u||d.width,a=c||d.height,n=p.width,i=p.height,l=p.autoResize,l="undefined"!=typeof l?l:!n&&!i,n=n||r,i=i||a;var g=t.left+t.right,m=t.top+t.bottom,v=p.maxWidth||65535,y=p.maxHeight||65535;return h._layoutRect=e={x:p.x||0,y:p.y||0,w:n,h:i,deltaW:g,deltaH:m,contentW:n-g,contentH:i-m,innerW:n-g,innerH:i-m,startMinWidth:u||0,startMinHeight:c||0,minW:Math.min(r,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),t?(i=l.deltaW,r=l.deltaH,t.x!==o&&(l.x=t.x),t.y!==o&&(l.y=t.y),t.minW!==o&&(l.minW=t.minW),t.minH!==o&&(l.minH=t.minH),n=t.w,n!==o&&(n=n<l.minW?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),n=t.h,n!==o&&(n=n<l.minH?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),n=t.innerW,n!==o&&(n=n<l.minW-i?l.minW-i:n,n=n>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),n=t.innerH,n!==o&&(n=n<l.minH-r?l.minH-r:n,n=n>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),t.contentW!==o&&(l.contentW=t.contentW),t.contentH!==o&&(l.contentH=t.contentH),e=s._lastLayoutRect,(e.x!==l.x||e.y!==l.y||e.w!==l.w||e.h!==l.h)&&(a=h.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),e.x=l.x,e.y=l.y,e.w=l.w,e.h=l.h),s):l},repaint:function(){var t,e,n,i,r,o,a,s,l,u,c=this;l=document.createRange?function(t){return t}:Math.round,t=c.getEl().style,i=c._layoutRect,s=c._lastRepaintRect||{},r=c.borderBox,o=r.left+r.right,a=r.top+r.bottom,i.x!==s.x&&(t.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(t.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(u=l(i.w-o),t.width=(u>=0?u:0)+"px",s.w=i.w),i.h!==s.h&&(u=l(i.h-a),t.height=(u>=0?u:0)+"px",s.h=i.h),c._hasBody&&i.innerW!==s.innerW&&(u=l(i.innerW),n=c.getEl("body"),n&&(e=n.style,e.width=(u>=0?u:0)+"px"),s.innerW=i.innerW),c._hasBody&&i.innerH!==s.innerH&&(u=l(i.innerH),n=n||c.getEl("body"),n&&(e=e||n.style,e.height=(u>=0?u:0)+"px"),s.innerH=i.innerH),c._lastRepaintRect=s,c.fire("repaint",{},!1)},updateLayoutRect:function(){var t=this;t.parent()._lastRect=null,o.css(t.getEl(),{width:"",height:""}),t._layoutRect=t._lastRepaintRect=t._lastLayoutRect=null,t.initLayoutRect()},on:function(t,e){function n(t){var e,n;return"string"!=typeof t?t:function(r){return e||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;return r&&(e=r[t])?(n=i,!1):void 0}),e?e.call(n,r):(r.action=t,void this.fire("execute",r))}}var i=this;return c(i).on(t,n(e)),i},off:function(t,e){return c(this).off(t,e),this},fire:function(t,e,n){var i=this;if(e=e||{},e.control||(e.control=i),e=c(i).fire(t,e),n!==!1&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},hasEventListeners:function(t){return c(this).has(t)},parents:function(t){var e,n=this,i=new r;for(e=n.parent();e;e=e.parent())i.add(e);return t&&(i=i.filter(t)),i},parentsAndSelf:function(t){return new r(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=a("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof e?n._aria[t]:(n._aria[t]=e,n.state.get("rendered")&&i.setAttribute("role"==t?t:"aria-"+t,e),n)},encode:function(t,e){return e!==!1&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},translate:function(t){return h.translate?h.translate(t):t},before:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e),!0),e},after:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e)),e},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(t){return a(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return a(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,n,i,r,o=this,s=o.settings;o.$el=a(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),s.style&&(t=o.getEl(),t&&(t.setAttribute("style",s.style),t.style.cssText=s.style)),o.settings.border&&(e=o.borderBox,o.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var c in o._aria)o.aria(c,o._aria[c]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(t){var e,n=t.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),e=o.parent(),e&&(e._lastRect=null),o.fire(n?"show":"hide"),u.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){function e(t,e){var n,i,r=t;for(n=i=0;r&&r!=e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),u=l.parentNode,c=e(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,a=u.clientWidth,s=u.clientHeight,"end"==t?(n-=a-r,i-=s-o):"center"==t&&(n-=a/2-r/2,i-=s/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},getRoot:function(){for(var t,e=this,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var i=n.length;i--;)n[i].rootControl=t;return t},reflow:function(){u.remove(this);var t=this.parent();return t._layout&&!t._layout.isNative()&&t.reflow(),this}};return e.each("text title visible disabled active value".split(" "),function(t){v[t]=function(e){return 0===arguments.length?this.state.get(t):("undefined"!=typeof e&&this.state.set(t,e),this)}}),h=t.extend(v)}),/**
 * Factory.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=e[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),/**
 * KeyboardNavigation.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/KeyboardNavigation",[],function(){return function(t){function e(t){return t&&1===t.nodeType}function n(t){return t=t||b,e(t)?t.getAttribute("role"):null}function i(t){for(var e,i=t||b;i=i.parentNode;)if(e=n(i))return e}function r(t){var n=b;return e(n)?n.getAttribute("aria-"+t):void 0}function o(t){var e=t.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function a(t){return o(t)&&!t.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(t))?!0:!1}function s(t){function e(t){if(1==t.nodeType&&"none"!=t.style.display&&!t.disabled){a(t)&&n.push(t);for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i])}}var n=[];return e(t||_.getEl()),n}function l(t){var e,n;t=t||w,n=t.parents().toArray(),n.unshift(t);for(var i=0;i<n.length&&(e=n[i],!e.settings.ariaRoot);i++);return e}function u(t){var e=l(t),n=s(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?c(e.lastAriaIndex,n):c(0,n)}function c(t,e){return 0>t?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,e){var n=-1,i=l();e=e||s(i.getEl());for(var r=0;r<e.length;r++)e[r]===b&&(n=r);n+=t,i.lastAriaIndex=c(n,e)}function h(){var t=i();"tablist"==t?d(-1,s(b.parentNode)):w.parent().submenu?v():d(-1)}function p(){var t=n(),e=i();"tablist"==e?d(1,s(b.parentNode)):"menuitem"==t&&"menu"==e&&r("haspopup")?y():d(1)}function f(){d(-1)}function g(){var t=n(),e=i();"menuitem"==t&&"menubar"==e?y():"button"==t&&r("haspopup")?y({key:"down"}):d(1)}function m(t){var e=i();if("tablist"==e){var n=s(w.getEl("body"))[0];n&&n.focus()}else d(t.shiftKey?-1:1)}function v(){w.fire("cancel")}function y(t){t=t||{},w.fire("click",{target:b,aria:t})}var b,w,_=t.root;try{b=document.activeElement}catch(C){b=document.body}return w=_.getParentCtrl(b),_.on("keydown",function(t){function e(t,e){o(b)||"slider"!==n(b)&&e(t)!==!1&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:e(t,h);break;case 39:e(t,p);break;case 38:e(t,f);break;case 40:e(t,g);break;case 27:v();break;case 14:case 13:case 32:e(t,y);break;case 9:m(t)!==!1&&t.preventDefault()}}),_.on("focusin",function(t){b=t.target,w=t.control}),{focusFirst:u}}}),/**
 * Container.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,a,s,l){var u={};return t.extend({init:function(t){var n=this;n._super(t),t=n.settings,t.fixed&&n.state.set("fixed",!0),n._items=new e,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),t.containerCls&&n.classes.add(t.containerCls),n._layout=i.create((t.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(t){return t=u[t]=u[t]||new n(t),t.find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(t){var e,n,i,r=this;return t&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(t){return t.settings.autofocus?(e=null,!1):void(t.canFocus&&(e=e||t))}),e&&e.focus(),r)},replace:function(t,e){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===t){i[r]=e;break}r>=0&&(n=e.getEl(),n&&n.parentNode.removeChild(n),n=t.getEl(),n&&n.parentNode.removeChild(n)),e.parent(this)},create:function(e){var n,r=this,a=[];return o.isArray(e)||(e=[e]),o.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),n=o.extend({},r.settings.defaults,e),e.type=n.type=n.type||e.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),e=i.create(n)),a.push(e))}),a},renderNew:function(){var t=this;return t.items().each(function(e,n){var i;e.parent(t),e.state.get("rendered")||(i=t.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(e.renderHtml()):a(i).append(e.renderHtml()),e.postRender(),l.add(e))}),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,n){var i,r,o,a=this;return t=a.create(t),i=a.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(r=i.slice(0,e).toArray(),o=i.slice(e).toArray(),i.set(r.concat(t,o))),a.renderNew()},fromJSON:function(t){var e=this;for(var n in t)e.find("#"+n).value(t[n]);return e},toJSON:function(){var t=this,e={};return t.find("*").each(function(t){var n=t.name(),i=t.value();n&&"undefined"!=typeof i&&(e[n]=i)}),e},renderHtml:function(){var t=this,e=t._layout,n=this.settings.role;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new r({root:e})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;return n&&n.w==e.w&&n.h==e.h?void 0:(t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0)},reflow:function(){var e;if(l.remove(this),this.visible()){for(t.repaintControls=[],t.repaintControls.map={},this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),/**
 * DragHelper.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(t){function e(t){var e,n,i,r,o,a,s,l,u=Math.max;return e=t.documentElement,n=t.body,i=u(e.scrollWidth,n.scrollWidth),r=u(e.clientWidth,n.clientWidth),o=u(e.offsetWidth,n.offsetWidth),a=u(e.scrollHeight,n.scrollHeight),s=u(e.clientHeight,n.clientHeight),l=u(e.offsetHeight,n.offsetHeight),{width:o>i?r:i,height:l>a?s:a}}function n(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}return function(i,r){function o(){return p.getElementById(r.handle||i)}var a,s,l,u,c,d,h,p=r.document||document;r=r||{},l=function(i){var l,f,g=e(p);n(i),i.preventDefault(),s=i.button,l=o(),d=i.screenX,h=i.screenY,f=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,a=t("<div></div>").css({position:"absolute",top:0,left:0,width:g.width,height:g.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(p.body),t(p).on("mousemove touchmove",c).on("mouseup touchend",u),r.start(i)},c=function(t){return n(t),t.button!==s?u(t):(t.deltaX=t.screenX-d,t.deltaY=t.screenY-h,t.preventDefault(),void r.drag(t))},u=function(e){n(e),t(p).off("mousemove touchmove",c).off("mouseup touchend",u),a.remove(),r.stop&&r.stop(e)},this.destroy=function(){t(o()).off()},t(o()).on("mousedown touchstart",l)}}),/**
 * Scrollable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function n(){function e(e,a,s,l,u,c){var d,h,p,f,g,m,v,y,b;if(h=r.getEl("scroll"+e)){if(y=a.toLowerCase(),b=s.toLowerCase(),t(r.getEl("absend")).css(y,r.layoutRect()[l]-1),!u)return void t(h).css("display","none");t(h).css("display","block"),d=r.getEl("body"),p=r.getEl("scroll"+e+"t"),f=d["client"+s]-2*o,f-=n&&i?h["client"+c]:0,g=d["scroll"+s],m=f/g,v={},v[y]=d["offset"+a]+o,v[b]=f,t(h).css(v),v={},v[y]=d["scroll"+a]*m,v[b]=f*m,t(p).css(v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,e("h","Left","Width","contentW",n,"Height"),e("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var u,c=r._id+"-scroll"+n,d=r.classPrefix;t(r.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+c+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new e(c+"t",{start:function(){u=r.getEl("body")["scroll"+i],t("#"+c).addClass(d+"active")},drag:function(t){var e,c,d,h,p=r.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,h=r.getEl("body")["client"+a]-2*o,h-=c&&d?r.getEl("scroll"+n)["client"+l]:0,e=h/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=u+t["delta"+s]/e},stop:function(){t("#"+c).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(t){var e=r.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,n()}),t(r.getEl("body")).on("scroll",n)),n())}}}),/**
 * Panel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,n=t.settings.html;return t.preRender(),e.preRender(t),"undefined"==typeof n?n='<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div>":("function"==typeof n&&(n=n.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1" role="group">'+(t._preBodyHtml||"")+n+"</div>"}})}),/**
 * Movable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,n,i){var r,o,a,s,l,u,c,d,h,p;return h=t.getViewPort(),o=t.getPos(n),a=o.x,s=o.y,e.state.get("fixed")&&"static"==t.getRuntimeStyle(document.body,"position")&&(a-=h.x,s-=h.y),r=e.getEl(),p=t.getSize(r),l=p.width,u=p.height,p=t.getSize(n),c=p.width,d=p.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=c),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(c/2)),"b"===i[3]&&(s-=u),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(u/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,i){for(var r=t.getViewPort(),o=0;o<i.length;o++){var a=e(this,n,i[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(t,e){var n=this,i=n.layoutRect();return n.moveTo(i.x+t,i.y+e),n},moveTo:function(e,n){function i(t,e,n){return 0>t?0:t+n>e?(t=e-n,0>t?0:t):t}var r=this;if(r.settings.constrainToViewport){var o=t.getViewPort(window),a=r.layoutRect();e=i(e,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r.state.get("rendered")?r.layoutRect({x:e,y:n}).repaint():(r.settings.x=e,r.settings.y=n),r.fire("move",{x:e,y:n}),r}}}),/**
 * Resizable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(1>=e||1>=n){var i=t.getWindowSize();e=1>=e?e*i.w:e,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(t,e){var n=this,i=n.layoutRect();return n.resizeTo(i.w+t,i.h+e)}}}),/**
 * FloatPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(t,e,n,i,r,o){function a(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function s(t){for(var e=y.length;e--;){var n=y[e],i=n.getParentCtrl(t.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;t=n.fire("autohide",{target:t.target}),t.isDefaultPrevented()||n.hide()}}}function l(){f||(f=function(t){2!=t.button&&s(t)},r(document).on("click touchstart",f))}function u(){g||(g=function(){var t;for(t=y.length;t--;)d(y[t])},r(window).on("scroll",g))}function c(){if(!m){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight;m=function(){document.all&&e==t.clientWidth&&n==t.clientHeight||(e=t.clientWidth,n=t.clientHeight,w.hideAll())},r(window).on("resize",m)}}function d(t){function e(e,n){for(var i,r=0;r<y.length;r++)if(y[r]!=t)for(i=y[r].parent();i&&(i=i.parent());)i==t&&y[r].fixed(e).moveBy(0,n).repaint()}var n=i.getViewPort().y;t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>n&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-n)):(t._autoFixY=t.layoutRect().y,t._autoFixY<n&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,n-t._autoFixY))))}function h(t,e){var n,i,o=w.zIndex||65535;if(t)b.push(e);else for(n=b.length;n--;)b[n]===e&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(o++,i=b[n]),b[n].getEl().style.zIndex=o,b[n].zIndex=o,o++;var a=r("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];i?r(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),w.currentZIndex=o}function p(t){var e;for(e=y.length;e--;)y[e]===t&&y.splice(e,1);for(e=b.length;e--;)b[e]===t&&b.splice(e,1)}var f,g,m,v,y=[],b=[],w=t.extend({Mixins:[e,n],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(l(),c(),y.push(e)),t.autofix&&(u(),e.on("move",function(){d(this)})),e.on("postrender show",function(t){if(t.control==e){var n,i=e.classPrefix;e.modal&&!v&&(n=r("#"+i+"modal-block",e.getContainerElm()),n[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(e.getContainerElm())),o.setTimeout(function(){n.addClass(i+"in"),r(e.getEl()).addClass(i+"in")}),v=!0),h(!0,e)}}),e.on("show",function(){e.parents().each(function(t){return t.state.get("fixed")?(e.fixed(!0),!1):void 0})}),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",t.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(t){var e=this;if(e.state.get("fixed")!=t){if(e.state.get("rendered")){var n=i.getViewPort();t?e.layoutRect().y-=n.y:e.layoutRect().y+=n.y}e.classes.toggle("fixed",t),e.state.set("fixed",t)}return e},show:function(){var t,e=this,n=e._super();for(t=y.length;t--&&y[t]!==e;);return-1===t&&y.push(e),n},hide:function(){return p(this),h(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||(t.remove(),h(!1,t)),t},remove:function(){p(this),this._super()},postRender:function(){var t=this;return t.settings.bodyRole&&this.getEl("body").setAttribute("role",t.settings.bodyRole),t._super()}});return w.hideAll=function(){for(var t=y.length;t--;){var e=y[t];e&&e.settings.autohide&&(e.hide(),y.splice(t,1))}},w}),/**
 * Window.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i,r,o,a,s){function l(t){var e,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=i("meta[name=viewport]")[0];a.overrideViewPort!==!1&&(r||(r=document.createElement("meta"),r.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(r)),e=r.getAttribute("content"),e&&"undefined"!=typeof p&&(p=e),r.setAttribute("content",t?n:p))}function u(t,e){c()&&e===!1&&i([document.documentElement,document.body]).removeClass(t+"fullscreen")}function c(){for(var t=0;t<h.length;t++)if(h[t]._fullscreen)return!0;return!1}function d(){function t(){var t,e,i=n.getWindowSize();for(t=0;t<h.length;t++)e=h[t].layoutRect(),h[t].moveTo(h[t].settings.x||Math.max(0,i.w/2-e.w/2),h[t].settings.y||Math.max(0,i.h/2-e.h/2))}if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;(e.w!=t||e.h!=n)&&(e={w:t,h:n},i(window).trigger("resize"))},100)}i(window).on("resize",t)}var h=[],p="",f=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var i=this;i._super(t),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),t.buttons&&(i.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(t){var e=i.classPrefix+"close";(n.hasClass(t.target,e)||n.hasClass(t.target.parentNode,e))&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",t.title),i._fullscreen=!1},recalc:function(){var t,e,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),t=o.layoutRect(),o.settings.title&&!o._fullscreen&&(e=t.headerW,e>t.w&&(i=t.x-Math.max(0,e/2),o.layoutRect({w:e,x:i}),r=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),e=a.layoutRect().minW+t.deltaW,e>t.w&&(i=t.x-Math.max(0,e-t.w),o.layoutRect({w:e,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var t,e=this,i=e._super(),r=0;if(e.settings.title&&!e._fullscreen){t=e.getEl("head");var o=n.getSize(t);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=e.settings.x||Math.max(0,a.w/2-i.w/2),i.y=e.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var t=this,e=t._layout,n=t._id,i=t.classPrefix,r=t.settings,o="",a="",s=r.html;return t.preRender(),e.preRender(t),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+t.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=e.renderHtml(t)),t.statusbar&&(a=t.statusbar.renderHtml()),'<div id="'+n+'" class="'+t.classes+'" hidefocus="1"><div class="'+t.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+t.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(t){var e,r,a=this,l=document.documentElement,u=a.classPrefix;if(t!=a._fullscreen)if(i(window).on("resize",function(){var t;if(a._fullscreen)if(e)a._timer||(a._timer=s.setTimeout(function(){var t=n.getWindowSize();a.moveTo(0,0).resizeTo(t.w,t.h),a._timer=0},50));else{t=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-t>50&&(e=!0)}}),r=a.layoutRect(),a._fullscreen=t,t){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(u+"fullscreen"),a.classes.add("fullscreen");var c=n.getWindowSize();a.moveTo(0,0).resizeTo(c.w,c.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(u+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var t,e=this;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new r(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),h.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t,e=this;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),u(e.classPrefix,!1),t=h.length;t--;)h[t]===e&&h.splice(t,1);l(h.length>0)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});return d(),f}),/**
 * MessageBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(t,e,n){return{type:"button",text:t,subtype:n?"primary":"",onClick:function(t){t.control.parents()[1].close(),o(e)}}}var r,o=n.callback||function(){};switch(n.buttons){case e.OK_CANCEL:r=[i("Ok",!0,!0),i("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:r=[i("Yes",1,!0),i("No",0)],n.buttons==e.YES_NO_CANCEL&&r.push(i("Cancel",-1));break;default:r=[i("Ok",!0,!0)]}return new t({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,e.msgBox(t)},confirm:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),/**
 * WindowManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(n){function i(){return s.length?s[s.length-1]:void 0}function r(t){n.fire("OpenWindow",{win:t})}function o(t){n.fire("CloseWindow",{win:t})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var t=s.length;t--;)s[t].close()}),a.open=function(e,i){var a;return n.editorManager.setActive(n),e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new t(e),s.push(a),a.on("close",function(){for(var t=s.length;t--;)s[t]===a&&s.splice(t,1);s.length||n.focus(),o(a)}),e.data&&a.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),a.features=e||{},a.params=i||{},1===s.length&&n.nodeChanged(),a=a.renderTo().reflow(),r(a),a},a.alert=function(t,i,a){var s;s=e.alert(t,function(){i?i.call(a||this):n.focus()}),s.on("close",function(){o(s)}),r(s)},a.confirm=function(t,n,i){var a;a=e.confirm(t,function(t){n.call(i||this,t)}),a.on("close",function(){o(a)}),r(a)},a.close=function(){i()&&i().close()},a.getParams=function(){return i()?i().params:null},a.setParams=function(t){i()&&(i().params=t)},a.getWindows=function(){return s}}}),/**
 * Tooltip.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+t.encode(t.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),/**
 * Widget.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var n,i=t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&i.tooltips!==!1&&(e.on("mouseenter",function(n){var i=e.tooltip().moveTo(-65535);if(n.control==e){var r=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(e.getEl(),r)}else i.hide()}),e.on("mouseleave mousedown click",function(){e.tooltip().hide()})),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return n||(n=new e({type:"tooltip"}),n.renderTo()),n},postRender:function(){var t=this,e=t.settings;t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&t.focus()},bindStates:function(){function t(t){n.aria("disabled",t),n.classes.toggle("disabled",t)}function e(t){n.aria("pressed",t),n.classes.toggle("active",t)}var n=this;return n.state.on("change:disabled",function(e){t(e.value)}),n.state.on("change:active",function(t){e(t.value)}),n.state.get("disabled")&&t(!0),n.state.get("active")&&e(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),/**
 * Progress.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Progress",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{value:0},init:function(t){var e=this;e._super(t),e.classes.add("progress"),e.settings.filter||(e.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this,e=t._id,n=this.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var t=this;return t._super(),t.value(t.settings.value),t},bindStates:function(){function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}var e=this;return e.state.on("change:value",function(e){t(e.value)}),t(e.state.get("value")),e._super()}})}),/**
 * Notification.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Mixins:[e],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new n),e.on("click",function(t){-1!=t.target.className.indexOf(e.classPrefix+"close")&&e.close()})},renderHtml:function(){var t=this,e=t.classPrefix,n="",i="",r="",o="";return t.icon&&(n='<i class="'+e+"ico "+e+"i-"+t.icon+'"></i>'),t.color&&(o=' style="background-color: '+t.color+'"'),t.closeButton&&(i='<button type="button" class="'+e+'close" aria-hidden="true"></button>'),t.progressBar&&(r=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+o+' role="presentation">'+n+'<div class="'+e+'notification-inner">'+t.state.get("text")+"</div>"+r+i+"</div>"},postRender:function(){var t=this;return i.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=65534}})}),/**
 * NotificationManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],function(t,e,n){return function(i){function r(){return h.length?h[h.length-1]:void 0}function o(){e.requestAnimationFrame(function(){a(),s()})}function a(){for(var t=0;t<h.length;t++)h[t].moveTo(0,0)}function s(){if(h.length>0){var t=h.slice(0,1)[0],e=i.inline?i.getElement():i.getContentAreaContainer();if(t.moveRel(e,"tc-tc"),h.length>1)for(var n=1;n<h.length;n++)h[n].moveRel(h[n-1].getEl(),"bc-tc")}}function l(t,e){if(!c(e))return null;var i=n.grep(t,function(t){return u(e,t)});return 0===i.length?null:i[0]}function u(t,e){return t.type===e.settings.type&&t.text===e.settings.text}function c(t){return!t.progressBar&&!t.timeout}var d=this,h=[];d.notifications=h,i.on("remove",function(){for(var t=h.length;t--;)h[t].close()}),i.on("ResizeEditor",s),i.on("ResizeWindow",o),d.open=function(e){if(!i.removed){var n;i.editorManager.setActive(i);var r=l(h,e);return null===r?(n=new t(e),h.push(n),e.timeout>0&&(n.timer=setTimeout(function(){n.close()},e.timeout)),n.on("close",function(){var t=h.length;for(n.timer&&i.getWin().clearTimeout(n.timer);t--;)h[t]===n&&h.splice(t,1);s()}),n.renderTo(),s()):n=r,n}},d.close=function(){r()&&r().close()},d.getNotifications=function(){return h},i.on("SkinLoaded",function(){var t=i.settings.service_message;t&&i.notificationManager.open({text:t,type:"warning",timeout:0,icon:""})})}}),/**
 * NodePath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(t){function e(e,n,i){for(var r=[];n&&n!=e;n=n.parentNode)r.push(t.nodeIndex(n,i));return r}function n(t,e){var n,i,r;for(i=t,n=e.length-1;n>=0;n--){if(r=i.childNodes,e[n]>r.length-1)return null;i=r[e[n]]}return i}return{create:e,resolve:n}}),/**
 * Quirks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(t,e,n,i,r,o,a,s,l,u,c,d){return function(h){function p(t,e){try{h.getDoc().execCommand(t,!1,e)}catch(n){}}function f(){var t=h.getDoc().documentMode;return t?t:6}function g(t){return t.isDefaultPrevented()}function m(t){var e,n;t.dataTransfer&&(h.selection.isCollapsed()&&"IMG"==t.target.tagName&&it.select(t.target),e=h.selection.getContent(),e.length>0&&(n=ct+escape(h.id)+","+escape(e),t.dataTransfer.setData(dt,n)))}function v(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(dt),e&&e.indexOf(ct)>=0)?(e=e.substr(ct.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}function y(t){h.queryCommandSupported("mceInsertClipboardContent")?h.execCommand("mceInsertClipboardContent",!1,{content:t}):h.execCommand("mceInsertContent",!1,t)}function b(){function r(t){var e=k.schema.getBlockElements(),n=h.getBody();if("BR"!=t.nodeName)return!1;for(;t!=n&&!e[t.nodeName];t=t.parentNode)if(t.nextSibling)return!1;return!0}function o(t,e){var n;for(n=t.nextSibling;n&&n!=e;n=n.nextSibling)if((3!=n.nodeType||0!==Q.trim(n.data).length)&&n!==e)return!1;return n===e}function a(t,e,i){var o,a,s;if(k.isChildOf(t,h.getBody()))for(s=k.schema.getNonEmptyElements(),o=new n(i||t,t);a=o[e?"next":"prev"]();){if(s[a.nodeName]&&!r(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(t){var n,i,r,o,s;if(!t.collapsed&&(n=k.getParent(e.getNode(t.startContainer,t.startOffset),k.isBlock),i=k.getParent(e.getNode(t.endContainer,t.endOffset),k.isBlock),s=h.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&"false"!==k.getContentEditable(n)&&"false"!==k.getContentEditable(i)))return t.deleteContents(),r=a(n,!1),o=a(i,!0),k.isEmpty(i)||Q(n).append(i.childNodes),Q(i).remove(),r?1==r.nodeType?"BR"==r.nodeName?(t.setStartBefore(r),t.setEndBefore(r)):(t.setStartAfter(r),t.setEndAfter(r)):(t.setStart(r,r.data.length),t.setEnd(r,r.data.length)):o&&(1==o.nodeType?(t.setStartBefore(o),t.setEndBefore(o)):(t.setStart(o,0),t.setEnd(o,0))),x.setRng(t),!0}function c(t,n){var i,r,s,l,u,c;if(!t.collapsed)return t;if(u=t.startContainer,c=t.startOffset,3==u.nodeType)if(n){if(c<u.data.length)return t}else if(c>0)return t;i=e.getNode(u,c),s=k.getParent(i,k.isBlock),r=a(h.getBody(),n,i),l=k.getParent(r,k.isBlock);var d=1===u.nodeType&&c>u.childNodes.length-1;if(!i||!r)return t;if(l&&s!=l)if(n){if(!o(s,l))return t;1==i.nodeType?"BR"==i.nodeName?t.setStartBefore(i):t.setStartAfter(i):t.setStart(i,i.data.length),1==r.nodeType?t.setEnd(r,0):t.setEndBefore(r)}else{if(!o(l,s))return t;1==r.nodeType?"BR"==r.nodeName?t.setStartBefore(r):t.setStartAfter(r):t.setStart(r,r.data.length),1==i.nodeType&&d?t.setEndAfter(i):t.setEndBefore(i)}return t}function d(t){var e=x.getRng();return e=c(e,t),u(e)?!0:void 0}function p(t,e){function n(t,n){return g=Q(n).parents().filter(function(t,e){return!!h.schema.getTextInlineElements()[e.nodeName]}),l=t.cloneNode(!1),g=s.map(g,function(t){return t=t.cloneNode(!1),l.hasChildNodes()?(t.appendChild(l.firstChild),l.appendChild(t)):l.appendChild(t),l.appendChild(t),t}),g.length?(f=k.create("br"),g[0].appendChild(f),k.replace(l,t),e.setStartBefore(f),e.setEndBefore(f),h.selection.setRng(e),f):null}function r(t){return t&&h.schema.getTextBlockElements()[t.tagName]}var o,a,l,u,c,d,p,f,g;if(e.collapsed&&(d=e.startContainer,p=e.startOffset,a=k.getParent(d,k.isBlock),r(a)))if(1==d.nodeType){if(d=d.childNodes[p],d&&"BR"!=d.tagName)return;if(c=t?a.nextSibling:a.previousSibling,k.isEmpty(a)&&r(c)&&k.isEmpty(c)&&n(a,d))return k.remove(c),!0}else if(3==d.nodeType){if(o=i.create(a,d),u=a.cloneNode(!0),d=i.resolve(u,o),t){if(p>=d.data.length)return;d.deleteData(p,1)}else{if(0>=p)return;d.deleteData(p-1,1)}if(k.isEmpty(u))return n(a,d)}}function f(t){var e,n,i;d(t)||(s.each(h.getBody().getElementsByTagName("*"),function(t){"SPAN"==t.tagName&&t.setAttribute("mce-data-marked",1),!t.hasAttribute("data-mce-style")&&t.hasAttribute("style")&&h.dom.setAttrib(t,"style",h.dom.getAttrib(t,"style"))}),e=new S(function(){}),e.observe(h.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),h.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),n=h.selection.getRng(),i=n.startContainer.parentNode,s.each(e.takeRecords(),function(t){if(k.isChildOf(t.target,h.getBody())){if("style"==t.attributeName){var e=t.target.getAttribute("data-mce-style");e?t.target.setAttribute("style",e):t.target.removeAttribute("style")}s.each(t.addedNodes,function(t){if("SPAN"==t.nodeName&&!t.getAttribute("mce-data-marked")){var e,r;t==i&&(e=n.startOffset,r=t.firstChild),k.remove(t,!0),r&&(n.setStart(r,e),n.setEnd(r,e),h.selection.setRng(n))}})}}),e.disconnect(),s.each(h.dom.select("span[mce-data-marked]"),function(t){t.removeAttribute("mce-data-marked")}))}function b(t){h.undoManager.transact(function(){f(t)})}var w,_,C=h.getDoc(),k=h.dom,x=h.selection,S=window.MutationObserver;S||(w=!0,S=function(){function t(t){var e=t.relatedNode||t.target;i.push({target:e,addedNodes:[e]})}function e(t){var e=t.relatedNode||t.target;i.push({target:e,attributeName:t.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",t,!1),n.addEventListener("DOMNodeInsertedIntoDocument",t,!1),n.addEventListener("DOMNodeInserted",t,!1),n.addEventListener("DOMAttrModified",e,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",t,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),n.removeEventListener("DOMNodeInserted",t,!1),n.removeEventListener("DOMAttrModified",e,!1)},this.takeRecords=function(){return i}}),h.on("keydown",function(t){var e=t.keyCode==et,n=t.ctrlKey||t.metaKey;if(!g(t)&&(e||t.keyCode==tt)){var i=h.selection.getRng(),r=i.startContainer,o=i.startOffset;if(e&&t.shiftKey)return;if(p(e,i))return void t.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(e?o<r.data.length:o>0))return;t.preventDefault(),n&&h.selection.getSel().modify("extend",e?"forward":"backward",t.metaKey?"lineboundary":"word"),f(e)}}),h.on("keypress",function(e){if(!g(e)&&!x.isCollapsed()&&e.charCode>31&&!t.metaKeyPressed(e)){var n,i,r,o,a,s;n=h.selection.getRng(),s=String.fromCharCode(e.charCode),e.preventDefault(),i=Q(n.startContainer).parents().filter(function(t,e){return!!h.schema.getTextInlineElements()[e.nodeName]}),f(!0),i=i.filter(function(t,e){return!Q.contains(h.getBody(),e)}),i.length?(r=k.createFragment(),i.each(function(t,e){e=e.cloneNode(!1),r.hasChildNodes()?(e.appendChild(r.firstChild),r.appendChild(e)):(a=e,r.appendChild(e)),r.appendChild(e)}),a.appendChild(h.getDoc().createTextNode(s)),o=k.getParent(n.startContainer,k.isBlock),k.isEmpty(o)?Q(o).empty().append(r):n.insertNode(r),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),h.selection.setRng(n)):h.selection.setContent(s)}}),h.addCommand("Delete",function(){f()}),h.addCommand("ForwardDelete",function(){f(!0)}),w||(h.on("dragstart",function(t){_=x.getRng(),m(t)}),h.on("drop",function(t){if(!g(t)){var n=v(t);n&&(t.preventDefault(),l.setEditorTimeout(h,function(){var i=e.getCaretRangeFromPoint(t.x,t.y,C);_&&(x.setRng(_),_=null,b()),x.setRng(i),y(n.html)}))}}),h.on("cut",function(t){g(t)||!t.clipboardData||h.selection.isCollapsed()||(t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/html",h.selection.getContent()),t.clipboardData.setData("text/plain",h.selection.getContent({format:"text"})),l.setEditorTimeout(h,function(){b(!0)}))}))}function w(){function t(t){var e=nt.create("body"),n=t.cloneContents();return e.appendChild(n),it.serializer.serialize(e,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(h.getBody()),e.compareRanges(n,i)}var r=t(n),o=nt.createRng();o.selectNode(h.getBody());var a=t(o);return r===a}h.on("keydown",function(t){var e,i,r=t.keyCode;if(!g(t)&&(r==et||r==tt)){if(e=h.selection.isCollapsed(),i=h.getBody(),e&&!nt.isEmpty(i))return;if(!e&&!n(h.selection.getRng()))return;t.preventDefault(),h.setContent(""),i.firstChild&&nt.isBlock(i.firstChild)?h.selection.setCursorLocation(i.firstChild,0):h.selection.setCursorLocation(i,0),h.nodeChanged()}})}function _(){h.shortcuts.add("meta+a",null,"SelectAll")}function C(){h.settings.content_editable||nt.bind(h.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==h.getDoc().documentElement)if(e=it.getRng(),h.getBody().focus(),"mousedown"==t.type){if(u.isCaretContainer(e.startContainer))return;it.placeCaretAt(t.clientX,t.clientY)}else it.setRng(e)})}function k(){h.on("keydown",function(t){if(!g(t)&&t.keyCode===tt){if(!h.getBody().getElementsByTagName("hr").length)return;if(it.isCollapsed()&&0===it.getRng(!0).startOffset){var e=it.getNode(),n=e.previousSibling;if("HR"==e.nodeName)return nt.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(nt.remove(n),t.preventDefault())}}})}function x(){window.Range.prototype.getClientRects||h.on("mousedown",function(t){if(!g(t)&&"HTML"===t.target.nodeName){var e=h.getBody();e.blur(),l.setEditorTimeout(h,function(){e.focus()})}})}function S(){h.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==nt.getContentEditableParent(e)&&(t.preventDefault(),it.select(e),h.nodeChanged()),"A"==e.nodeName&&nt.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),it.select(e))})}function $(){function t(){var t=nt.getAttribs(it.getStart().cloneNode(!1));return function(){var e=it.getStart();e!==h.getBody()&&(nt.setAttrib(e,"style",null),X(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!it.isCollapsed()&&nt.getParent(it.getStart(),nt.isBlock)!=nt.getParent(it.getEnd(),nt.isBlock)}h.on("keypress",function(n){var i;return g(n)||8!=n.keyCode&&46!=n.keyCode||!e()?void 0:(i=t(),h.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),nt.bind(h.getDoc(),"cut",function(n){var i;!g(n)&&e()&&(i=t(),l.setEditorTimeout(h,function(){i()}))})}function D(){document.body.setAttribute("role","application")}function T(){h.on("keydown",function(t){if(!g(t)&&t.keyCode===tt&&it.isCollapsed()&&0===it.getRng(!0).startOffset){var e=it.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function E(){f()>7||(p("RespectVisibilityInDesign",!0),h.contentStyles.push(".mceHideBrInPre pre br {display: none}"),nt.addClass(h.getBody(),"mceHideBrInPre"),ot.addNodeFilter("pre",function(t){for(var e,n,i,o,a=t.length;a--;)for(e=t[a].getAll("br"),n=e.length;n--;)i=e[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"}),at.addNodeFilter("pre",function(t){for(var e,n,i,r,o=t.length;o--;)for(e=t[o].getAll("br"),n=e.length;n--;)i=e[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function A(){nt.bind(h.getBody(),"mouseup",function(){var t,e=it.getNode();"IMG"==e.nodeName&&((t=nt.getStyle(e,"width"))&&(nt.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),nt.setStyle(e,"width","")),(t=nt.getStyle(e,"height"))&&(nt.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),nt.setStyle(e,"height","")))})}function M(){h.on("keydown",function(e){var n,i,r,o,a;if(!g(e)&&e.keyCode==t.BACKSPACE&&(n=it.getRng(),i=n.startContainer,r=n.startOffset,o=nt.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(h.formatter.toggle("blockquote",null,a),n=nt.createRng(),n.setStart(i,0),n.setEnd(i,0),it.setRng(n))}})}function P(){function t(){Y(),p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),rt.object_resizing||p("enableObjectResizing",!1)}rt.readonly||h.on("BeforeExecCommand MouseDown",t)}function O(){function t(){X(nt.select("a"),function(t){var e=t.parentNode,n=nt.getRoot();if(e.lastChild===t){for(;e&&!nt.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}nt.add(e,"br",{"data-mce-bogus":1})}})}h.on("SetContent ExecCommand",function(e){("setcontent"==e.type||"mceInsertLink"===e.command)&&t()})}function N(){rt.forced_root_block&&h.on("init",function(){p("DefaultParagraphSeparator",rt.forced_root_block)})}function L(){h.on("keydown",function(t){var e;g(t)||t.keyCode!=tt||(e=h.getDoc().selection.createRange(),e&&e.item&&(t.preventDefault(),h.undoManager.beforeChange(),nt.remove(e.item(0)),h.undoManager.add()))})}function I(){var t;f()>=10&&(t="",X("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),h.contentStyles.push(t+"{padding-right: 1px !important}"))}function R(){f()<9&&(ot.addNodeFilter("noscript",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.firstChild,n&&e.attr("data-mce-innertext",n.value)}),at.addNodeFilter("noscript",function(t){for(var e,n,i,a=t.length;a--;)e=t[a],n=t[a].firstChild,n?n.value=o.decode(n.value):(i=e.attributes.map["data-mce-innertext"],i&&(e.attr("data-mce-innertext",null),n=new r("#text",3),n.value=i,n.raw=!0,e.append(n)))}))}function B(){function t(t,e){var n=s.createTextRange();try{n.moveToPoint(t,e)}catch(i){n=null}return n}function e(e){var i;e.button?(i=t(e.x,e.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var t=a.selection.createRange();r&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&r.select(),nt.unbind(a,"mouseup",n),nt.unbind(a,"mousemove",e),r=i=0}var i,r,o,a=nt.doc,s=a.body;a.documentElement.unselectable=!0,nt.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=t(s.x,s.y),r&&(nt.bind(a,"mouseup",n),nt.bind(a,"mousemove",e),nt.getRoot().focus(),r.select())}})}function H(){h.on("keyup focusin mouseup",function(e){65==e.keyCode&&t.metaKeyPressed(e)||it.normalize()},!0)}function F(){h.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function z(){h.inline||h.on("keydown",function(){document.activeElement==document.body&&h.getWin().focus()})}function j(){h.inline||(h.contentStyles.push("body {min-height: 150px}"),h.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(a.ie>11)return void h.getBody().focus();e=h.selection.getRng(),h.getBody().focus(),h.selection.setRng(e),h.selection.normalize(),h.nodeChanged()}}))}function V(){a.mac&&h.on("keydown",function(e){!t.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),h.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function U(){p("AutoUrlDetect",!1)}function W(){h.on("click",function(t){var e=t.target;do if("A"===e.tagName)return void t.preventDefault();while(e=e.parentNode)}),h.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function G(){h.on("init",function(){h.dom.bind(h.getBody(),"submit",function(t){t.preventDefault()})})}function q(){ot.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})}function K(){h.on("dragstart",function(t){m(t)}),h.on("drop",function(t){if(!g(t)){var n=v(t);if(n&&n.id!=h.id){t.preventDefault();var i=e.getCaretRangeFromPoint(t.x,t.y,h.getDoc());it.setRng(i),y(n.html)}}})}function Y(){}function Z(){var t;return st?(t=h.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount):0}function J(){function e(t){var e=new d(t.getBody()),n=t.selection.getRng(),i=c.fromRangeStart(n),r=c.fromRangeEnd(n),o=e.prev(i),a=e.next(r);return!t.selection.isCollapsed()&&(!o||o.isAtStart()&&i.isEqual(o))&&(!a||a.isAtEnd()&&i.isEqual(a))}h.on("keypress",function(n){!g(n)&&!it.isCollapsed()&&n.charCode>31&&!t.metaKeyPressed(n)&&e(h)&&(n.preventDefault(),h.setContent(String.fromCharCode(n.charCode)),h.selection.select(h.getBody(),!0),h.selection.collapse(!1),h.nodeChanged())}),h.on("keydown",function(t){var n=t.keyCode;g(t)||n!=et&&n!=tt||e(h)&&(t.preventDefault(),h.setContent(""),h.nodeChanged())})}var X=s.each,Q=h.$,tt=t.BACKSPACE,et=t.DELETE,nt=h.dom,it=h.selection,rt=h.settings,ot=h.parser,at=h.serializer,st=a.gecko,lt=a.ie,ut=a.webkit,ct="data:text/mce-internal,",dt=lt?"Text":"URL";return M(),w(),a.windowsPhone||H(),ut&&(J(),b(),C(),S(),N(),G(),T(),q(),a.iOS?(z(),j(),W()):_()),lt&&a.ie<11&&(k(),D(),E(),A(),L(),I(),R(),B()),a.ie>=11&&(j(),T()),a.ie&&(_(),U(),K()),st&&(J(),k(),x(),$(),P(),O(),F(),V(),T()),{refreshContentEditable:Y,isHidden:Z}}}),/**
 * EditorObservable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e,n){function i(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=a.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function r(t,e){function n(t){return!t.hidden&&!t.readonly}var r,s=i(t,e);if(t.delegates||(t.delegates={}),!t.delegates[e])if(t.settings.event_root){if(o||(o={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&o){for(e in o)t.dom.unbind(i(t,e));o=null}})),o[e])return;r=function(i){for(var r=i.target,o=t.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===r||a.isChildOf(r,l))&&n(o[s])&&o[s].fire(e,i)}},o[e]=r,a.bind(s,e,r)}else r=function(i){n(t)&&t.fire(e,i)},a.bind(s,e,r),t.delegates[e]=r}var o,a=e.DOM,s={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!=t&&"blur"!=t&&(e?n.initialized?r(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(i(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(i(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},t,s)}),/**
 * Mode.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Mode",[],function(){function t(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}}function e(t){var e,n;return e=t.getBody(),n=function(e){t.dom.getParents(e.target,"a").length>0&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}}function n(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=e(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,t(n,"StyleWithCSS",!1),t(n,"enableInlineTableEditing",!1),t(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function i(t,e){var i=t.readonly?"readonly":"design";e!=i&&(t.initialized?n(t,"readonly"==e):t.on("init",function(){n(t,"readonly"==e)}),t.fire("SwitchMode",{mode:e}))}return{setMode:i}}),/**
 * Shortcuts.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var n=t.each,i=t.explode,r={f9:120,f10:121,f11:122},o=t.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(t){var a,s,l={};n(i(t,"+"),function(t){t in o?l[t]=!0:/^[0-9]{2,}$/.test(t)?l.keyCode=parseInt(t,10):(l.charCode=t.charCodeAt(0),l.keyCode=r[t]||t.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,e.mac?l.ctrl=!0:l.shift=!0),l.meta&&(e.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(e,n,r,o){var l;return l=t.map(i(e,">"),s),l[l.length-1]=t.extend(l[l.length-1],{func:r,scope:o||a}),t.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(t){return t.altKey||t.ctrlKey||t.metaKey}function c(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}function d(t,e){return e?e.ctrl!=t.ctrlKey||e.meta!=t.metaKey?!1:e.alt!=t.altKey||e.shift!=t.shiftKey?!1:t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode?(t.preventDefault(),!0):!1:!1}function h(t){return t.func?t.func.call(t.scope):null}var p=this,f={},g=[];a.on("keyup keypress keydown",function(t){!u(t)&&!c(t)||t.isDefaultPrevented()||(n(f,function(e){return d(t,e)?(g=e.subpatterns.slice(0),"keydown"==t.type&&h(e),!0):void 0}),d(t,g[0])&&(1===g.length&&"keydown"==t.type&&h(g[0]),g.shift()))}),p.add=function(e,r,o,s){var u;return u=o,"string"==typeof o?o=function(){a.execCommand(u,!1,null)}:t.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(i(t.trim(e.toLowerCase())),function(t){var e=l(t,r,o,s);f[e.id]=e}),!0},p.remove=function(t){var e=l(t);return f[e.id]?(delete f[e.id],!0):!1}}}),/**
 * Uploader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(t,e,n){return function(i,r){function o(t){var e,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},e=n[t.blob().type.toLowerCase()]||"dat",t.filename()+"."+e}function a(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}function s(t){return{id:t.id,blob:t.blob,base64:t.base64,filename:n.constant(o(t))}}function l(t,e,n,i){var o,s;o=new XMLHttpRequest,o.open("POST",r.url),o.withCredentials=r.credentials,o.upload.onprogress=function(t){i(t.loaded/t.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t;return 200!=o.status?void n("HTTP Error: "+o.status):(t=JSON.parse(o.responseText),t&&"string"==typeof t.location?void e(a(r.basePath,t.location)):void n("Invalid JSON: "+o.responseText))},s=new FormData,s.append("file",t.blob(),t.filename()),o.send(s)}function u(){return new t(function(t){t([])})}function c(t,e){return{url:e,blobInfo:t,status:!0}}function d(t,e){return{url:"",blobInfo:t,status:!1,error:e}}function h(t,n){e.each(y[t],function(t){t(n)}),delete y[t]}function p(e,n,r){return i.markPending(e.blobUri()),new t(function(t){var o,a,l=function(){};try{var u=function(){o&&(o.close(),a=l)},p=function(n){u(),i.markUploaded(e.blobUri(),n),h(e.blobUri(),c(e,n)),t(c(e,n))},f=function(n){u(),i.removeFailed(e.blobUri()),h(e.blobUri(),d(e,n)),t(d(e,n))};a=function(t){0>t||t>100||(o||(o=r()),o.progressBar.value(t))},n(s(e),p,f,a)}catch(g){t(d(e,g.message))}})}function f(t){return t===l}function g(e){var n=e.blobUri();return new t(function(t){y[n]=y[n]||[],y[n].push(t)})}function m(n,o){return n=e.grep(n,function(t){return!i.isUploaded(t.blobUri())}),t.all(e.map(n,function(t){return i.isPending(t.blobUri())?g(t):p(t,r.handler,o)}))}function v(t,e){return!r.url&&f(r.handler)?u():m(t,e)}var y={};return r=e.extend({credentials:!1,handler:l},r),{upload:v}}}),/**
 * Conversions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/Conversions",["tinymce/util/Promise"],function(t){function e(e){return new t(function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()})}function n(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}}function i(e){return new t(function(t){var i,r,o;e=n(e);try{i=atob(e.data)}catch(a){return void t(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);t(new Blob([r],{type:e.type}))})}function r(t){return 0===t.indexOf("blob:")?e(t):0===t.indexOf("data:")?i(t):null}function o(e){return new t(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}return{uriToBlob:r,blobToDataUri:o,parseDataUri:n}}),/**
 * ImageScanner.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(t,e,n,i,r){var o=0,a=function(t){return(t||"blobid")+o++};return function(o,s){function l(l,c){function d(t,e){var n,r;return 0===t.src.indexOf("blob:")?(r=s.getByUri(t.src),void(r?e({image:t,blobInfo:r}):i.uriToBlob(t.src).then(function(o){i.blobToDataUri(o).then(function(l){n=i.parseDataUri(l).data,r=s.create(a(),o,n),s.add(r),e({image:t,blobInfo:r})})}))):(n=i.parseDataUri(t.src).data,r=s.findFirst(function(t){return t.base64()===n}),void(r?e({image:t,blobInfo:r}):i.uriToBlob(t.src).then(function(i){r=s.create(a(),i,n),s.add(r),e({image:t,blobInfo:r})})))}var h,p;return c||(c=n.constant(!0)),h=e.filter(l.getElementsByTagName("img"),function(t){var e=t.src;return r.fileApi?t.hasAttribute("data-mce-bogus")?!1:t.hasAttribute("data-mce-placeholder")?!1:e&&e!=r.transparentSrc?0===e.indexOf("blob:")?!o.isUploaded(e):0===e.indexOf("data:")?c(t):!1:!1:!1}),p=e.map(h,function(e){var n;return u[e.src]?new t(function(t){u[e.src].then(function(n){t({image:e,blobInfo:n.blobInfo})})}):(n=new t(function(t){d(e,t)}).then(function(t){return delete u[t.image.src],t})["catch"](function(t){return delete u[e.src],t}),u[e.src]=n,n)}),t.all(p)}var u={};return{findAll:l}}}),/**
 * BlobCache.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(t,e){return function(){function n(t,e,n,i){return{id:c(t),filename:c(i||t),blob:c(e),base64:c(n),blobUri:c(URL.createObjectURL(e))}}function i(t){r(t.id())||u.push(t)}function r(t){return o(function(e){return e.id()===t})}function o(e){return t.filter(u,e)[0]}function a(t){return o(function(e){return e.blobUri()==t})}function s(e){u=t.filter(u,function(t){return t.blobUri()===e?(URL.revokeObjectURL(t.blobUri()),!1):!0})}function l(){t.each(u,function(t){URL.revokeObjectURL(t.blobUri())}),u=[]}var u=[],c=e.constant;return{create:n,add:i,get:r,getByUri:a,findFirst:o,removeByUri:s,destroy:l}}}),/**
 * UploadStatus.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/file/UploadStatus",[],function(){return function(){function t(t,e){return{status:t,resultUri:e}}function e(t){return t in d}function n(t){var e=d[t];return e?e.resultUri:null}function i(t){return e(t)?d[t].status===u:!1}function r(t){return e(t)?d[t].status===c:!1}function o(e){d[e]=t(u,null)}function a(e,n){d[e]=t(c,n)}function s(t){delete d[t]}function l(){d={}}var u=1,c=2,d={};return{hasBlobUri:e,getResultUri:n,isPending:i,isUploaded:r,markPending:o,markUploaded:a,removeFailed:s,destroy:l}}}),/**
 * ErrorReporter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ErrorReporter",["tinymce/AddOnManager"],function(t){var e=t.PluginManager,n=function(t,n){for(var i in e.urls){var r=e.urls[i]+"/plugin"+n+".js";if(r===t)return i}return null},i=function(t,e){var i=n(e,t.suffix);return i?"Failed to load plugin: "+i+" from url "+e:"Failed to load plugin url: "+e},r=function(t,e){t.notificationManager.open({type:"error",text:e})},o=function(t,e){t._skinLoaded?r(t,e):t.on("SkinLoaded",function(){r(t,e)})},a=function(t,e){o(t,"Failed to upload image: "+e)},s=function(t,e){o(t,i(t,e))};return{pluginLoadError:s,uploadError:a}}),/**
 * EditorUpload.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus","tinymce/ErrorReporter"],function(t,e,n,i,r,o){return function(a){function s(t){return function(e){return a.selection?t(e):[]}}function l(){return"?"+(new Date).getTime()}function u(t,e,n){var i=0;do i=t.indexOf(e,i),-1!==i&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1);while(-1!==i);return t}function c(t,e,n){return t=u(t,'src="'+e+'"','src="'+n+'"'),t=u(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function d(e,n){t.each(a.undoManager.data,function(i){"fragmented"===i.type?i.fragments=t.map(i.fragments,function(t){return c(t,e,n)}):i.content=c(i.content,e,n)})}function h(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function p(t,e){C.removeByUri(t.src),d(t.src,e),a.$(t).attr({src:k.images_reuse_filename?e+l():e,"data-mce-src":a.convertURL(e,"src")})}function f(n){return w||(w=new e(x,{url:k.images_upload_url,basePath:k.images_upload_base_path,credentials:k.images_upload_credentials,handler:k.images_upload_handler})),v().then(s(function(e){var i;return i=t.map(e,function(t){return t.blobInfo}),w.upload(i,h).then(s(function(i){return i=t.map(i,function(t,n){var i=e[n].image;return t.status&&a.settings.images_replace_blob_uris!==!1?p(i,t.url):t.error&&o.uploadError(a,t.error),{element:i,status:t.status}}),n&&n(i),i}))}))}function g(t){return k.automatic_uploads!==!1?f(t):void 0}function m(t){return k.images_dataimg_filter?k.images_dataimg_filter(t):!0}function v(){return _||(_=new n(x,C)),_.findAll(a.getBody(),m).then(s(function(e){return t.each(e,function(t){d(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))}function y(){C.destroy(),x.destroy(),_=w=null}function b(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=x.getResultUri(n);if(i)return'src="'+i+'"';var r=C.getByUri(n);return r||(r=t.reduce(a.editorManager.editors,function(t,e){return t||e.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})}var w,_,C=new i,k=a.settings,x=new r;return a.on("setContent",function(){a.settings.automatic_uploads!==!1?g():v()}),a.on("RawSaveContent",function(t){t.content=b(t.content)}),a.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=b(t.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(e){t.each(e,function(t){var e=t.attr("src");if(!C.getByUri(e)){var n=x.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:C,uploadImages:f,uploadImagesAuto:g,scanForImages:v,destroy:y}}}),/**
 * FakeCaret.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(t,e,n,i,r,o,a){var s=n.isContentEditableFalse;return function(e,n){function i(t,n){var i,r,a,s,l,u=o.collapse(t.getBoundingClientRect(),n);return"BODY"==e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,a=e.scrollTop||i.scrollTop):(l=e.getBoundingClientRect(),r=e.scrollLeft-l.left,a=e.scrollTop-l.top),u.left+=r,u.right+=r,u.top+=a,u.bottom+=a,u.width=1,s=t.offsetWidth-t.clientWidth,s>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u}function l(){var n,i,o,a,s;for(n=r("*[contentEditable=false]",e),a=0;a<n.length;a++)i=n[a],o=i.previousSibling,t.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=i.nextSibling,t.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function u(o,a){var l,u;return c(),n(a)?(m=t.insertBlock("p",a,o),l=i(a,o),r(m).css("top",l.top),g=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e),o&&g.addClass("mce-visual-caret-before"),d(),u=a.ownerDocument.createRange(),u.setStart(m,0),u.setEnd(m,0),u):(m=t.insertInline(a,o),u=a.ownerDocument.createRange(),s(m.nextSibling)?(u.setStart(m,0),u.setEnd(m,0)):(u.setStart(m,1),u.setEnd(m,1)),u)}function c(){l(),m&&(t.remove(m),m=null),g&&(g.remove(),g=null),clearInterval(f)}function d(){f=a.setInterval(function(){r("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}function h(){a.clearInterval(f)}function p(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var f,g,m;return{show:u,hide:c,getCss:p,destroy:h}}}),/**
 * Dimensions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(t,e,n){function i(r){function o(e){return t.map(e,function(t){return t=n.clone(t),t.node=r,t})}if(t.isArray(r))return t.reduce(r,function(t,e){return t.concat(i(e))},[]);if(e.isElement(r))return o(r.getClientRects());if(e.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}return{getClientRects:i}}),/**
 * LineWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(t,e,n,i,r,o,a,s){function l(t,e,n,o){for(;o=r.findNode(o,t,i.isEditableCaretCandidate,e);)if(n(o))return}function u(t,i,r,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),-1==t&&(u=u.reverse()),s=0;s<u.length;s++)if(l=u[s],!r(l,d)){if(p.length>0&&i(l,e.last(p))&&h++,l.line=h,a(l))return!0;p.push(l)}}var c,d,h=0,p=[];return(d=e.last(s.getClientRects()))?(c=s.getNode(),u(c),l(t,o,u,c),p):p}function c(t,e){return e.line>t}function d(t,e){return e.line===t}function h(t,n,i,r){function l(n){return 1==t?e.last(n.getClientRects()):e.last(n.getClientRects())}var u,c,d,h,p,f,g=new o(n),m=[],v=0;1==t?(u=g.next,c=s.isBelow,d=s.isAbove,h=a.after(r)):(u=g.prev,c=s.isAbove,d=s.isBelow,h=a.before(r)),f=l(h);do if(h.isVisible()&&(p=l(h),!d(p,f))){if(m.length>0&&c(p,e.last(m))&&v++,p=s.clone(p),p.position=h,p.line=v,i(p))return m;m.push(p)}while(h=u(h));return m}var p=t.curry,f=p(u,-1,s.isAbove,s.isBelow),g=p(u,1,s.isBelow,s.isAbove);return{upUntil:f,downUntil:g,positionsUntil:h,isAboveLine:p(c),isLine:p(d)}}),/**
 * LineUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o,a){function s(t,e){return Math.abs(t.left-e)}function l(t,e){return Math.abs(t.right-e)}function u(t,n){function i(t,e){return t>=e.left&&t<=e.right}return e.reduce(t,function(t,e){var r,o;return r=Math.min(s(t,n),l(t,n)),o=Math.min(s(e,n),l(e,n)),i(n,e)?e:i(n,t)?t:o==r&&g(e.node)?e:r>o?e:t})}function c(t,e,n,i){for(;i=m(i,t,a.isEditableCaretCandidate,e);)if(n(i))return}function d(t,n){function o(t,r){var o;return o=e.filter(i.getClientRects(r),function(e){return!t(e,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,t,v(o,r.isAbove),n.node),c(1,t,v(o,r.isBelow),n.node),a}function h(t){return e.filter(e.toArray(t.getElementsByTagName("*")),g)}function p(t,e){return{node:t.node,before:s(t,e)<l(t,e)}}function f(t,n,r){var o,a;return o=i.getClientRects(h(t)),o=e.filter(o,function(t){return r>=t.top&&r<=t.bottom}),a=u(o,n),a&&(a=u(d(t,a),n),a&&g(a.node))?p(a,n):null}var g=n.isContentEditableFalse,m=o.findNode,v=t.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:f}}),/**
 * MousePosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/MousePosition",[],function(){var t=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),e=t.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},e=function(e){return e.inline?t(e.getBody()):{left:0,top:0}},n=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},i=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},r=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var r=t(e.getContentAreaContainer()),o=i(e);return{left:n.pageX-r.left+o.left,top:n.pageY-r.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},a=function(t,i){return o(e(t),n(t),r(t,i))};return{calc:a}}),/**
 * DragDropOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(t,e,n,i,r,o){var a=t.isContentEditableFalse,s=t.isContentEditableTrue,l=function(t,e){return a(e)&&e!==t},u=function(t,e,n){return e===n||t.dom.isChildOf(e,n)?!1:a(e)?!1:!0},c=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},d=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},h=function(t,e){t.parentNode!==e&&e.appendChild(t)},p=function(t,e,n,i,r,o){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(a=e.pageX+n-r),e.pageY+i>o&&(s=e.pageY+i-o),t.style.width=n-a+"px",t.style.height=i-s+"px"},f=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},g=function(t){return 0===t.button},m=function(t){return t.element},v=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},y=function(t,i){return function(r){if(g(r)){var o=e.find(i.dom.getParents(r.target),n.or(a,s));if(l(i.getBody(),o)){var u=i.dom.getPos(o),c=i.getBody(),h=i.getDoc().documentElement;t.element=o,t.screenX=r.screenX,t.screenY=r.screenY,t.maxX=(i.inline?c.scrollWidth:h.offsetWidth)-2,t.maxY=(i.inline?c.scrollHeight:h.offsetHeight)-2,t.relX=r.pageX-u.x,t.relY=r.pageY-u.y,t.width=o.offsetWidth,t.height=o.offsetHeight,t.ghost=d(i,o,t.width,t.height)}}}},b=function(t,e){var n=i.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(m(t)&&!t.dragging&&r>10){var a=e.fire("dragstart",{target:t.element});if(a.isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var s=v(t,o.calc(e,i));h(t.ghost,e.getBody()),p(t.ghost,s,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}},w=function(t){var e=t.getSel().getRangeAt(0),n=e.startContainer;return 3===n.nodeType?n.parentNode:n},_=function(t,e){return function(n){if(t.dragging&&u(e,w(e.selection),t.element)){var i=c(t.element),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){f(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}k(t)}},C=function(t,e){return function(){k(t),t.dragging&&e.fire("dragend")}},k=function(t){t.dragging=!1,t.element=null,f(t.ghost)},x=function(t){var e,n,i,o,a,s,l={};e=r.DOM,s=document,n=y(l,t),i=b(l,t),o=_(l,t),a=C(l,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",o),e.bind(s,"mousemove",i),e.bind(s,"mouseup",a),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",a)})},S=function(t){t.on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(a(n)||a(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},$=function(t){x(t),S(t)};return{init:$}}),/**
 * SelectionOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g){function m(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function v(u){function v(t){return u.dom.hasClass(t,"mce-offscreen-selection")}function S(){var t=u.dom.get(ct);return t?t.getElementsByTagName("*")[0]:t}function $(t){return u.dom.isBlock(t)}function D(t){t&&u.selection.setRng(t)}function T(){return u.selection.getRng()}function E(t,e){u.selection.scrollIntoView(t,e)}function A(t,e,n){var i;return i=u.fire("ShowCaret",{target:e,direction:t,before:n}),i.isDefaultPrevented()?null:(E(e,-1===t),ut.show(n,e))}function M(t){var e;return e=u.fire("BeforeObjectSelected",{target:t}),e.isDefaultPrevented()?null:P(t)}function P(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}function O(t,e){var n=r.isInSameBlock(t,e);return!n&&l.isBr(t.getNode())?!0:n}function N(t,e){return e=r.normalizeRange(t,ot,e),-1==t?n.fromRangeStart(e):n.fromRangeEnd(e)}function L(t){return i.isCaretContainerBlock(t.startContainer)}function I(t,e,n,i){var r,o,a,s;return!i.collapsed&&(r=x(i),w(r))?A(t,r,-1==t):(s=L(i),o=N(t,i),n(o)?M(o.getNode(-1==t)):(o=e(o))?n(o)?A(t,o.getNode(-1==t),1==t):(a=e(o),n(a)&&O(o,a)?A(t,a.getNode(-1==t),1==t):s?U(o.toRange()):null):s?i:null)}function R(t,e,n){var i,r,o,l,u,c,d,h,f;if(f=x(n),i=N(t,n),r=e(ot,a.isAboveLine(1),i),o=p.filter(r,a.isLine(1)),u=p.last(i.getClientRects()),k(i)&&(f=i.getNode()),C(i)&&(f=i.getNode(!0)),!u)return null;if(c=u.left,l=s.findClosestClientRect(o,c),l&&w(l.node))return d=Math.abs(c-l.left),h=Math.abs(c-l.right),A(t,l.node,h>d);if(f){var g=a.positionsUntil(t,ot,a.isAboveLine(1),f);if(l=s.findClosestClientRect(p.filter(g,a.isLine(1)),c))return U(l.position.toRange());if(l=p.last(p.filter(g,a.isLine(0))))return U(l.position.toRange())}}function B(e,i){function r(){var e=u.dom.create(u.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var o,a,s;if(i.collapsed&&u.settings.forced_root_block){if(o=u.dom.getParent(i.startContainer,"PRE"),!o)return;a=1==e?st(n.fromRangeStart(i)):lt(n.fromRangeStart(i)),a||(s=r(),1==e?u.$(o).after(s):u.$(o).before(s),u.selection.select(s,!0),u.selection.collapse())}}function H(t,e,n,i){var r;return(r=I(t,e,n,i))?r:(r=B(t,i),r?r:null)}function F(t,e,n){var i;return(i=R(t,e,n))?i:(i=B(t,n),i?i:null)}function z(){return dt("*[data-mce-caret]")[0]}function j(t){t.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(t),D(T()),E(t[0]))}function V(t){var e,i;return t=r.normalizeRange(1,ot,t),e=n.fromRangeStart(t),w(e.getNode())?A(1,e.getNode(),!e.isAtEnd()):w(e.getNode(!0))?A(1,e.getNode(!0),!1):(i=u.dom.getParent(e.getNode(),h.or(w,b)),w(i)?A(1,i,!1):null)}function U(t){var e;return t&&t.collapsed?(e=V(t),e?e:t):t}function W(t){var e,r,o,a;return w(t)?(w(t.previousSibling)&&(o=t.previousSibling),r=lt(n.before(t)),r||(e=st(n.after(t))),e&&_(e.getNode())&&(a=e.getNode()),i.remove(t.previousSibling),i.remove(t.nextSibling),u.dom.remove(t),u.dom.isEmpty(u.getBody())?(u.setContent(""),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():r?r.toRange():e?e.toRange():null):null}function G(t){var e=u.schema.getTextBlockElements();return t.nodeName in e}function q(t){return u.dom.isEmpty(t)}function K(t,e,i){var r,o,a,s,l=u.dom;if(r=l.getParent(e.getNode(),l.isBlock),o=l.getParent(i.getNode(),l.isBlock),-1===t){if(s=i.getNode(!0),C(i)&&$(s))return G(r)?(q(r)&&l.remove(r),n.after(s).toRange()):W(i.getNode(!0))}else if(s=e.getNode(),k(e)&&$(s))return G(o)?(q(o)&&l.remove(o),n.before(s).toRange()):W(e.getNode());if(r===o||!G(r)||!G(o))return null;for(;a=r.firstChild;)o.appendChild(a);return u.dom.remove(r),i.toRange()}function Y(t,e,n,r){var o,a,s,l;return!r.collapsed&&(o=x(r),w(o))?U(W(o)):(a=N(t,r),n(a)&&i.isCaretContainerBlock(r.startContainer)?(l=-1==t?at.prev(a):at.next(a),l?U(l.toRange()):r):e(a)?U(W(a.getNode(-1==t))):(s=-1==t?at.prev(a):at.next(a),e(s)?-1===t?K(t,a,s):K(t,s,a):void 0))}function Z(){function r(t,e){if(t.isDefaultPrevented()===!1){var n=e(T());n&&(t.preventDefault(),D(n))}}function o(t){for(var e=u.getBody();t&&t!=e;){if(b(t)||w(t))return t;t=t.parentNode}return null}function l(t,e,n){return n.collapsed?!1:p.reduce(n.getClientRects(),function(n,i){return n||c.containsXY(i,t,e)},!1)}function h(t){var e=!1;t.on("touchstart",function(){e=!1}),t.on("touchmove",function(){e=!0}),t.on("touchend",function(t){var n=o(t.target);w(n)&&(e||(t.preventDefault(),tt(M(n))))})}function m(){var t,e=o(u.selection.getNode());b(e)&&$(e)&&u.dom.isEmpty(e)&&(t=u.dom.create("br",{"data-mce-bogus":"1"}),u.$(e).empty().append(t),u.selection.setRng(n.before(t).toRange()))}function _(t){var e=z();if(e)return"compositionstart"==t.type?(t.preventDefault(),t.stopPropagation(),void j(e)):void(i.hasContent(e)&&j(e))}function x(t){var e;switch(t.keyCode){case d.DELETE:e=m();break;case d.BACKSPACE:e=m()}e&&t.preventDefault()}var E=y(H,1,st,k),P=y(H,-1,lt,C),O=y(Y,1,k,C),N=y(Y,-1,C,k),L=y(F,-1,a.upUntil),I=y(F,1,a.downUntil);u.on("mouseup",function(){var t=T();t.collapsed&&D(V(t))}),u.on("click",function(t){var e;e=o(t.target),e&&(w(e)&&(t.preventDefault(),u.focus()),b(e)&&u.dom.isChildOf(e,u.selection.getNode())&&et())}),u.on("blur NewBlock",function(){et(),it()});var R=function(t){var i=new e(t);if(!t.firstChild)return!1;var r=n.before(t.firstChild),o=i.next(r);return o&&!k(o)&&!C(o)},B=function(t,e){var n=u.dom.getParent(t,u.dom.isBlock),i=u.dom.getParent(e,u.dom.isBlock);return n===i},G=function(t){return t.keyCode>=112&&t.keyCode<=123?!1:!0},q=function(t,e){var n=u.dom.getParent(t,u.dom.isBlock),i=u.dom.getParent(e,u.dom.isBlock);return n&&!B(n,i)&&R(n)};h(u),u.on("mousedown",function(t){var e;if(e=o(t.target))w(e)?(t.preventDefault(),tt(M(e))):l(t.clientX,t.clientY,u.selection.getRng())||u.selection.placeCaretAt(t.clientX,t.clientY);else{et(),it();var n=s.closestCaret(ot,t.clientX,t.clientY);n&&(q(t.target,n.node)||(t.preventDefault(),u.getBody().focus(),D(A(1,n.node,n.before))))}}),u.on("keydown",function(t){if(!d.modifierPressed(t))switch(t.keyCode){case d.RIGHT:r(t,E);break;case d.DOWN:r(t,I);break;case d.LEFT:r(t,P);break;case d.UP:r(t,L);break;case d.DELETE:r(t,O);break;case d.BACKSPACE:r(t,N);break;default:w(u.selection.getNode())&&G(t)&&t.preventDefault()}}),u.on("keyup compositionstart",function(t){_(t),x(t)},!0),u.on("cut",function(){var t=u.selection.getNode();w(t)&&f.setEditorTimeout(u,function(){D(U(W(t)))})}),u.on("getSelectionRange",function(t){var e=t.range;if(rt){if(!rt.parentNode)return void(rt=null);e=e.cloneRange(),e.selectNode(rt),t.range=e}}),u.on("setSelectionRange",function(t){var e;e=tt(t.range),e&&(t.range=e)}),u.on("AfterSetSelectionRange",function(t){var e=t.range;Q(e)||it(),v(e.startContainer.parentNode)||et()}),u.on("focus",function(){f.setEditorTimeout(u,function(){u.selection.setRng(U(u.selection.getRng()))},0)}),u.on("copy",function(e){var n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!t.ie){var i=S();i&&(e.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}}),g.init(u)}function J(){var t=u.contentStyles,e=".mce-content-body";t.push(ut.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")}function X(t){return i.isCaretContainer(t)||i.startsWithCaretContainer(t)||i.endsWithCaretContainer(t)}function Q(t){return X(t.startContainer)||X(t.endContainer)}function tt(e){var n,i,r,o,a,s,l,c,d,h,p=u.$,f=u.dom;if(!e)return null;if(e.collapsed){if(!Q(e)){if(c=N(1,e),w(c.getNode()))return A(1,c.getNode(),!c.isAtEnd());if(w(c.getNode(!0)))return A(1,c.getNode(!0),!1)}return null}return o=e.startContainer,a=e.startOffset,s=e.endOffset,3==o.nodeType&&0==a&&w(o.parentNode)&&(o=o.parentNode,a=f.nodeIndex(o),o=o.parentNode),1!=o.nodeType?null:(s==a+1&&(n=o.childNodes[a]),w(n)?(d=h=n.cloneNode(!0),l=u.fire("ObjectSelected",{target:n,targetClone:d}),l.isDefaultPrevented()?null:(d=l.targetClone,i=p("#"+ct),0===i.length&&(i=p('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ct),i.appendTo(u.getBody())),e=u.dom.createRng(),d===h&&t.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(d),e.setStartAfter(i[0].firstChild.firstChild),e.setEndAfter(d)):(i.empty().append("").append(d).append(""),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0)),i.css({top:f.getPos(n,u.getBody()).y}),i[0].focus(),r=u.selection.getSel(),r.removeAllRanges(),r.addRange(e),u.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),rt=n,it(),e)):null)}function et(){rt&&(rt.removeAttribute("data-mce-selected"),u.$("#"+ct).remove(),rt=null)}function nt(){ut.destroy(),rt=null}function it(){ut.hide()}var rt,ot=u.getBody(),at=new e(ot),st=y(m,at.next),lt=y(m,at.prev),ut=new o(u.getBody(),$),ct="sel-"+u.dom.uniqueId(),dt=u.$;return t.ceFalse&&(Z(),J()),{showBlockCaretContainer:j,hideFakeCaret:it,destroy:nt}}var y=h.curry,b=l.isContentEditableTrue,w=l.isContentEditableFalse,_=l.isElement,C=r.isAfterContentEditableFalse,k=r.isBeforeContentEditableFalse,x=u.getSelectedNode;return v}),/**
 * Uuid.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Uuid",[],function(){var t=0,e=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)},e=(new Date).getTime();return"s"+e.toString(36)+t()+t()+t()},n=function(n){return n+t++ +e()};return{uuid:n}}),/**
 * Sidebar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Sidebar",[],function(){var t=function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i};return{add:t}}),/**
 * Editor.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid","tinymce/ui/Sidebar","tinymce/ErrorReporter"],function(t,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A,M,P){function O(t,e,r){var o,a,s,l=this;o=l.documentBaseUrl=r.documentBaseURL,a=r.baseURI,s=r.defaultSettings,e=R({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s,e),s&&s.external_plugins&&e.external_plugins&&(e.external_plugins=R({},s.external_plugins,e.external_plugins)),l.settings=e,i.language=e.language||"en",i.languageLoad=e.language_load,i.baseURL=r.baseURL,l.id=e.id=t,l.setDirty(!1),l.plugins={},l.documentBaseURI=new f(e.document_base_url||o,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new D(l),l.loadedCSS={},l.editorCommands=new p(l),l.suffix=r.suffix,l.editorManager=r,l.inline=e.inline,l.settings.content_editable=l.inline,e.cache_suffix&&(C.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),e.override_viewport===!1&&(C.overrideViewPort=!1),r.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var N=t.DOM,L=i.ThemeManager,I=i.PluginManager,R=k.extend,B=k.each,H=k.explode,F=k.inArray,z=k.trim,j=k.resolve,V=m.Event,U=C.gecko,W=C.ie;return O.prototype={render:function(){function t(){N.unbind(window,"ready",t),n.render()}function e(){var t=g.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&t.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!L.urls[i.theme]){var e=i.theme_url;e=e?n.documentBaseURI.toAbsolute(e):"themes/"+i.theme+"/theme"+o+".js",L.load(i.theme,e)}k.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),B(i.external_plugins,function(t,e){I.load(e,t),i.plugins+=" "+e}),B(i.plugins.split(/[ ,]/),function(t){if(t=z(t),t&&!I.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=I.dependencies(t);B(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"};t=I.createUrl(e,t),I.load(t.resource,t)})}else I.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"})}),t.loadQueue(function(){n.removed||n.init()},n,function(t){P.pluginLoadError(n,t[0]),n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!V.domLoaded)return void N.bind(window,"ready",t);if(n.getElement()&&C.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||N.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(N.insertAfter(N.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},N.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new y(n),"xml"==i.encoding&&n.on("GetContent",function(t){t.save&&(t.content=N.encode(t.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),e()}},init:function(){function t(e){var n,i,r=I.get(e);if(n=I.urls[e]||h.documentBaseUrl.replace(/\/$/,""),e=z(e),r&&-1===F(g,e)){if(B(I.dependencies(e),function(e){t(e)}),h.plugins[e])return;i=new r(h,n,h.$),h.plugins[e]=i,i.init&&(i.init(h,n),g.push(e))}}var e,n,i,r,o,a,s,l,u,c,d,h=this,p=h.settings,f=h.getElement(),g=[];if(h.rtl=p.rtl_ui||h.editorManager.i18n.rtl,h.editorManager.i18n.setCode(p.language),p.aria_label=p.aria_label||N.getAttrib(f,"aria-label",h.getLang("aria.rich_text_area")),h.fire("ScriptsLoaded"),p.theme&&("function"!=typeof p.theme?(p.theme=p.theme.replace(/-/,""),a=L.get(p.theme),h.theme=new a(h,L.urls[p.theme]),h.theme.init&&h.theme.init(h,L.urls[p.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=p.theme),B(p.plugins.replace(/\-/g,"").split(/[ ,]/),t),p.render_ui&&h.theme&&(h.orgDisplay=f.style.display,"function"!=typeof p.theme?(e=p.width||f.style.width||f.offsetWidth,n=p.height||f.style.height||f.offsetHeight,i=p.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=h.theme.renderUI({targetNode:f,width:e,height:n,deltaWidth:p.delta_width,deltaHeight:p.delta_height}),p.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=p.theme(h,f),o.editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||h.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||h.id+"_iframecontainer"),n=o.iframeHeight||f.offsetHeight),h.editorContainer=o.editorContainer),p.content_css&&B(H(p.content_css),function(t){h.contentCSS.push(h.documentBaseURI.toAbsolute(t))}),p.content_style&&h.contentStyles.push(p.content_style),p.content_editable)return f=r=o=null,h.initContentBody();if(h.iframeHTML=p.doctype+"<html><head>",p.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!C.caretAfter&&p.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<h.contentCSS.length;d++){var m=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(m)+'" />',h.loadedCSS[m]=!0}l=p.body_id||"tinymce",-1!=l.indexOf("=")&&(l=h.getParam("body_id","","hash"),l=l[h.id]||l),u=p.body_class||"",-1!=u.indexOf("=")&&(u=h.getParam("body_class","","hash"),u=u[h.id]||""),p.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+p.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+u+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&C.ie&&C.ie<12&&(s=v);var y=N.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,h.fire("load")},N.setAttrib(y,"src",s||'javascript:""'),h.contentAreaContainer=o.iframeContainer,h.iframeElement=y,r=N.add(o.iframeContainer,y),W)try{h.getDoc()}catch(b){r.src=s=v}o.editorContainer&&(N.get(o.editorContainer).style.display=h.orgDisplay,h.hidden=N.isHidden(o.editorContainer)),h.getElement().style.display="none",N.setAttrib(h.id,"aria-hidden",!0),s||h.initContentBody(),f=r=o=null},initContentBody:function(e){var n,i,s=this,p=s.settings,f=s.getElement(),g=s.getDoc();p.inline||(s.getElement().style.visibility=s.orgVisibility),e||p.content_editable||(g.open(),g.write(s.iframeHTML),g.close()),p.content_editable&&(s.on("remove",function(){var t=this.getBody();N.removeClass(t,"mce-content-body"),N.removeClass(t,"mce-edit-focus"),N.setAttrib(t,"contentEditable",null)}),N.addClass(f,"mce-content-body"),s.contentDocument=g=p.content_document||document,s.contentWindow=p.content_window||window,s.bodyElement=f,p.content_document=p.content_window=null,p.root_name=f.nodeName.toLowerCase()),n=s.getBody(),n.disabled=!0,s.readonly=p.readonly,s.readonly||(s.inline&&"static"==N.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new T(s),s.schema=new b(p),s.dom=new t(g,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:p.force_hex_style_colors,class_filter:p.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:p.content_editable,schema:s.schema,onSetAttrib:function(t){s.fire("SetAttrib",t)}}),s.parser=new w(p,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,r,o=t.length,a=s.dom;o--;)if(n=t[o],i=n.attr(e),r="data-mce-"+e,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?(i=a.serializeStyle(a.parseStyle(i),n.name),i.length||(i=null),n.attr(r,i),n.attr(e,i)):"tabindex"===e?(n.attr(r,i),n.attr(e,null)):n.attr(r,s.convertURL(i,e,n.name))}}),s.parser.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("type")||"no/type",0!==n.indexOf("mce-")&&e.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)e=t[n],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=s.schema.getNonEmptyElements();n--;)e=t[n],e.isEmpty(i)&&0===e.getAll("br").length&&(e.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(p,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new u(s),s.undoManager=new c(s),s.forceBlocks=new h(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new r(s),s._selectionOverrides=new E(s),s.fire("PreInit"),p.browser_spellcheck||p.gecko_spellcheck||(g.body.spellcheck=!1,N.setAttrib(n,"spellcheck","false")),s.quirks=new _(s),s.fire("PostRender"),p.directionality&&(n.dir=p.directionality),p.nowrap&&(n.style.whiteSpace="nowrap"),p.protect&&s.on("BeforeSetContent",function(t){B(p.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),p.padd_empty_editor&&s.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(t){s.composing="compositionstart"===t.type}),s.contentStyles.length>0&&(i="",B(s.contentStyles,function(t){i+=t+"\r\n"}),s.dom.addStyle(i)),B(s.contentCSS,function(t){s.loadedCSS[t]||(s.dom.loadCSS(t),s.loadedCSS[t]=!0)}),p.auto_focus&&x.setEditorTimeout(s,function(){var t;t=p.auto_focus===!0?s:s.editorManager.get(p.auto_focus),t.destroyed||t.focus()},100),f=g=n=null},focus:function(t){function e(t){return o.dom.getParent(t,function(t){return"true"===o.dom.getContentEditable(t)})}var n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc(),u=o.getBody();if(!t){if(n=a.getRng(),n.item&&(i=n.item(0)),o.quirks.refreshContentEditable(),r=e(a.getNode()),o.$.contains(u,r))return r.focus(),a.normalize(),void o.editorManager.setActive(o);if(s||(C.opera||o.getBody().focus(),o.getWin().focus()),U||s){if(u.setActive)try{u.setActive()}catch(c){u.focus()}else u.focus();s&&a.normalize()}i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())}o.editorManager.setActive(o)},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=i.replace(/\.\w+$/,""),e=e?j(e):0,i=j(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",n=this.editorManager.i18n;return t?(t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"}),this.editorManager.translate(t)):""},getLang:function(t,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(n!==e?n:"{#"+t+"}")},getParam:function(t,e,n){var i,r=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof r?B(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(t){t=t.split("="),t.length>1?i[z(t[0])]=z(t[1]):i[z(t[0])]=z(t)}):i=r,i):r},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),n.buttons=n.buttons||{},e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return M.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:A.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(N.show(t.getContainer()),N.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(W&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(N.hide(t.getContainer()),N.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var n,i=this,r=i.getElement();return r?(t=t||{},t.load=!0,n=i.setContent(r.value!==e?r.value:r.innerHTML,t),t.element=r,t.no_events||i.fire("LoadContent",t),t.element=r=null,n):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"==t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=N.getParent(i.id,"form"))&&B(n.elements,function(t){return t.name==i.id?(t.value=e,!1):void 0})),t.element=r=null,t.set_dirty!==!1&&i.setDirty(!1),e},setContent:function(t,e){var n,i,r=this,o=r.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||r.fire("BeforeSetContent",e),t=e.content,0===t.length||/^\s+$/.test(t)?(i=W&&11>W?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?t="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(t="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(t=i,t=r.dom.createHTML(n,r.settings.forced_root_block_attrs,t)):W||t||(t='<br data-mce-bogus="1">'),r.dom.setHTML(o,t),r.fire("SetContent",e)):("raw"!==e.format&&(t=new s({validate:r.validate},r.schema).serialize(r.parser.parse(t,{isRootContent:!0}))),e.content=z(t),r.dom.setHTML(o,e.content),e.no_events||r.fire("SetContent",e)),e.content},getContent:function(t){var e,n=this,i=n.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),e="raw"==t.format?k.trim(n.serializer.getTrimmedContent()):"text"==t.format?i.innerText||i.textContent:n.serializer.serialize(i,t),"text"!=t.format?t.content=z(e):t.content=e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=R({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){$.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=N.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=N.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var n,i=this,r=i.settings,o=i.dom;t=t||i.getBody(),i.hasVisual===e&&(i.hasVisual=r.visual),B(o.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",e=o.getAttrib(t,"border"),void(e&&"0"!=e||!i.hasVisual?o.removeClass(t,n):o.addClass(t,n));case"A":return void(o.getAttrib(t,"href",!1)||(e=o.getAttrib(t,"name")||t.id,n=r.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?o.addClass(t,n):o.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&N.remove(t.getElement().nextSibling),t.inline||(W&&10>W&&t.getDoc().execCommand("SelectAll",!1,null),N.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),N.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,n=this;if(!n.destroyed){if(!t&&!n.removed)return void n.remove();t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),e=n.formElement,e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),N.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},R(O.prototype,S),O}),/**
 * I18n.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/I18n",["tinymce/util/Tools"],function(t){var e={},n="en";return{setCode:function(t){t&&(n=t,this.rtl=this.data[t]?"rtl"===this.data[t]._dir:!1)},getCode:function(){return n},rtl:!1,add:function(t,n){var i=e[t];i||(e[t]=i={});for(var r in n)i[r]=n[r];this.setCode(t)},translate:function(i){function r(e){return t.is(e,"function")?Object.prototype.toString.call(e):o(e)?"":""+e}function o(e){return""===e||null===e||t.is(e,"undefined")}function a(e){return e=r(e),t.hasOwn(s,e)?r(s[e]):e}var s=e[n]||{};if(o(i))return"";if(t.is(i,"object")&&t.hasOwn(i,"raw"))return r(i.raw);if(t.is(i,"array")){var l=i.slice(1);i=a(i[0]).replace(/\{([0-9]+)\}/g,function(e,n){return t.hasOwn(l,n)?r(l[n]):e})}return a(i).replace(/{context:\w+}$/,"")},data:e}}),/**
 * FocusManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(t,e,n){function i(t){function i(){try{return document.activeElement}catch(t){return document.body}}function u(t,e){if(e&&e.startContainer){if(!t.isChildOf(e.startContainer,t.getRoot())||!t.isChildOf(e.endContainer,t.getRoot()))return;return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}}return e}function c(t,e){var n;return e.startContainer?(n=t.getDoc().createRange(),n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset)):n=e,n}function d(d){var h=d.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(t){if(t.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(e){}}):h.on("nodechange mouseup keyup",function(t){var e=i();"nodechange"==t.type&&t.selectionChange||(e&&e.id==h.id+"_ifr"&&(e=h.getBody()),h.dom.isChildOf(e,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!r&&(r=function(){var e=t.activeEditor;if(e&&e.selection){var n=e.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},s.bind(document,"selectionchange",r)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var e,n=t.focusedEditor;h.selection.lastFocusBookmark&&(e=c(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(e)),n!=h&&(n&&n.fire("blur",{focusedEditor:h}),t.setActive(h),t.focusedEditor=h,h.fire("focus",{blurredEditor:n}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){e.setEditorTimeout(h,function(){var e=t.focusedEditor;l(h,i())||e!=h||(h.fire("blur",{focusedEditor:null}),t.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),o||(o=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=u(i.dom,i.lastRng)),n==document.body||l(i,n)||t.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},s.bind(document,"focusin",o)),h.inline&&!a&&(a=function(e){var n=t.activeEditor,i=n.dom;if(n.inline&&i&&!i.isChildOf(e.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},s.bind(document,"mouseup",a))}function h(e){t.focusedEditor==e.editor&&(t.focusedEditor=null),t.activeEditor||(s.unbind(document,"selectionchange",r),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),r=o=a=null)}t.on("AddEditor",d),t.on("RemoveEditor",h)}var r,o,a,s=t.DOM,l=function(t,e){var n=t?t.settings.custom_ui_selector:"",r=s.getParent(e,function(e){return i.isEditorUIElement(e)||(n?t.dom.is(e,n):!1)});return null!==r};return i.isEditorUIElement=function(t){return-1!==t.className.toString().indexOf("mce-")},i._isUIElement=l,i}),/**
 * EditorManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager","tinymce/AddOnManager"],function(t,e,n,i,r,o,a,s,l,u,c){function d(t){b(m.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function h(t,n){n!==C&&(n?e(window).on("resize scroll",d):e(window).off("resize scroll",d),C=n)}function p(t){var e,n=m.editors;delete n[t.id];for(var i=0;i<n.length;i++)if(n[i]==t){n.splice(i,1),e=!0;break}return m.activeEditor==t&&(m.activeEditor=n[0]),m.focusedEditor==t&&(m.focusedEditor=null),e}function f(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(p(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t}var g,m,v=n.DOM,y=o.explode,b=o.each,w=o.extend,_=0,C=!1;return m={$:e,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:l,activeEditor:null,setup:function(){var t,e,n,r,o=this,a="";if(e=i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){r=s[l].src;var c=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=c.indexOf(".min")&&(a=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}!t&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(a=".min"),t=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(e).toAbsolute(t),o.documentBaseURL=e,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new u(o)},overrideDefaults:function(t){var e,n;e=t.base_url,e&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new i(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var r=t.plugin_base_urls;for(var o in r)c.PluginManager.urls[o]=r[o]},init:function(n){function i(t,e){return t.inline&&e.tagName.toLowerCase()in p}function r(t,e){window.console&&!window.test&&window.console.log(t,e)}function s(t){var e=t.id;return e||(e=t.name,e=e&&!v.get(e)?t.name:v.uniqueId(),t.setAttribute("id",e)),e}function l(t){var e=n[t];if(e)return e.apply(g,Array.prototype.slice.call(arguments,2))}function u(t,e){return e.constructor===RegExp?e.test(t.className):v.hasClass(t,e)}function c(t){var e,n=[];if(t.types)return b(t.types,function(t){n=n.concat(v.select(t.selector))}),n;if(t.selector)return v.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":e=t.elements||"",e.length>0&&b(y(e),function(t){var e;(e=v.get(t))?n.push(e):b(document.forms,function(e){b(e.elements,function(e){e.name===t&&(t="mce_editor_"+_++,v.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":b(v.select("textarea"),function(e){t.editor_deselector&&u(e,t.editor_deselector)||(!t.editor_selector||u(e,t.editor_selector))&&n.push(e)})}return n}function d(){function a(e,n,i){var r=new t(e,n,g);p.push(r),r.on("init",function(){++h===u.length&&m(p)}),r.targetElm=r.targetElm||i,r.render()}var u,h=0,p=[];return v.unbind(window,"ready",d),l("onpageload"),u=e.unique(c(n)),n.types?void b(n.types,function(t){o.each(u,function(e){return v.is(e,t.selector)?(a(s(e),w({},n,t),e),!1):!0})}):(o.each(u,function(t){f(g.get(t.id))}),u=o.grep(u,function(t){return!g.get(t.id)}),void b(u,function(t){i(n,t)?r("Could not initialize inline editor on invalid inline target element",t):a(s(t),n,t)}))}var h,p,g=this;p=o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var m=function(t){h=t};return g.settings=n,v.bind(window,"ready",d),new a(function(t){h?t(h):m=function(e){t(e)}})},get:function(t){return arguments.length?t in this.editors?this.editors[t]:null:this.editors},add:function(t){var e=this,n=e.editors;return n[t.id]=t,n.push(t),h(n,!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),g||(g=function(){e.fire("BeforeUnload")},v.bind(window,"beforeunload",g)),t},createEditor:function(e,n){return this.add(new t(e,n,this))},remove:function(t){var e,n,i=this,r=i.editors;{if(t)return"string"==typeof t?(t=t.selector||t,void b(v.select(t),function(t){n=r[t.id],n&&i.remove(n)})):(n=t,r[n.id]?(p(n)&&i.fire("RemoveEditor",{editor:n}),r.length||v.unbind(window,"beforeunload",g),n.remove(),h(r,r.length>0),n):null);for(e=r.length-1;e>=0;e--)i.remove(r[e])}},execCommand:function(e,n,i){var r=this,o=r.get(i);switch(e){case"mceAddEditor":return r.get(i)||new t(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(e,n,i):!1},triggerSave:function(){b(this.editors,function(t){t.save()})},addI18n:function(t,e){l.add(t,e)},translate:function(t){return l.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},w(m,s),m.setup(),window.tinymce=window.tinyMCE=m,m}),/**
 * LegacyInput.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var n=e.each,i=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){n(e,function(e,n){e&&s.setStyle(t,n,e)}),s.rename(t,"span")}function r(t){s=e.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",t.node),function(t){o[t.nodeName.toLowerCase()](s,t)})}var o,a,s,l=e.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(e,n){t(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===e.settings.schema&&t(i,{textDecoration:"underline"})},strike:function(e,n){t(n,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",r))})})}),/**
 * XHR.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(t,e){var n={send:function(t){function i(){!t.async||4==r.readyState||o++>1e4?(t.success&&1e4>o&&200==r.status?t.success.call(t.success_scope,""+r.responseText,r,t):t.error&&t.error.call(t.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,t),r=null):setTimeout(i,10)}var r,o=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async===!1?!1:!0,t.data=t.data||"",n.fire("beforeInitialize",{settings:t}),r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(t.content_type),r.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(r.withCredentials=!0),t.content_type&&r.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&e.each(t.requestheaders,function(t){r.setRequestHeader(t.key,t.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:t}).xhr,r.send(t.data),!t.async)return i();setTimeout(i,10)}}};return e.extend(n,t),n}),/**
 * JSON.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSON",[],function(){function t(e,n){var i,r,o,a;if(n=n||'"',null===e)return"null";if(o=typeof e,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e),i+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+n;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(i>0?",":"")+t(e[i],n);return r+"]"}r="{";for(a in e)e.hasOwnProperty(a)&&(r+="function"!=typeof e[a]?(r.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return r+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),/**
 * JSONRequest.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,n){function i(t){this.settings=r({},t),this.count=0}var r=n.extend;return i.sendRPC=function(t){return(new i).send(t)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(e,r){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,r):o.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},i}),/**
 * JSONP.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(n){var i=this,r=t.DOM,o=n.count!==e?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(t){r.remove(a),delete i.callbacks[o],n.callback(t)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),/**
 * LocalStorage.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/LocalStorage",[],function(){function t(){s=[];for(var t in a)s.push(t);r.length=s.length}function n(){function n(t){var n,i;return i=t!==e?c+t:r.indexOf(",",c),-1===i||i>r.length?null:(n=r.substring(c,i),c=i+1,n)}var i,r,s,c=0;if(a={},u){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);t()}}function i(){var e,n="";if(u){for(var i in a)e=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;o.setAttribute(l,n);try{o.save(l)}catch(r){}t()}}var r,o,a,s,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l="tinymce",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior("#default#userData"),r={key:function(t){return s[t]},getItem:function(t){return t in a?a[t]:null},setItem:function(t,e){a[t]=""+e,i()},removeItem:function(t){delete a[t],i()},clear:function(){a={},i()}},n(),r}),/**
 * Compat.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,n,i,r,o){var a=window.tinymce;return a.DOM=t.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=e.Event,r.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(t){a[t]=r[t]}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){a[t]=o[t.substr(2).toLowerCase()]}),{}}),/**
 * Layout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,n,i,r,o=this,a=o.settings;e=a.firstControlClass,n=a.lastControlClass,t.each(function(t){t.classes.remove(e).remove(n).add(a.controlClass),t.visible()&&(i||(i=t),r=t)}),i&&i.classes.add(e),r&&r.classes.add(n)},renderHtml:function(t){var e=this,n="";return e.applyClasses(t.items()),t.items().each(function(t){n+=t.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),/**
 * AbsoluteLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),/**
 * Button.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",function(t){t.preventDefault()}),n.on("touchstart",function(t){n.fire("click",t),t.preventDefault()}),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),a="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(o)+"</span>"),r=r?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+"</button></div>"},bindStates:function(){function t(t){var r=n("span."+i,e.getEl());t?(r[0]||(n("button:first",e.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,e.getEl())),r.html(e.encode(t))):r.remove(),e.classes.toggle("btn-has-text",!!t)}var e=this,n=e.$,i=e.classPrefix+"txt";return e.state.on("change:text",function(e){t(e.value)}),e.state.on("change:icon",function(n){var i=n.value,r=e.classPrefix;e.settings.icon=i,i=i?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,a=o.getElementsByTagName("i")[0];i?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=i):a&&o.removeChild(a),t(e.state.get("text"))}),e._super()}})}),/**
 * ButtonGroup.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this,e=t._layout;return t.classes.add("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),/**
 * Checkbox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+e+'-al" class="'+n+'label">'+t.encode(t.state.get("text"))+"</span></div>"},bindStates:function(){function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}var e=this;return e.state.on("change:text",function(t){e.getEl("al").firstChild.data=e.translate(t.value)}),e.state.on("change:checked change:value",function(n){e.fire("change"),t(n.value)}),e.state.on("change:icon",function(t){var n=t.value,i=e.classPrefix;if("undefined"==typeof n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),e.state.get("checked")&&t(!0),e._super()}})}),/**
 * ComboBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/VK","tinymce/util/Tools"],function(t,e,n,i,r,o){return t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",function(n){var r=n.target,o=e.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(e.fire("action"),t.menu&&(e.showMenu(),n.aria&&e.menu.items()[0].focus())),r=r.parentNode}),e.on("keydown",function(t){var n;13==t.keyCode&&"INPUT"===t.target.nodeName&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(n=t,!1):void 0}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){if("INPUT"==t.target.nodeName){var n=e.state.get("value"),i=t.target.value;i!==n&&(e.state.set("value",i),e.fire("autocomplete",t))}}),e.on("mouseover",function(t){var n=e.tooltip().moveTo(-65535);if(e.statusLevel()&&-1!==t.target.className.indexOf(e.classPrefix+"status")){var i=e.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(t.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==r),n.classes.toggle("tooltip-nw","bc-tl"==r),n.classes.toggle("tooltip-ne","bc-tr"==r),n.moveRel(t.target,r)}})},statusLevel:function(t){return arguments.length>0&&this.state.set("statusLevel",t),this.state.get("statusLevel")},statusMessage:function(t){return arguments.length>0&&this.state.set("statusMessage",t),this.state.get("statusMessage")},showMenu:function(){var t,n=this,i=n.settings;n.menu||(t=i.menu||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control===n.menu&&n.focus()}),n.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==n.value())})}).fire("show"),n.menu.on("select",function(t){n.value(t.control.value())}),n.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,r=this,o=r.getEl(),a=r.getEl("open"),s=r.layoutRect(),l=0,u=o.firstChild;r.statusLevel()&&"none"!==r.statusLevel()&&(l=parseInt(n.getRuntimeStyle(u,"padding-right"),10)-parseInt(n.getRuntimeStyle(u,"padding-left"),10)),t=a?s.w-n.getSize(a).width-10:s.w-10;var c=document;return c.all&&(!c.documentMode||c.documentMode<=8)&&(e=r.layoutRect().h-2+"px"),i(u).css({width:t-l,lineHeight:e}),r._super(),r},postRender:function(){var t=this;return i(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var t,e,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="",u="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),u='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(l+=' disabled="disabled"'),t=r.icon,t&&"caret"!=t&&(t=o+"ico "+o+"i-"+r.icon),e=n.state.get("text"),(t||e)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+o+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+u+s+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(t,n){var i=this;if(0===t.length)return void i.hideMenu();var r=function(t,e){return function(){i.fire("selectitem",{title:e,value:t})}};i.menu?i.menu.items().remove():i.menu=e.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(i).renderTo(),o.each(t,function(t){i.menu.add({text:t.title,url:t.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:r(t.value,t.title)})}),i.menu.renderNew(),i.hideMenu(),i.menu.on("cancel",function(t){t.control.parent()===i.menu&&(t.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()});var a=i.layoutRect().w;i.menu.layoutRect({w:a,minW:0,maxW:a}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var t=this;t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t.state.on("change:statusLevel",function(e){var i=t.getEl("status"),r=t.classPrefix,o=e.value;n.css(i,"display","none"===o?"none":""),n.toggleClass(i,r+"i-checkmark","ok"===o),n.toggleClass(i,r+"i-warning","warn"===o),n.toggleClass(i,r+"i-error","error"===o),t.classes.toggle("has-status","none"!==o),t.repaint()}),n.on(t.getEl("status"),"mouseleave",function(){t.tooltip().hide()}),t.on("cancel",function(e){t.menu&&t.menu.visible()&&(e.stopPropagation(),t.hideMenu())});var e=function(t,e){e&&e.items().length>0&&e.items().eq(t)[0].focus()};return t.on("keydown",function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===r.DOWN?(n.preventDefault(),t.fire("autocomplete"),e(0,t.menu)):i===r.UP&&(n.preventDefault(),e(-1,t.menu)))}),t._super()},remove:function(){i(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),/**
 * ColorBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(t){var e=this.getEl("open"),n=e?e.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=t}catch(i){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),/**
 * PanelButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,n=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,t.panel=new e(i).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),n.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),/**
 * ColorButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({init:function(t){this._super(t),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.state.get("text"),r=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"",o=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"",a="";return i&&(t.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+t.encode(i)+"</span>"),'<div id="'+e+'" class="'+t.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=t||n.getParent(i.target,"."+t.classPrefix+"open")||(i.stopImmediatePropagation(),e.call(t,i))}),delete t.settings.onclick,t._super()}})}),/**
 * Color.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Color",[],function(){function t(t){function r(t,r,o){var a,s,l,u,c,d;return a=0,s=0,l=0,t/=255,r/=255,o/=255,c=e(t,e(r,o)),d=n(t,n(r,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=t==c?r-o:o==c?t-r:o-t,a=t==c?3:o==c?1:5,a=60*(a-u/(d-c)),s=(d-c)/d,l=d,{h:i(a),s:i(100*s),v:i(100*l)})}function o(t,r,o){var a,s,l,u;if(t=(parseInt(t,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=n(0,e(r,1)),o=n(0,e(o,1)),0===r)return void(d=h=p=i(255*o));switch(a=t/60,s=o*r,l=s*(1-Math.abs(a%2-1)),u=o-s,Math.floor(a)){case 0:d=s,h=l,p=0;break;case 1:d=l,h=s,p=0;break;case 2:d=0,h=s,p=l;break;case 3:d=0,h=l,p=s;break;case 4:d=l,h=0,p=s;break;case 5:d=s,h=0,p=l;break;default:d=h=p=0}d=i(255*(d+u)),h=i(255*(h+u)),p=i(255*(p+u))}function a(){function t(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+t(d)+t(h)+t(p)}function s(){return{r:d,g:h,b:p}}function l(){return r(d,h,p)}function u(t){var e;return"object"==typeof t?"r"in t?(d=t.r,h=t.g,p=t.b):"v"in t&&o(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(d=parseInt(e[1],10),h=parseInt(e[2],10),p=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(d=parseInt(e[1],16),h=parseInt(e[2],16),p=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(d=parseInt(e[1]+e[1],16),h=parseInt(e[2]+e[2],16),p=parseInt(e[3]+e[3],16)),d=0>d?0:d>255?255:d,h=0>h?0:h>255?255:h,p=0>p?0:p>255?255:p,c}var c=this,d=0,h=0,p=0;t&&u(t),c.toRgb=s,c.toHsv=l,c.toHex=a,c.parse=u}var e=Math.min,n=Math.max,i=Math.round;return t}),/**
 * ColorPicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(t,e,n,i){return t.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){function t(t,e){var i,r,o=n.getPos(t);return i=e.pageX-o.x,r=e.pageY-o.y,i=Math.max(0,Math.min(i/t.clientWidth,1)),r=Math.max(0,Math.min(r/t.clientHeight,1)),{x:i,y:r}}function r(t,e){var r=(360-t.h)/360;n.css(u,{top:100*r+"%"}),e||n.css(d,{left:t.s+"%",top:100-t.v+"%"}),c.style.background=new i({s:100,v:100,h:t.h}).toHex(),h.color().parse({s:t.s,v:t.v,h:t.h})}function o(e){var n;n=t(c,e),s.s=100*n.x,s.v=100*(1-n.y),r(s),h.fire("change")}function a(e){var n;n=t(l,e),s=p.toHsv(),s.h=360*(1-n.y),r(s,!0),h.fire("change")}var s,l,u,c,d,h=this,p=h.color();l=h.getEl("h"),u=h.getEl("hp"),c=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){s=p.toHsv(),r(s)},h._super(),h._svdraghelper=new e(h._id+"-sv",{start:o,drag:o}),h._hdraghelper=new e(h._id+"-h",{start:a,drag:a}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;return arguments.length?(e.color().parse(t),void(e._rendered&&e._repaint())):e.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function t(){var t,e,n,i,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),t=0,e=i.length-1;e>t;t++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/e+"%;"+n+i[t]+",endColorstr="+i[t+1]+");-ms-"+n+i[t]+",endColorstr="+i[t+1]+')"></div>';return a}var e,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return e='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+a+'">'+t()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),/**
 * Path.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Path",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;t.delimiter||(t.delimiter=""),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",function(t){var n,i=t.target;(n=i.getAttribute("data-index"))&&e.fire("select",{value:e.row()[n],index:n})}),e.row(e.settings.row)},focus:function(){var t=this;return t.getEl().firstChild.focus(),t},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classes+'">'+t._getDataPathHtml(t.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(t){var e,n,i=this,r=t||[],o="",a=i.classPrefix;for(e=0,n=r.length;n>e;e++)o+=(e>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(e==n-1?" "+a+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+i._id+"-"+e+'" aria-level="'+(e+1)+'">'+r[e].name+"</div>";return o||(o='<div class="'+a+'path-item"></div>'),o}})}),/**
 * ElementPath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(t){return t.extend({postRender:function(){function t(t){if(1===t.nodeType){if("BR"==t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}var e=this,n=e.settings.editor;return n.settings.elementpath!==!1&&(e.on("select",function(t){n.focus(),n.selection.select(this.row()[t.index].element),n.nodeChanged()}),n.on("nodeChange",function(i){for(var r=[],o=i.parents,a=o.length;a--;)if(1==o[a].nodeType&&!t(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}e.row(r)})),e._super()}})}),/**
 * FormItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.classes.add("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+n+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),/**
 * Form.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(t,e,n){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,i=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&(r=new e(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},t.settings.formItemDefaults)),r.type="formitem",i.aria("labelledby",i._id+"-l"),"undefined"==typeof i.settings.flex&&(i.settings.flex=1),t.replace(i,r),r.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.fromJSON(t.settings.data)},bindStates:function(){function t(){var t,n,i,r=0,o=[];if(e.settings.labelGapCalc!==!1)for(i="children"==e.settings.labelGapCalc?e.find("formitem"):e.items(),i.filter("formitem").each(function(t){var e=t.items()[0],n=e.getEl().clientWidth;r=n>r?n:r,o.push(e)}),n=e.settings.labelGap||0,t=o.length;t--;)o[t].settings.minWidth=r+n}var e=this;e._super(),e.on("show",t),t()}})}),/**
 * FieldSet.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+n+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></fieldset>"}})}),/**
 * LinkTargets.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/content/LinkTargets",["tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Uuid","tinymce/util/Tools","tinymce/dom/NodeType"],function(t,e,n,i,r,o){var a=r.trim,s=function(t,e,n,i,r){return{type:t,title:e,url:n,level:i,attach:r}},l=function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return o.isContentEditableTrue(t)}return!1},u=function(e,n){return t.DOM.select(e,n)},c=function(t){return t.innerText||t.textContent},d=function(t){return t.id?t.id:i.uuid("h")},h=function(t){return t&&"A"===t.nodeName&&(t.id||t.name)},p=function(t){return h(t)&&g(t)},f=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},g=function(t){return l(t)&&!o.isContentEditableFalse(t)},m=function(t){return f(t)&&g(t)},v=function(t){return f(t)?parseInt(t.nodeName.substr(1),10):0},y=function(t){var e=d(t),n=function(){t.id=e};return s("header",c(t),"#"+e,v(t),n)},b=function(t){var n=t.id||t.name,i=c(t);return s("anchor",i?i:"#"+n,"#"+n,0,e.noop)},w=function(t){return n.map(n.filter(t,m),y)},_=function(t){return n.map(n.filter(t,p),b)},C=function(t){var e=u("h1,h2,h3,h4,h5,h6,a:not([href])",t);return e},k=function(t){return a(t.title).length>0},x=function(t){var e=C(t);return n.filter(w(e).concat(_(e)),k)};return{find:x}}),/**
 * FilePicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/VK","tinymce/content/LinkTargets"],function(t,e,n,i,r,o){var a={},s=5,l=function(t){return{title:t.title,value:{title:{raw:t.title},url:t.url,attach:t.attach}}},u=function(t){return e.map(t,l)},c=function(t,e){return{title:t,value:{title:t,url:e,attach:i.noop}}},d=function(t,e){var i=n.find(e,function(e){return e.url===t});return!i},h=function(t,e,n){var i=e in t?t[e]:n;return i===!1?null:i},p=function(t,r,o,s){var l={title:"-"},p=function(t){var a=n.filter(t[o],function(t){return d(t,r)});return e.map(a,function(t){return{title:t,value:{title:t,url:t,attach:i.noop}}})},f=function(t){var e=n.filter(r,function(e){return e.type==t});return u(e)},m=function(){var t=f("anchor"),e=h(s,"anchor_top","#top"),n=h(s,"anchor_bottom","#bottom");return null!==e&&t.unshift(c("<top>",e)),null!==n&&t.push(c("<bottom>",n)),t},v=function(t){return n.reduce(t,function(t,e){var n=0===t.length||0===e.length;return n?t.concat(e):t.concat(l,e)},[])};return s.typeahead_urls===!1?[]:"file"===o?v([g(t,p(a)),g(t,f("header")),g(t,m())]):g(t,p(a))},f=function(t,e){var i=a[e];/^https?/.test(t)&&(i?-1===n.indexOf(i,t)&&(a[e]=i.slice(0,s).concat(t)):a[e]=[t])},g=function(t,n){var i=t.toLowerCase(),r=e.grep(n,function(t){return-1!==t.title.toLowerCase().indexOf(i)});return 1===r.length&&r[0].title===t?[]:r},m=function(t){var e=t.title;return e.raw?e.raw:e},v=function(t,e,n,i){var r=function(r){var a=o.find(n),s=p(r,a,i,e);t.showAutoComplete(s,r)};t.on("autocomplete",function(){r(t.value())}),t.on("selectitem",function(e){var n=e.value;t.value(n.url);var r=m(n);"image"===i?t.fire("change",{meta:{alt:r,attach:n.attach}}):t.fire("change",{meta:{text:r,attach:n.attach}}),t.focus()}),t.on("click",function(e){0===t.value().length&&"INPUT"===e.target.nodeName&&r("")}),t.on("PostRender",function(){t.getRoot().on("submit",function(e){e.isDefaultPrevented()||f(t.value(),i)})})},y=function(t){var e=t.status,n=t.message;return"valid"===e?{status:"ok",message:n}:"unknown"===e?{status:"warn",message:n}:"invalid"===e?{status:"warn",message:n}:{status:"none",message:""}},b=function(t,e,n){var i=e.filepicker_validator_handler;if(i){var r=function(e){return 0===e.length?void t.statusLevel("none"):void i({url:e,type:n},function(e){var n=y(e);t.statusMessage(n.message),t.statusLevel(n.status)})};t.state.on("change:value",function(t){r(t.value)})}};return t.extend({init:function(t){var n,i,r,o=this,a=tinymce.activeEditor,s=a.settings,l=t.filetype;t.spellcheck=!1,r=s.file_picker_types||s.file_browser_callback_types,r&&(r=e.makeMap(r,/[, ]/)),(!r||r[l])&&(i=s.file_picker_callback,!i||r&&!r[l]?(i=s.file_browser_callback,!i||r&&!r[l]||(n=function(){i(o.getEl("inp").id,o.value(),l,window)})):n=function(){var t=o.fire("beforecall").meta;t=e.extend({filetype:l},t),i.call(a,function(t,e){o.value(t).fire("change",{meta:e})},o.value(),t)}),n&&(t.icon="browse",t.onaction=n),o._super(t),v(o,s,a.getBody(),l),b(o,s,l)}})}),/**
 * FitLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox;t.items().filter(":visible").each(function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()})}})}),/**
 * FlexLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A,M,P,O,N,L,I,R,B,H=[],F=Math.max,z=Math.min;for(i=t.items().filter(":visible"),r=t.layoutRect(),o=t.paddingBox,a=t.settings,h=t.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=t.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,("row-reversed"==h||"column-reverse"==h)&&(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?(S="y",k="h",x="minH",$="maxH",T="innerH",D="top",E="deltaH",A="contentH",L="left",O="w",M="x",P="innerW",N="minW",I="right",R="deltaW",B="contentW"):(S="x",k="w",x="minW",$="maxW",T="innerW",D="left",E="deltaW",A="contentW",L="top",O="h",M="y",P="innerH",N="minH",I="bottom",R="deltaH",B="contentH"),d=r[T]-o[D]-o[D],C=c=0,e=0,n=i.length;n>e;e++)p=i[e],f=p.layoutRect(),g=p.settings,m=g.flex,d-=n-1>e?u:0,m>0&&(c+=m,f[$]&&H.push(p),f.flex=m),d-=f[x],v=o[L]+f[N]+o[I],v>C&&(C=v);if(w={},0>d?w[x]=r[x]-d+r[E]:w[x]=r[T]-d+r[E],w[N]=C+r[R],w[A]=r[T]-d,w[B]=C,w.minW=z(w.minW,r.maxW),w.minH=z(w.minH,r.maxH),w.minW=F(w.minW,r.startMinWidth),w.minH=F(w.minH,r.startMinHeight),!r.autoResize||w.minW==r.minW&&w.minH==r.minH){for(b=d/c,e=0,n=H.length;n>e;e++)p=H[e],f=p.layoutRect(),y=f[$],v=f[x]+f.flex*b,v>y?(d-=f[$]-f[x],c-=f.flex,f.flex=0,f.maxFlexSize=y):f.maxFlexSize=0;for(b=d/c,_=o[D],w={},0===c&&("end"==l?_=d+o[D]:"center"==l?(_=Math.round(r[T]/2-(r[T]-d)/2)+o[D],0>_&&(_=o[D])):"justify"==l&&(_=o[D],u=Math.floor(d/(i.length-1)))),w[M]=o[L],e=0,n=i.length;n>e;e++)p=i[e],f=p.layoutRect(),v=f.maxFlexSize||f[x],"center"===s?w[M]=Math.round(r[P]/2-f[O]/2):"stretch"===s?(w[O]=F(f[N]||0,r[P]-o[L]-o[I]),w[M]=o[L]):"end"===s&&(w[M]=r[P]-f[O]-o.top),f.flex>0&&(v+=f.flex*b),w[k]=v,w[S]=_,p.layoutRect(w),p.recalc&&p.recalc(),_+=v+u}else if(w.w=w.minW,w.h=w.minH,t.layoutRect(w),this.recalc(t),null===t._lastRect){var j=t.parent();j&&(j._lastRect=null,j.recalc())}}})}),/**
 * FlowLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})},isNative:function(){return!0}})}),/**
 * FontInfo.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(t){var n=function(t,e,n){for(;n!==e;){if(n.style[t])return n.style[t];n=n.parentNode}return""},i=function(t){return/[0-9.]+px$/.test(t)?Math.round(72*parseInt(t,10)/96)+"pt":t},r=function(t){return t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},o=function(e,n){return t.DOM.getStyle(n,e,!0)},a=function(t,e){var i=n("fontSize",t,e);return""!==i?i:o("fontSize",e)},s=function(t,i){var a=n("fontFamily",t,i),s=""!==a?a:o("fontFamily",i);return s!==e?r(s):""};return{getFontSize:a,getFontFamily:s,toPt:i}}),/**
 * FormatControls.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/util/Arr","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env","tinymce/fmt/FontInfo"],function(t,e,n,i,r,o,a,s,l){function u(t){t.settings.ui_container&&(s.container=o.DOM.select(t.settings.ui_container)[0])}function c(e){e.on("ScriptsLoaded",function(){e.rtl&&(t.rtl=!0)})}function d(t){function e(e,n){return function(){var i=this;t.on("nodeChange",function(r){var o=t.formatter,a=null;h(r.parents,function(t){return h(e,function(e){return n?o.matchNode(t,n,{value:e.value})&&(a=e.value):o.matchNode(t,e.value)&&(a=e.value),a?!1:void 0}),a?!1:void 0}),i.value(a)})}}function r(e){return function(){var n=this,i=function(t){return t?t.split(",")[0]:""};t.on("nodeChange",function(r){var o,a=null;o=l.getFontFamily(t.getBody(),r.element),h(e,function(t){t.value.toLowerCase()===o.toLowerCase()&&(a=t.value)}),h(e,function(t){a||i(t.value).toLowerCase()!==i(o).toLowerCase()||(a=t.value)}),n.value(a),!a&&o&&n.text(i(o))})}}function o(e){return function(){var n=this;t.on("nodeChange",function(i){var r,o,a=null;r=l.getFontSize(t.getBody(),i.element),o=l.toPt(r),h(e,function(t){t.value===r?a=r:t.value===o&&(a=o)}),n.value(a),a||n.text(o)})}}function a(t){t=t.replace(/;$/,"").split(";");for(var e=t.length;e--;)t[e]=t[e].split("=");return t}function s(){function e(t){var n=[];if(t)return h(t,function(t){var o={text:t.title,icon:t.icon};if(t.items)o.menu=e(t.items);else{var a=t.format||"custom"+i++;t.format||(t.name=a,r.push(t)),o.format=a,o.cmd=t.cmd}n.push(o)}),n}function n(){var n;return n=e(t.settings.style_formats_merge?t.settings.style_formats?o.concat(t.settings.style_formats):o:t.settings.style_formats||o)}var i=0,r=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return t.on("init",function(){h(r,function(e){t.formatter.register(e.name,e)})}),{type:"menu",items:n(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?t.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var e=this;e.parent().on("show",function(){var n,i;n=e.settings.format,n&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),i=e.settings.cmd,i&&e.active(t.queryCommandState(i))})},onclick:function(){this.settings.format&&f(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}function u(e){return function(){var n=this;t.formatter?t.formatter.formatChanged(e,function(t){n.active(t)}):t.on("init",function(){t.formatter.formatChanged(e,function(t){n.active(t)})})}}function c(e){return function(){function n(){var n="redo"==e?"hasRedo":"hasUndo";return t.undoManager?t.undoManager[n]():!1}var i=this;i.disabled(!n()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(t.readonly||!n())})}}function d(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(t.hasVisual)}function f(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}function g(e){var n=e.length;return i.each(e,function(e){e.menu&&(e.hidden=0===g(e.menu));var i=e.format;i&&(e.hidden=!t.formatter.canApply(i)),e.hidden&&n--}),n}function m(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(m(e.menu)>0),!e.menu&&e.settings.menu&&e.visible(g(e.settings.menu)>0);var i=e.settings.format;i&&e.visible(t.formatter.canApply(i)),e.visible()||n--}),n}var v;v=s(),h({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){t.addButton(n,{tooltip:e,onPostRender:u(n),onclick:function(){f(n)}})}),h({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})}),h({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:u(n)})});var y=function(t){var e=t;return e.length>0&&"-"===e[0].text&&(e=e.slice(1)),e.length>0&&"-"===e[e.length-1].text&&(e=e.slice(0,e.length-1)),e},b=function(e){var n,r;if("string"==typeof e)r=e.split(" ");else if(i.isArray(e))return p(i.map(e,b));return n=i.grep(r,function(e){return"|"===e||e in t.menuItems}),i.map(n,function(e){return"|"===e?{text:"-"}:t.menuItems[e]})},w=function(e){var n=[{text:"-"}],r=i.grep(t.menuItems,function(t){return t.context===e});return i.each(r,function(t){"before"==t.separator&&n.push({text:"|"}),t.prependToContext?n.unshift(t):n.push(t),"after"==t.separator&&n.push({text:"|"})}),n},_=function(t){return y(t.insert_button_items?b(t.insert_button_items):w("insert"))};t.addButton("undo",{tooltip:"Undo",onPostRender:c("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:c("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:c("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:c("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),t.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(_(t.settings)),this.menu.renderNew()}}),h({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})}),t.on("mousedown",function(){n.hideAll()}),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:v,onShowMenu:function(){t.settings.style_formats_autohide&&m(this.menu)}}),t.addButton("formatselect",function(){var n=[],i=a(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return h(i,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})}),{type:"listbox",text:i[0][0],values:n,fixedWidth:!0,onselect:f,onPostRender:e(n)}}),t.addButton("fontselect",function(){var e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],i=a(t.settings.font_formats||e);return h(i,function(t){n.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:r(n),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}),t.addButton("fontsizeselect",function(){var e=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",i=t.settings.fontsize_formats||n;return h(i.split(" "),function(t){var n=t,i=t,r=t.split("=");r.length>1&&(n=r[0],i=r[1]),e.push({text:n,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:o(e),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addMenuItem("formats",{text:"Formats",menu:v})}var h=i.each,p=function(t){return r.reduce(t,function(t,e){return t.concat(e)},[])};a.on("AddEditor",function(t){var e=t.editor;c(e),d(e),u(e)}),t.translate=function(t){return a.translate(t)},e.tooltips=!s.iOS}),/**
 * GridLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,C,k,x,S,$,D,T,E,A=[],M=[];e=t.settings,r=t.items().filter(":visible"),o=t.layoutRect(),i=e.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,w=e.alignH||e.align,_=e.alignV||e.align,m=t.paddingBox,T="reverseRows"in e?e.reverseRows:t.isRtl(),w&&"string"==typeof w&&(w=[w]),_&&"string"==typeof _&&(_=[_]);for(d=0;i>d;d++)A.push(0);for(h=0;n>h;h++)M.push(0);for(h=0;n>h;h++)for(d=0;i>d&&(c=r[h*i+d],c);d++)u=c.layoutRect(),x=u.minW,S=u.minH,A[d]=x>A[d]?x:A[d],M[h]=S>M[h]?S:M[h];for($=o.innerW-m.left-m.right,C=0,d=0;i>d;d++)C+=A[d]+(d>0?y:0),$-=(d>0?y:0)+A[d];for(D=o.innerH-m.top-m.bottom,k=0,h=0;n>h;h++)k+=M[h]+(h>0?b:0),D-=(h>0?b:0)+M[h];if(C+=m.left+m.right,k+=m.top+m.bottom,l={},l.minW=C+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=t.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var P;P="start"==e.packV?0:D>0?Math.floor(D/n):0;var O=0,N=e.flexWidths;if(N)for(d=0;d<N.length;d++)O+=N[d];else O=i;var L=$/O;for(d=0;i>d;d++)A[d]+=N?N[d]*L:L;for(f=m.top,h=0;n>h;h++){for(p=m.left,s=M[h]+P,d=0;i>d&&(E=T?h*i+i-1-d:h*i+d,c=r[E],c);d++)g=c.settings,u=c.layoutRect(),a=Math.max(A[d],u.startMinWidth),u.x=p,u.y=f,v=g.alignH||(w?w[d]||w[0]:null),"center"==v?u.x=p+a/2-u.w/2:"right"==v?u.x=p+a-u.w:"stretch"==v&&(u.w=a),v=g.alignV||(_?_[d]||_[0]:null),"center"==v?u.y=f+s/2-u.h/2:"bottom"==v?u.y=f+s-u.h:"stretch"==v&&(u.h=s),c.layoutRect(u),p+=a+y,c.recalc&&c.recalc();f+=s+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var I=t.parent();I&&(I._lastRect=null,I.recalc())}}})}),/**
 * Iframe.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(t,e){return t.extend({renderHtml:function(){var t=this;return t.classes.add("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=t,n&&n()):e.setTimeout(function(){i.html(t)}),this}})}),/**
 * InfoBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2016 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("infobox"),e.canFocus=!1},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},help:function(t){this.state.set("help",t)},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+t.encode(t.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),/**
 * Label.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("label"),e.canFocus=!1,t.multiline&&e.classes.add("autoscroll"),t.strong&&e.classes.add("strong")},initLayoutRect:function(){var t=this,n=t._super();if(t.settings.multiline){var i=e.getSize(t.getEl());i.width>n.maxW&&(n.minW=n.maxW,t.classes.add("multiline")),t.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,e.getSize(t.getEl()).height)}return n},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},renderHtml:function(){var t,e,n=this,i=n.settings.forId;return!i&&(e=n.settings.forName)&&(t=n.getRoot().find("#"+e)[0],t&&(i=t._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),/**
 * Toolbar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.classes.add("toolbar")},postRender:function(){var t=this;return t.items().each(function(t){t.classes.add("toolbar-item")}),t._super()}})}),/**
 * MenuBar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),/**
 * MenuButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,n){function i(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var r=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),t=e.settings,e.classes.add("menubtn"),t.fixedWidth&&e.classes.add("fixed-width"),e.aria("haspopup",!0),e.state.set("menu",t.menu||e.render())},showMenu:function(t){var n,i=this;return i.menu&&i.menu.visible()&&t!==!1?i.hideMenu():(i.menu||(n=i.state.get("menu")||[],n.length?n={type:"menu",items:n}:n.type=n.type||"menu",n.renderTo?i.menu=n.parent(i).show().renderTo():i.menu=e.create(n).parent(i).renderTo(),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(t){t.control.parent()===i.menu&&(t.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()}),i.menu.on("show hide",function(t){t.control==i.menu&&i.activeMenu("show"==t.type),i.aria("expanded","show"==t.type)}).fire("show")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void i.fire("showmenu"))},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this,i=e._id,r=e.classPrefix,o=e.settings.icon,a=e.state.get("text"),s="";return t=e.settings.image,t?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(e.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+e.encode(a)+"</span>"),o=e.settings.icon?r+"ico "+r+"i-"+o:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&i(e.target,t.getEl())&&(t.focus(),t.showMenu(!e.aria),e.aria&&t.menu.items().filter(":visible")[0].focus())}),t.on("mouseenter",function(e){var n,i=e.control,o=t.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())}),n&&(i.focus(),i.showMenu()))}),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",function(){t.menu&&t.menu.remove(),t.menu=null}),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),/**
 * MenuItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e,n=this;n._super(t),t=n.settings,n.classes.add("menu-item"),t.menu&&n.classes.add("menu-item-expand"),t.preview&&n.classes.add("menu-item-preview"),e=n.state.get("text"),("-"===e||"|"===e)&&(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),t.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(t){t.preventDefault()}),t.menu&&!t.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,i=n.settings,r=n.parent();if(r.items().each(function(t){t!==n&&t.hideMenu()}),i.menu){t=n.menu,t?t.show():(t=i.menu,t.length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),t=n.menu=e.create(t).parent(n).renderTo(),t.reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(t){t.control.items&&t.control.items().each(function(t){t.active(t.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),o),t.rel=o,o="menu-sub-"+o,t.classes.remove(t._lastRel).add(o),t._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){function t(t){var e,i,r={};for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)i=r[t[e].toLowerCase()],i&&(t[e]=i);return t.join("+")}function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(t){var n=s.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(t){return"!mce~match["+t+"]mce~match!"}):t}function r(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var o=this,a=o._id,s=o.settings,l=o.classPrefix,u=o.state.get("text"),c=o.settings.icon,d="",h=s.shortcut,p=o.encode(s.url),f="";return c&&o.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),h&&(h=t(h)),c=l+"ico "+l+"i-"+(o.settings.icon||"none"),f="-"!==u?'<i class="'+c+'"'+d+"></i>":"",u=r(o.encode(i(u))),p=r(o.encode(i(p))),'<div id="'+a+'" class="'+o.classes+'" tabindex="-1">'+f+("-"!==u?'<span id="'+a+'-text" class="'+l+'text">'+u+"</span>":"")+(h?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+h+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(p?'<div class="'+l+'menu-item-link">'+p+"</div>":"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=t.getEl("text");r&&r.setAttribute("style",n)}return t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.aria&&t.menu.focus(!0)):(t.fire("select"),i.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(t){t.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return"undefined"!=typeof t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),/**
 * Throbber.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(t,e,n){return function(i,r){var o,a,s=this,l=e.classPrefix;s.show=function(e,u){function c(){o&&(t(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),u&&u())}return s.hide(),o=!0,e?a=n.setTimeout(c,e):c(),s},s.hide=function(){var t=i.lastChild;return n.clearTimeout(a),t&&-1!=t.className.indexOf("throbber")&&t.parentNode.removeChild(t),o=!1,s}}}),/**
 * Menu.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(t,e,n,i){return t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){var e=this;if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var n=t.items,r=n.length;r--;)n[r]=i.extend({},t.itemDefaults,n[r]);e._super(t),e.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("select")},load:function(){function t(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var e,i,r=this;i=r.settings.itemsFactory,i&&(r.throbber||(r.throbber=new n(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",t)),r.requestTime=e=(new Date).getTime(),r.settings.itemsFactory(function(n){return 0===n.length?void r.hide():void(r.requestTime===e&&(r.getEl().style.width="",r.getEl("body").style.width="",t(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded")))}))},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var n=e.settings;return n.icon||n.image||n.selectable?(t._hasIcons=!0,!1):void 0}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),/**
 * ListBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(t,e){return t.extend({init:function(t){function e(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||t.value===n[o].value)return r=r||n[o].text,a.state.set("value",n[o].value),!0;if(n[o].menu&&e(n[o].menu))return!0}}var n,i,r,o,a=this;a._super(t),t=a.settings,a._values=n=t.values,n&&("undefined"!=typeof t.value&&e(n),!i&&n.length>0&&(r=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",t.text||r),a.classes.add("listbox"),a.on("select",function(e){var n=e.control;o&&(e.lastControl=o),t.multiple?n.active(!n.active()):a.value(e.control.value()),o=n})},bindStates:function(){function t(t,n){t instanceof e&&t.items().each(function(t){t.hasMenus()||t.active(t.value()===n)})}function n(t,e){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===e)return t[r];if(t[r].menu&&(i=n(t[r].menu,e)))return i}}var i=this;return i.on("show",function(e){t(e.control,i.value())}),i.state.on("change:value",function(t){var e=n(i.state.get("menu"),t.value);e?i.text(e.text):i.text(i.settings.text)}),i._super()}})}),/**
 * Radio.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),/**
 * ResizeHandle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.classes.add("resizehandle"),"both"==t.settings.direction&&t.classes.add("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),/**
 * SelectBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(t){function e(t){var e="";if(t)for(var n=0;n<t.length;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e}return t.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options),e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(n=t,!1):void 0}),e.fire("submit",{data:n.toJSON()}))})},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,n=this,i="";return t=e(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(n){t.getEl().innerHTML=e(n.value)}),t._super()}})}),/**
 * Slider.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(t,e,n){function i(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}function r(t,e,n){t.setAttribute("aria-"+e,n)}function o(t,e){var i,o,a,s,l,u;"v"==t.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),u=t.getEl("handle"),i=(t.layoutRect()[o]||100)-n.getSize(u)[a],l=i*((e-t._minValue)/(t._maxValue-t._minValue))+"px",u.style[s]=l,u.style.height=t.layoutRect().h+"px",r(u,"valuenow",e),r(u,"valuetext",""+t.settings.previewFilter(e)),r(u,"valuemin",t._minValue),r(u,"valuemax",t._maxValue)}return t.extend({init:function(t){var e=this;t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),e._super(t),e.classes.add("slider"),"v"==t.orientation&&e.classes.add("vertical"),e._minValue=t.minValue||0,e._maxValue=t.maxValue||100,e._initValue=e.state.get("value")},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div id="'+e+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function t(t,e,n){return(n+t)/(e-t)}function r(t,e,n){return n*(e-t)-t}function o(e,n){function o(o){var a;a=p.value(),a=r(e,n,t(e,n,a)+.05*o),a=i(a,e,n),p.value(a),p.fire("dragstart",{value:a}),p.fire("drag",{value:a}),p.fire("dragend",{value:a})}p.on("keydown",function(t){switch(t.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}function a(t,r,o){var a,s,l,f,g;p._dragHelper=new e(p._id,{handle:p._id+"-handle",start:function(t){a=t[u],s=parseInt(p.getEl("handle").style[c],10),l=(p.layoutRect()[h]||100)-n.getSize(o)[d],p.fire("dragstart",{value:g})},drag:function(e){var n=e[u]-a;f=i(s+n,0,l),o.style[c]=f+"px",g=t+f/l*(r-t),p.value(g),p.tooltip().text(""+p.settings.previewFilter(g)).show().moveRel(o,"bc tc"),p.fire("drag",{value:g})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:g})}})}var s,l,u,c,d,h,p=this;s=p._minValue,l=p._maxValue,"v"==p.settings.orientation?(u="screenY",c="top",d="height",h="h"):(u="screenX",c="left",d="width",h="w"),p._super(),o(s,l,p.getEl("handle")),a(s,l,p.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){o(t,e.value)}),t._super()}})}),/**
 * Spacer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.classes.add("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"></div>'}})}),/**
 * SplitButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n){return t.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),t=o.firstChild,i=o.lastChild,n(t).css({width:a.w-e.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),r},activeMenu:function(t){var e=this;n(e.getEl().lastChild).toggleClass(e.classPrefix+"active",t)},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),a="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r=e.settings.icon?i+"ico "+i+"i-"+r:"",o&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(o)+"</span>"),'<div id="'+n+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(r?"":"")+e._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete t.settings.onclick,t._super()}})}),/**
 * StackLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),/**
 * TabPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),e(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+t,n=this.getEl("t"+t),n.setAttribute("aria-selected","true"),e(n).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each(function(e,n){t!=n&&e.hide()})},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,r){var o=t._id+"-t"+r;e.aria("role","tabpanel"),e.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var n=e.target.parentNode;if(n&&n.id==t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==e.target&&t.activateTab(i)})},initLayoutRect:function(){var t,e,i,r=this;e=n.getSize(r.getEl("head")).width,e=0>e?0:e,i=0,r.items().each(function(t){e=Math.max(e,t.layoutRect().minW),i=Math.max(i,t.layoutRect().minH)}),r.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=i,t.layoutRect({x:0,y:0,w:e,h:i})});var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=e,r.settings.minHeight=i+o,t=r._super(),t.deltaH+=o,t.innerH=t.h-t.deltaH,t}})}),/**
 * TextBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(n=t,!1):void 0}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){e.state.set("value",t.target.value)}))},repaint:function(){var t,e,n,i,r,o=this,a=0;t=o.getEl().style,e=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=e.h-a+"px"),n=o.borderBox,i=n.left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),e.x!==r.x&&(t.left=e.x+"px",r.x=e.x),e.y!==r.y&&(t.top=e.y+"px",r.y=e.y),e.w!==r.w&&(t.width=e.w-i+"px",r.w=e.w),e.h!==r.h&&(t.height=e.h-a+"px",r.h=e.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var t,i,r=this,o=r.settings;return t={id:r._id,hidefocus:"1"},e.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=o[e]}),r.disabled()&&(t.disabled="disabled"),o.subtype&&(t.type=o.subtype),i=n.create(o.multiline?"textarea":"input",t),i.value=r.state.get("value"),i.className=r.classes,i.outerHTML},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),/**
 * Register.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Register",[],function(){var t=this||window,e=function(){return t.tinymce};return"function"==typeof t.define&&(t.define.amd||t.define("ephox/tinymce",[],e)),"object"==typeof module&&(module.exports=window.tinymce),{}}),o(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(window),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(t,e,n,i,r,o,a){return o=o||{},o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(s,l,u,c){function d(t){t?(h(),f&&f.getBody().setAttribute("contenteditable",!1)):(h(),f&&!f.settings.readonly&&f.getDoc()&&f.getBody().setAttribute("contenteditable",!0))}function h(){f||(f=tinymce.get(u.id))}if(i.tinymce){var p,f,g=c[0],m=c[1]||null,v={debounce:!0},y=function(e){var n=e.getContent({format:v.format}).trim();n=r.trustAsHtml(n),g.$setViewValue(n),t.$$phase||s.$digest()},b=a.getUniqueId();u.$set("id",b),p={},angular.extend(p,s.$eval(u.uiTinymce));var w=function(t){var e;return function(i){n.cancel(e),e=n(function(){return function(t){t.isDirty()&&(t.save(),y(t))}(i)},t)}}(400),_={setup:function(e){e.on("init",function(){g.$render(),g.$setPristine(),g.$setUntouched(),m&&m.$setPristine()}),e.on("ExecCommand change NodeChange ObjectResized",function(){return v.debounce?void w(e):(e.save(),void y(e))}),e.on("blur",function(){l[0].blur(),g.$setTouched(),t.$$phase||s.$digest()}),e.on("remove",function(){l.remove()}),o.setup&&o.setup(e,{updateView:y}),p.setup&&p.setup(e,{updateView:y})},format:p.format||"html",selector:"#"+u.id};angular.extend(v,o,p,_),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL);var t=tinymce.init(v);t&&"function"==typeof t.then?t.then(function(){d(s.$eval(u.ngDisabled))}):d(s.$eval(u.ngDisabled))}),g.$formatters.unshift(function(t){return t?r.trustAsHtml(t):""}),g.$parsers.unshift(function(t){return t?r.getTrustedHtml(t):""}),g.$render=function(){h();var t=g.$viewValue?r.getTrustedHtml(g.$viewValue):"";f&&f.getDoc()&&(f.setContent(t),f.fire("change"))},u.$observe("disabled",d),s.$on("$tinymce:refresh",function(t,n){var i=u.id;if(angular.isUndefined(n)||n===i){var r=l.parent(),o=l.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(e(o)(s))}}),s.$on("$destroy",function(){h(),f&&(f.remove(),f=null)})}}}}]).service("uiTinymceService",[function(){var t=function(){var t="ui-tinymce",e=0,n=function(){return e++,t+"-"+e};return{getUniqueId:n}};return new t}]),/*
 * angular-socialshare
 * 2.3.11
 * 
 * A social media url and content share module for angularjs.
 * http://720kb.github.io/angular-socialshare
 * 
 * MIT license
 * Fri Jun 23 2017
 */
!function(t){"use strict";var e="socialshare",n="Socialshare",i=["facebook","facebook-messenger","sms","twitter","linkedin","google","pinterest","tumblr","reddit","stumbleupon","buffer","digg","delicious","vk","pocket","wordpress","flipboard","xing","hackernews","evernote","whatsapp","telegram","viber","skype","email","ok","weibo"],r=function(){var e=[{provider:"email",conf:{subject:"",body:"",to:"",cc:"",bcc:"",trigger:"click"}},{provider:"facebook",conf:{url:"",title:"",href:"",quote:"",hashtags:"",text:"",media:"",mobile_iframe:"",type:"",via:"",to:"",from:"",ref:"",display:"",source:"",caption:"",redirectUri:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"facebook-messenger",conf:{url:""}},{provider:"twitter",conf:{url:"",text:"",via:"",hashtags:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"linkedin",conf:{url:"",text:"",description:"",source:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"reddit",conf:{url:"",text:"",subreddit:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"vk",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"ok",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"digg",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"delicious",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"stumbleupon",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pinterest",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"google",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"tumblr",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"buffer",conf:{url:"",text:"",via:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"pocket",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"flipboard",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"hackernews",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"wordpress",conf:{url:"",text:"",media:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"xing",conf:{url:"",text:"",media:"",follow:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"evernote",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"whatsapp",conf:{url:"",text:""}},{provider:"sms",conf:{url:"",text:"",to:"",trigger:"click"}},{provider:"telegram",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"viber",conf:{url:"",text:""}},{provider:"skype",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}},{provider:"weibo",conf:{url:"",text:"",trigger:"click",popupHeight:600,popupWidth:500}}];return{configure:function(n){var r,o,a,s,l=0,u=0,c=t.injector(["ng"]).get("$log");if(n&&n.length>0)for(;l<n.length;l+=1)if(n[l].provider&&i.indexOf(n[l].provider)>-1){for(;u<e.length;u+=1)if(s=e[u],s&&s.provider&&n[l].provider===s.provider){for(r=Object.keys(s.conf),o=0;o<r.length;o+=1)a=r[o],a&&n[l].conf[a]&&(s.conf[a]=n[l].conf[a]);u=0;break}}else c.warn("Invalid provider at element "+l+" with name:"+n[l].provider)},$get:function(){return e}}},o=function(t,e){var n;e.socialshareType&&"feed"===e.socialshareType?(n="https://www.facebook.com/dialog/feed?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareRef&&(n+="&ref="+encodeURIComponent(e.socialshareRef)),e.socialshareFrom&&(n+="&from="+encodeURIComponent(e.socialshareFrom)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):e.socialshareType&&"share"===e.socialshareType?(n="https://www.facebook.com/dialog/share?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&href="+encodeURIComponent(e.socialshareUrl)),e.socialshareQuote&&(n+="&quote="+encodeURIComponent(e.socialshareQuote)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),e.socialshareMobileiframe&&(n+="&mobile_iframe="+encodeURIComponent(e.socialshareMobileiframe)),e.socialshareHashtags&&(n+="&hashtag="+encodeURIComponent(e.socialshareHashtags)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):e.socialshareType&&"send"===e.socialshareType?(n="https://www.facebook.com/dialog/send?",e.socialshareVia&&(n+="&app_id="+encodeURIComponent(e.socialshareVia)),e.socialshareRedirectUri&&(n+="&redirect_uri="+encodeURIComponent(e.socialshareRedirectUri)),e.socialshareUrl&&(n+="&link="+encodeURIComponent(e.socialshareUrl)),e.socialshareTo&&(n+="&to="+encodeURIComponent(e.socialshareTo)),e.socialshareDisplay&&(n+="&display="+encodeURIComponent(e.socialshareDisplay)),t.open(n,"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)):t.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.socialshareUrl||t.location.href),"Facebook","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},a=function(t,e){var n="mailto:";e.socialshareTo&&(n+=encodeURIComponent(e.socialshareTo)),n+="?",e.socialshareBody&&(n+="body="+encodeURIComponent(e.socialshareBody)),e.socialshareSubject&&(n+="&subject="+encodeURIComponent(e.socialshareSubject)),e.socialshareCc&&(n+="&cc="+encodeURIComponent(e.socialshareCc)),e.socialshareBcc&&(n+="&bcc="+encodeURIComponent(e.socialshareBcc)),t.self!==t.top?t.open(n,"_blank"):t.open(n,"_self")},s=function(t,e,n){var i="fb-messenger://share?link="+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i),n.attr("target","_top")},l=function(t,e){var n="https://www.twitter.com/intent/tweet?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),e.socialshareHashtags&&(n+="&hashtags="+encodeURIComponent(e.socialshareHashtags)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Twitter","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},u=function(t,e){t.open("https://plus.google.com/share?url="+encodeURIComponent(e.socialshareUrl||t.location.href),"Google+","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},c=function(t,e){var n="https://www.reddit.com/";n+=e.socialshareSubreddit?"r/"+e.socialshareSubreddit+"/submit?url=":"submit?url=",e.socialsharePopupWidth<900&&(e.socialsharePopupWidth=900),e.socialsharePopupHeight<650&&(e.socialsharePopupHeight=650),t.open(n+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Reddit","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},d=function(t,e){t.open("https://www.stumbleupon.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"StumbleUpon","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},h=function(t,e){var n="https://www.linkedin.com/shareArticle?mini=true";n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareDescription&&(n+="&summary="+encodeURIComponent(e.socialshareDescription)),e.socialshareSource&&(n+="&source="+encodeURIComponent(e.socialshareSource)),t.open(n,"Linkedin","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},p=function(t,e){t.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&media="+encodeURIComponent(e.socialshareMedia)+"&description="+encodeURIComponent(e.socialshareText),"Pinterest","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},f=function(t,e){t.open("https://www.digg.com/submit?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Digg","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},g=function(t,e){if(e.socialshareMedia){var n="https://www.tumblr.com/share/photo?source="+encodeURIComponent(e.socialshareMedia);e.socialshareText&&(n+="&caption="+encodeURIComponent(e.socialshareText)),t.open(n,"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)}else t.open("https://www.tumblr.com/share/link?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&description="+encodeURIComponent(e.socialshareText),"Tumblr","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},m=function(t,e){var n="https://www.vk.com/share.php?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),e.socialshareMedia&&(n+="&image="+encodeURIComponent(e.socialshareMedia)),e.socialshareDescription&&(n+="&description="+encodeURIComponent(e.socialshareDescription)),t.open(n,"Vk","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},v=function(t,e){t.open("http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&st.comments="+encodeURIComponent(e.socialshareText),"Ok","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},y=function(t,e){t.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(e.socialshareUrl||t.location.href)+"&title="+encodeURIComponent(e.socialshareText),"Delicious","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},b=function(t,e){var n="https://bufferapp.com/add?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)),e.socialshareVia&&(n+="&via="+encodeURIComponent(e.socialshareVia)),e.socialshareMedia&&(n+="&picture="+encodeURIComponent(e.socialshareMedia)),n+="&url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Buffer","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},w=function(t,e){var n="https://news.ycombinator.com/submitlink?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Hackernews","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},_=function(t,e){var n="https://share.flipboard.com/bookmarklet/popout?v=2&";e.socialshareText&&(n+="title="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Flipboard","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},C=function(t,e){var n="https://getpocket.com/save?";e.socialshareText&&(n+="text="+encodeURIComponent(e.socialshareText)+"&"),n+="url="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Pocket","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},k=function(t,e){var n="http://wordpress.com/press-this.php?";e.socialshareText&&(n+="t="+encodeURIComponent(e.socialshareText)+"&"),e.socialshareMedia&&(n+="i="+encodeURIComponent(e.socialshareMedia)+"&"),n+="u="+encodeURIComponent(e.socialshareUrl||t.location.href),t.open(n,"Wordpress","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},x=function(t,e){var n="";e.socialshareFollow&&(n="&follow_url="+encodeURIComponent(e.socialshareFollow)),t.open("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(e.socialshareUrl||t.location.href)+n,"Xing","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},S=function(t,e){var n="http://www.evernote.com/clip.action?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),t.open(n,"Evernote","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},$=function(t,e,n){var i="whatsapp://send?text="+encodeURIComponent(e.socialshareText)+"%0A"+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i),n.attr("target","_top")},D=function(t,e,n){e.socialshareText.indexOf("%")>=0&&$log.warn('sending sms text with "%" sign is not supported');var i,r=encodeURIComponent(e.socialshareText.replace("%","")),o=e.socialshareTo||"";e.socialshareUrl&&(r+=encodeURIComponent(e.socialshareUrl)),i="sms:"+o+"?&body="+r,n.attr("href",i),n.attr("target","_blank")},T=function(t,e,n){var i="viber://forward?text="+encodeURIComponent(e.socialshareText)+encodeURIComponent(e.socialshareUrl||t.location.href);n.attr("href",i),n.attr("target","_top")},E=function(t,e){var n="https://telegram.me/share/url?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Telegram","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},A=function(t,e){var n="https://web.skype.com/share?source=button&url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&text="+encodeURIComponent(e.socialshareText)),t.open(n,"Skype","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},M=function(t,e){var n="http://service.weibo.com/share/share.php?url="+encodeURIComponent(e.socialshareUrl||t.location.href);e.socialshareText&&(n+="&title="+encodeURIComponent(e.socialshareText)),t.open(n,"Weibo","toolbar=0,status=0,resizable=yes,width="+e.socialsharePopupWidth+",height="+e.socialsharePopupHeight+",top="+(t.innerHeight-e.socialsharePopupHeight)/2+",left="+(t.innerWidth-e.socialsharePopupWidth)/2)},P=["$window","$log",function(t,e){this.emailShare=a,this.facebookShare=o,this.twitterShare=l,this.stumbleuponShare=d,this.pinterestShare=p,this.googleShare=u,this.bufferShare=b,this.hackernewsShare=w,this.okShare=v,this.deliciousShare=y,this.pocketShare=C,this.vkShare=m,this.flipboardShare=_,this.xingShare=x,this.diggShare=f,this.linkedinShare=h,this.wordpressShare=k,this.telegramShare=E,this.redditShare=c,this.evernoteShare=S,this.tumblrShare=g,this.skypeShare=A,this.smsShare=D,this.weiboShare=M,this.share=function(n){switch(n.provider){case"email":this.emailShare(t,n.attrs);break;case"sms":this.smsShare(t,e,n.attrs);break;case"facebook":this.facebookShare(t,n.attrs);break;case"twitter":this.twitterShare(t,n.attrs);break;case"pinterest":this.pinterestShare(t,n.attrs);break;case"ok":this.okShare(t,n.attrs);break;case"vk":this.vkShare(t,n.attrs);break;case"delicious":this.deliciousShare(t,n.attrs);break;case"digg":this.diggShare(t,n.attrs);break;case"google":this.googleShare(t,n.attrs);break;case"reddit":this.redditShare(t,n.attrs);break;case"hackernews":this.hackernewsShare(t,n.attrs);break;case"skype":this.skypeShare(t,n.attrs);break;case"evernote":this.evernoteShare(t,n.attrs);break;case"pocket":this.pocketShare(t,n.attrs);break;case"tumblr":this.tumblrShare(t,n.attrs);break;case"telegram":this.telegramShare(t,n.attrs);break;case"xing":this.xingShare(t,n.attrs);break;case"buffer":this.bufferShare(t,n.attrs);break;case"stumbleupon":this.stumbleuponShare(t,n.attrs);break;case"linkedin":this.linkedinShare(t,n.attrs);break;case"wordpress":this.wordpressShare(t,n.attrs);break;case"flipboard":this.flipboardShare(t,n.attrs);break;case"weibo":this.weiboShare(t,n.attrs);break;default:return}}}],O=["$window","socialshareConf","Socialshare","$log",function(t,e,n){var r=function(r,o,a){for(var s,l=0,u=(function(){return!(a.socialshareProvider in N)||void N[a.socialshareProvider](t,a,o)});l<e.length;l+=1)if(e[l].provider===a.socialshareProvider){s=e[l];break}-1===i.indexOf(s.provider)&&n.warn("Invalid Provider Name : "+a.socialshareProvider),a.socialshareMobileiframe=a.socialshareMobileiframe||s.conf.mobile_iframe,a.socialshareQuote=a.socialshareQuote||s.conf.quote,a.socialshareTitle=a.socialshareTitle||s.conf.title,a.socialshareUrl=a.socialshareUrl||s.conf.url||s.conf.href,a.socialshareText=a.socialshareText||s.conf.text,a.socialshareMedia=a.socialshareMedia||s.conf.media,a.socialshareType=a.socialshareType||s.conf.type,a.socialshareVia=a.socialshareVia||s.conf.via,a.socialshareTo=a.socialshareTo||s.conf.to,a.socialshareFrom=a.socialshareFrom||s.conf.from,a.socialshareRef=a.socialshareRef||s.conf.ref,a.socialshareDislay=a.socialshareDislay||s.conf.display,a.socialshareSource=a.socialshareSource||s.conf.source,a.socialshareCaption=a.socialshareCaption||s.conf.caption,a.socialshareRedirectUri=a.socialshareRedirectUri||s.conf.redirectUri,a.socialshareTrigger=a.socialshareTrigger||s.conf.trigger,a.socialsharePopupHeight=a.socialsharePopupHeight||s.conf.popupHeight,a.socialsharePopupWidth=a.socialsharePopupWidth||s.conf.popupWidth,a.socialshareSubreddit=a.socialshareSubreddit||s.conf.subreddit,a.socialshareDescription=a.socialshareDescription||s.conf.description,a.socialshareFollow=a.socialshareFollow||s.conf.follow,a.socialshareHashtags=a.socialshareHashtags||s.conf.hashtags,a.socialshareBody=a.socialshareBody||s.conf.body,a.socialshareSubject=a.socialshareSubject||s.conf.subject,a.socialshareCc=a.socialshareCc||s.conf.cc,a.socialshareBcc=a.socialshareBcc||s.conf.bcc,a.socialshareTrigger?o.bind(a.socialshareTrigger,u):u()};return{restrict:"A",link:r}}],N={email:a,facebook:o,"facebook-messenger":s,twitter:l,google:u,reddit:c,stumbleupon:d,linkedin:h,pinterest:p,digg:f,tumblr:g,vk:m,ok:v,delicious:y,buffer:b,hackernews:w,flipboard:_,pocket:C,wordpress:k,xing:x,evernote:S,whatsapp:$,sms:D,telegram:E,viber:T,skype:A,weibo:M};t.module("720kb.socialshare",[]).provider(e+"Conf",r).service(n,P).directive(e,O)}(angular),angular.module("updateMeta",[]),function(){function t(t,e){function n(t,e){return"["+e+'="'+t[e]+'"]'}function i(t,e){return e.filter(function(e){return t[e]}).map(function(e){return n(t,e)}).join("")}var r=["href","charset","crossorigin","hreflang","integrity","media","methods","referrerpolicy","sizes","target","title","type"],o=["id","rel"];return{restrict:"E",scope:{rel:"@",href:"@",id:"@?",charset:"@?",crossorigin:"@?",hreflang:"@?",integrity:"@?",media:"@?",methods:"@?",referrerpolicy:"@?",sizes:"@?",target:"@?",title:"@?",type:"@?"},link:function(t,n,a){var s="link"+i(t,o);r.filter(function(e){return t[e]}).forEach(function(n){t.$watch(n,function(i,r){"undefined"!=typeof i&&e.update(s,n,t[n])})})}}}t.$inject=["$log","updateAttribute"],angular.module("updateMeta").directive("updateLink",t)}(),function(){function t(t,e){return{restrict:"E",scope:{charset:"@",name:"@",content:"@",httpEquiv:"@",scheme:"@",property:"@",itemprop:"@"},link:function(t,n,i){var r;t.name&&(r='meta[name="'+t.name+'"]'),t.httpEquiv&&(r='meta[http-equiv="'+t.httpEquiv+'"]'),t.property&&(r='meta[property="'+t.property+'"]'),t.itemprop&&(r='meta[itemprop="'+t.itemprop+'"]'),t.$watch("content",function(n,i){"undefined"!=typeof n&&e.update(r,"content",t.content)}),t.$watch("charset",function(n,i){"undefined"!=typeof n&&e.update("meta[charset]","charset",t.charset)})}}}t.$inject=["$log","updateAttribute"],angular.module("updateMeta").directive("updateMeta",t)}(),function(){function t(t){return{restrict:"E",scope:{title:"@"},link:function(t,e,n){t.$watch("title",function(t,e){"undefined"!=typeof t&&document&&(document.title=t)})}}}t.$inject=["$log"],angular.module("updateMeta").directive("updateTitle",t)}(),function(){function t(t){function e(e,n,i){if(!document)return void t.error("updateMeta: document is not available!");if(!e)return void t.error("updateMeta: please provide a selector");var r=document.querySelector(e);r&&r.setAttribute&&r.setAttribute(n,i)}return{update:e}}t.$inject=["$log"],angular.module("updateMeta").factory("updateAttribute",t)}();
//# sourceMappingURL=../maps/scripts/vendor-b4ae5f157e.js.map
